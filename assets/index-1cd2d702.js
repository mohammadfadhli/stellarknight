(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var pk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var k_={exports:{}},yh={},x_={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=Symbol.for("react.element"),gk=Symbol.for("react.portal"),vk=Symbol.for("react.fragment"),yk=Symbol.for("react.strict_mode"),wk=Symbol.for("react.profiler"),_k=Symbol.for("react.provider"),Ek=Symbol.for("react.context"),Sk=Symbol.for("react.forward_ref"),Tk=Symbol.for("react.suspense"),Ck=Symbol.for("react.memo"),Ik=Symbol.for("react.lazy"),Oy=Symbol.iterator;function kk(t){return t===null||typeof t!="object"?null:(t=Oy&&t[Oy]||t["@@iterator"],typeof t=="function"?t:null)}var b_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A_=Object.assign,N_={};function zo(t,e,n){this.props=t,this.context=e,this.refs=N_,this.updater=n||b_}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D_(){}D_.prototype=zo.prototype;function cm(t,e,n){this.props=t,this.context=e,this.refs=N_,this.updater=n||b_}var hm=cm.prototype=new D_;hm.constructor=cm;A_(hm,zo.prototype);hm.isPureReactComponent=!0;var Ly=Array.isArray,R_=Object.prototype.hasOwnProperty,dm={current:null},P_={key:!0,ref:!0,__self:!0,__source:!0};function O_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)R_.call(e,r)&&!P_.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Pl,type:t,key:s,ref:o,props:i,_owner:dm.current}}function xk(t,e){return{$$typeof:Pl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pl}function bk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var My=/\/+/g;function Fd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bk(""+t.key):e.toString(36)}function ec(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pl:case gk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fd(o,0):r,Ly(i)?(n="",t!=null&&(n=t.replace(My,"$&/")+"/"),ec(i,e,n,"",function(c){return c})):i!=null&&(fm(i)&&(i=xk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(My,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ly(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Fd(s,l);o+=ec(s,e,n,u,i)}else if(u=kk(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Fd(s,l++),o+=ec(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xu(t,e,n){if(t==null)return t;var r=[],i=0;return ec(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ak(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},tc={transition:null},Nk={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:tc,ReactCurrentOwner:dm};Ie.Children={map:xu,forEach:function(t,e,n){xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xu(t,function(){e++}),e},toArray:function(t){return xu(t,function(e){return e})||[]},only:function(t){if(!fm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=zo;Ie.Fragment=vk;Ie.Profiler=wk;Ie.PureComponent=cm;Ie.StrictMode=yk;Ie.Suspense=Tk;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=A_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)R_.call(e,u)&&!P_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Pl,type:t.type,key:i,ref:s,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:Ek,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_k,_context:t},t.Consumer=t};Ie.createElement=O_;Ie.createFactory=function(t){var e=O_.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:Sk,render:t}};Ie.isValidElement=fm;Ie.lazy=function(t){return{$$typeof:Ik,_payload:{_status:-1,_result:t},_init:Ak}};Ie.memo=function(t,e){return{$$typeof:Ck,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=tc.transition;tc.transition={};try{t()}finally{tc.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return rn.current.useCallback(t,e)};Ie.useContext=function(t){return rn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return rn.current.useEffect(t,e)};Ie.useId=function(){return rn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return rn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};Ie.useRef=function(t){return rn.current.useRef(t)};Ie.useState=function(t){return rn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return rn.current.useTransition()};Ie.version="18.2.0";x_.exports=Ie;var O=x_.exports;const Dk=mk(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk=O,Pk=Symbol.for("react.element"),Ok=Symbol.for("react.fragment"),Lk=Object.prototype.hasOwnProperty,Mk=Rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$k={key:!0,ref:!0,__self:!0,__source:!0};function L_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Lk.call(e,r)&&!$k.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Pk,type:t,key:s,ref:o,props:i,_owner:Mk.current}}yh.Fragment=Ok;yh.jsx=L_;yh.jsxs=L_;k_.exports=yh;var _=k_.exports,Lf={},M_={exports:{}},Cn={},$_={exports:{}},F_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ae){var x=q.length;q.push(ae);e:for(;0<x;){var ge=x-1>>>1,je=q[ge];if(0<i(je,ae))q[ge]=ae,q[x]=je,x=ge;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ae=q[0],x=q.pop();if(x!==ae){q[0]=x;e:for(var ge=0,je=q.length,jn=je>>>1;ge<jn;){var pt=2*(ge+1)-1,Et=q[pt],ot=pt+1,rr=q[ot];if(0>i(Et,x))ot<je&&0>i(rr,Et)?(q[ge]=rr,q[ot]=x,ge=ot):(q[ge]=Et,q[pt]=x,ge=pt);else if(ot<je&&0>i(rr,x))q[ge]=rr,q[ot]=x,ge=ot;else break e}}return ae}function i(q,ae){var x=q.sortIndex-ae.sortIndex;return x!==0?x:q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,m=null,v=3,E=!1,C=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var ae=n(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=q)r(c),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=n(c)}}function k(q){if(I=!1,w(q),!C)if(n(u)!==null)C=!0,Yt(M);else{var ae=n(c);ae!==null&&Fn(k,ae.startTime-q)}}function M(q,ae){C=!1,I&&(I=!1,p(W),W=-1),E=!0;var x=v;try{for(w(ae),m=n(u);m!==null&&(!(m.expirationTime>ae)||q&&!bt());){var ge=m.callback;if(typeof ge=="function"){m.callback=null,v=m.priorityLevel;var je=ge(m.expirationTime<=ae);ae=t.unstable_now(),typeof je=="function"?m.callback=je:m===n(u)&&r(u),w(ae)}else r(u);m=n(u)}if(m!==null)var jn=!0;else{var pt=n(c);pt!==null&&Fn(k,pt.startTime-ae),jn=!1}return jn}finally{m=null,v=x,E=!1}}var j=!1,V=null,W=-1,ie=5,me=-1;function bt(){return!(t.unstable_now()-me<ie)}function on(){if(V!==null){var q=t.unstable_now();me=q;var ae=!0;try{ae=V(!0,q)}finally{ae?an():(j=!1,V=null)}}else j=!1}var an;if(typeof y=="function")an=function(){y(on)};else if(typeof MessageChannel<"u"){var kn=new MessageChannel,xn=kn.port2;kn.port1.onmessage=on,an=function(){xn.postMessage(null)}}else an=function(){N(on,0)};function Yt(q){V=q,j||(j=!0,an())}function Fn(q,ae){W=N(function(){q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){C||E||(C=!0,Yt(M))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var x=v;v=ae;try{return q()}finally{v=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ae){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var x=v;v=q;try{return ae()}finally{v=x}},t.unstable_scheduleCallback=function(q,ae,x){var ge=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?ge+x:ge):x=ge,q){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=x+je,q={id:d++,callback:ae,priorityLevel:q,startTime:x,expirationTime:je,sortIndex:-1},x>ge?(q.sortIndex=x,e(c,q),n(u)===null&&q===n(c)&&(I?(p(W),W=-1):I=!0,Fn(k,x-ge))):(q.sortIndex=je,e(u,q),C||E||(C=!0,Yt(M))),q},t.unstable_shouldYield=bt,t.unstable_wrapCallback=function(q){var ae=v;return function(){var x=v;v=ae;try{return q.apply(this,arguments)}finally{v=x}}}})(F_);$_.exports=F_;var Fk=$_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_=O,Sn=Fk;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U_=new Set,Za={};function ks(t,e){Io(t,e),Io(t+"Capture",e)}function Io(t,e){for(Za[t]=e,t=0;t<e.length;t++)U_.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=Object.prototype.hasOwnProperty,jk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$y={},Fy={};function Uk(t){return Mf.call(Fy,t)?!0:Mf.call($y,t)?!1:jk.test(t)?Fy[t]=!0:($y[t]=!0,!1)}function Vk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zk(t,e,n,r){if(e===null||typeof e>"u"||Vk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var pm=/[\-:]([a-z])/g;function mm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pm,mm);Lt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pm,mm);Lt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pm,mm);Lt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function gm(t,e,n,r){var i=Lt.hasOwnProperty(e)?Lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zk(e,n,i,r)&&(n=null),r||i===null?Uk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=j_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),Qs=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),z_=Symbol.for("react.context"),ym=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),B_=Symbol.for("react.offscreen"),jy=Symbol.iterator;function fa(t){return t===null||typeof t!="object"?null:(t=jy&&t[jy]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,jd;function ka(t){if(jd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jd=e&&e[1]||""}return`
`+jd+t}var Ud=!1;function Vd(t,e){if(!t||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ka(t):""}function Bk(t){switch(t.tag){case 5:return ka(t.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 2:case 15:return t=Vd(t.type,!1),t;case 11:return t=Vd(t.type.render,!1),t;case 1:return t=Vd(t.type,!0),t;default:return""}}function Uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ys:return"Fragment";case Qs:return"Portal";case $f:return"Profiler";case vm:return"StrictMode";case Ff:return"Suspense";case jf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case z_:return(t.displayName||"Context")+".Consumer";case V_:return(t._context.displayName||"Context")+".Provider";case ym:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wm:return e=t.displayName||null,e!==null?e:Uf(t.type)||"Memo";case oi:e=t._payload,t=t._init;try{return Uf(t(e))}catch{}}return null}function Hk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(e);case 8:return e===vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wk(t){var e=H_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=Wk(t))}function W_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=H_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vf(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function K_(t,e){e=e.checked,e!=null&&gm(t,"checked",e,!1)}function zf(t,e){K_(t,e);var n=Ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bf(t,e.type,Ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bf(t,e,n){(e!=="number"||_c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(xa(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ai(n)}}function q_(t,e){var n=Ai(e.value),r=Ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function By(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function G_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nu,Q_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nu=Nu||document.createElement("div"),Nu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function el(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kk=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(t){Kk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$a[e]=$a[t]})});function Y_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$a.hasOwnProperty(t)&&$a[t]?(""+e).trim():e+"px"}function X_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Y_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qk=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kf(t,e){if(e){if(qk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function qf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=null;function _m(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qf=null,fo=null,po=null;function Hy(t){if(t=Ml(t)){if(typeof Qf!="function")throw Error($(280));var e=t.stateNode;e&&(e=Th(e),Qf(t.stateNode,t.type,e))}}function J_(t){fo?po?po.push(t):po=[t]:fo=t}function Z_(){if(fo){var t=fo,e=po;if(po=fo=null,Hy(t),e)for(t=0;t<e.length;t++)Hy(e[t])}}function e1(t,e){return t(e)}function t1(){}var zd=!1;function n1(t,e,n){if(zd)return t(e,n);zd=!0;try{return e1(t,e,n)}finally{zd=!1,(fo!==null||po!==null)&&(t1(),Z_())}}function tl(t,e){var n=t.stateNode;if(n===null)return null;var r=Th(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Yf=!1;if(jr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){Yf=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{Yf=!1}function Gk(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Fa=!1,Ec=null,Sc=!1,Xf=null,Qk={onError:function(t){Fa=!0,Ec=t}};function Yk(t,e,n,r,i,s,o,l,u){Fa=!1,Ec=null,Gk.apply(Qk,arguments)}function Xk(t,e,n,r,i,s,o,l,u){if(Yk.apply(this,arguments),Fa){if(Fa){var c=Ec;Fa=!1,Ec=null}else throw Error($(198));Sc||(Sc=!0,Xf=c)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wy(t){if(xs(t)!==t)throw Error($(188))}function Jk(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wy(i),t;if(s===r)return Wy(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function i1(t){return t=Jk(t),t!==null?s1(t):null}function s1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=s1(t);if(e!==null)return e;t=t.sibling}return null}var o1=Sn.unstable_scheduleCallback,Ky=Sn.unstable_cancelCallback,Zk=Sn.unstable_shouldYield,ex=Sn.unstable_requestPaint,ut=Sn.unstable_now,tx=Sn.unstable_getCurrentPriorityLevel,Em=Sn.unstable_ImmediatePriority,a1=Sn.unstable_UserBlockingPriority,Tc=Sn.unstable_NormalPriority,nx=Sn.unstable_LowPriority,l1=Sn.unstable_IdlePriority,wh=null,pr=null;function rx(t){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(wh,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:ox,ix=Math.log,sx=Math.LN2;function ox(t){return t>>>=0,t===0?32:31-(ix(t)/sx|0)|0}var Du=64,Ru=4194304;function ba(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ba(l):(s&=o,s!==0&&(r=ba(s)))}else o=n&~i,o!==0?r=ba(o):s!==0&&(r=ba(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function ax(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=ax(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Jf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u1(){var t=Du;return Du<<=1,!(Du&4194240)&&(Du=64),t}function Bd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function ux(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Sm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function c1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h1,Tm,d1,f1,p1,Zf=!1,Pu=[],vi=null,yi=null,wi=null,nl=new Map,rl=new Map,li=[],cx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qy(t,e){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function ma(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ml(e),e!==null&&Tm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hx(t,e,n,r,i){switch(e){case"focusin":return vi=ma(vi,t,e,n,r,i),!0;case"dragenter":return yi=ma(yi,t,e,n,r,i),!0;case"mouseover":return wi=ma(wi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nl.set(s,ma(nl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rl.set(s,ma(rl.get(s)||null,t,e,n,r,i)),!0}return!1}function m1(t){var e=ts(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=r1(n),e!==null){t.blockedOn=e,p1(t.priority,function(){d1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ep(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gf=r,n.target.dispatchEvent(r),Gf=null}else return e=Ml(n),e!==null&&Tm(e),t.blockedOn=n,!1;e.shift()}return!0}function Gy(t,e,n){nc(t)&&n.delete(e)}function dx(){Zf=!1,vi!==null&&nc(vi)&&(vi=null),yi!==null&&nc(yi)&&(yi=null),wi!==null&&nc(wi)&&(wi=null),nl.forEach(Gy),rl.forEach(Gy)}function ga(t,e){t.blockedOn===e&&(t.blockedOn=null,Zf||(Zf=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,dx)))}function il(t){function e(i){return ga(i,t)}if(0<Pu.length){ga(Pu[0],t);for(var n=1;n<Pu.length;n++){var r=Pu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vi!==null&&ga(vi,t),yi!==null&&ga(yi,t),wi!==null&&ga(wi,t),nl.forEach(e),rl.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)m1(n),n.blockedOn===null&&li.shift()}var mo=Qr.ReactCurrentBatchConfig,Ic=!0;function fx(t,e,n,r){var i=Le,s=mo.transition;mo.transition=null;try{Le=1,Cm(t,e,n,r)}finally{Le=i,mo.transition=s}}function px(t,e,n,r){var i=Le,s=mo.transition;mo.transition=null;try{Le=4,Cm(t,e,n,r)}finally{Le=i,mo.transition=s}}function Cm(t,e,n,r){if(Ic){var i=ep(t,e,n,r);if(i===null)Zd(t,e,r,kc,n),qy(t,r);else if(hx(i,t,e,n,r))r.stopPropagation();else if(qy(t,r),e&4&&-1<cx.indexOf(t)){for(;i!==null;){var s=Ml(i);if(s!==null&&h1(s),s=ep(t,e,n,r),s===null&&Zd(t,e,r,kc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zd(t,e,r,null,n)}}var kc=null;function ep(t,e,n,r){if(kc=null,t=_m(r),t=ts(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=r1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kc=t,null}function g1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tx()){case Em:return 1;case a1:return 4;case Tc:case nx:return 16;case l1:return 536870912;default:return 16}default:return 16}}var pi=null,Im=null,rc=null;function v1(){if(rc)return rc;var t,e=Im,n=e.length,r,i="value"in pi?pi.value:pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return rc=i.slice(t,1<r?1-r:void 0)}function ic(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ou(){return!0}function Qy(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ou:Qy,this.isPropagationStopped=Qy,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),e}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},km=In(Bo),Ll=et({},Bo,{view:0,detail:0}),mx=In(Ll),Hd,Wd,va,_h=et({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==va&&(va&&t.type==="mousemove"?(Hd=t.screenX-va.screenX,Wd=t.screenY-va.screenY):Wd=Hd=0,va=t),Hd)},movementY:function(t){return"movementY"in t?t.movementY:Wd}}),Yy=In(_h),gx=et({},_h,{dataTransfer:0}),vx=In(gx),yx=et({},Ll,{relatedTarget:0}),Kd=In(yx),wx=et({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),_x=In(wx),Ex=et({},Bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sx=In(Ex),Tx=et({},Bo,{data:0}),Xy=In(Tx),Cx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kx[t])?!!e[t]:!1}function xm(){return xx}var bx=et({},Ll,{key:function(t){if(t.key){var e=Cx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ic(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ix[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(t){return t.type==="keypress"?ic(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ic(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ax=In(bx),Nx=et({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=In(Nx),Dx=et({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),Rx=In(Dx),Px=et({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ox=In(Px),Lx=et({},_h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=In(Lx),$x=[9,13,27,32],bm=jr&&"CompositionEvent"in window,ja=null;jr&&"documentMode"in document&&(ja=document.documentMode);var Fx=jr&&"TextEvent"in window&&!ja,y1=jr&&(!bm||ja&&8<ja&&11>=ja),Zy=String.fromCharCode(32),e0=!1;function w1(t,e){switch(t){case"keyup":return $x.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xs=!1;function jx(t,e){switch(t){case"compositionend":return _1(e);case"keypress":return e.which!==32?null:(e0=!0,Zy);case"textInput":return t=e.data,t===Zy&&e0?null:t;default:return null}}function Ux(t,e){if(Xs)return t==="compositionend"||!bm&&w1(t,e)?(t=v1(),rc=Im=pi=null,Xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return y1&&e.locale!=="ko"?null:e.data;default:return null}}var Vx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vx[t.type]:e==="textarea"}function E1(t,e,n,r){J_(r),e=xc(e,"onChange"),0<e.length&&(n=new km("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,sl=null;function zx(t){R1(t,0)}function Eh(t){var e=eo(t);if(W_(e))return t}function Bx(t,e){if(t==="change")return e}var S1=!1;if(jr){var qd;if(jr){var Gd="oninput"in document;if(!Gd){var n0=document.createElement("div");n0.setAttribute("oninput","return;"),Gd=typeof n0.oninput=="function"}qd=Gd}else qd=!1;S1=qd&&(!document.documentMode||9<document.documentMode)}function r0(){Ua&&(Ua.detachEvent("onpropertychange",T1),sl=Ua=null)}function T1(t){if(t.propertyName==="value"&&Eh(sl)){var e=[];E1(e,sl,t,_m(t)),n1(zx,e)}}function Hx(t,e,n){t==="focusin"?(r0(),Ua=e,sl=n,Ua.attachEvent("onpropertychange",T1)):t==="focusout"&&r0()}function Wx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eh(sl)}function Kx(t,e){if(t==="click")return Eh(e)}function qx(t,e){if(t==="input"||t==="change")return Eh(e)}function Gx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:Gx;function ol(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mf.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function i0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s0(t,e){var n=i0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i0(n)}}function C1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function I1(){for(var t=window,e=_c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_c(t.document)}return e}function Am(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qx(t){var e=I1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&C1(n.ownerDocument.documentElement,n)){if(r!==null&&Am(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=s0(n,s);var o=s0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yx=jr&&"documentMode"in document&&11>=document.documentMode,Js=null,tp=null,Va=null,np=!1;function o0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;np||Js==null||Js!==_c(r)||(r=Js,"selectionStart"in r&&Am(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Va&&ol(Va,r)||(Va=r,r=xc(tp,"onSelect"),0<r.length&&(e=new km("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Js)))}function Lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zs={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},Qd={},k1={};jr&&(k1=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Sh(t){if(Qd[t])return Qd[t];if(!Zs[t])return t;var e=Zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k1)return Qd[t]=e[n];return t}var x1=Sh("animationend"),b1=Sh("animationiteration"),A1=Sh("animationstart"),N1=Sh("transitionend"),D1=new Map,a0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(t,e){D1.set(t,e),ks(e,[t])}for(var Yd=0;Yd<a0.length;Yd++){var Xd=a0[Yd],Xx=Xd.toLowerCase(),Jx=Xd[0].toUpperCase()+Xd.slice(1);Oi(Xx,"on"+Jx)}Oi(x1,"onAnimationEnd");Oi(b1,"onAnimationIteration");Oi(A1,"onAnimationStart");Oi("dblclick","onDoubleClick");Oi("focusin","onFocus");Oi("focusout","onBlur");Oi(N1,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function l0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Xk(r,e,void 0,t),t.currentTarget=null}function R1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;l0(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;l0(i,l,c),s=u}}}if(Sc)throw t=Xf,Sc=!1,Xf=null,t}function He(t,e){var n=e[ap];n===void 0&&(n=e[ap]=new Set);var r=t+"__bubble";n.has(r)||(P1(e,t,2,!1),n.add(r))}function Jd(t,e,n){var r=0;e&&(r|=4),P1(n,t,r,e)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function al(t){if(!t[Mu]){t[Mu]=!0,U_.forEach(function(n){n!=="selectionchange"&&(Zx.has(n)||Jd(n,!1,t),Jd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mu]||(e[Mu]=!0,Jd("selectionchange",!1,e))}}function P1(t,e,n,r){switch(g1(e)){case 1:var i=fx;break;case 4:i=px;break;default:i=Cm}n=i.bind(null,e,n,t),i=void 0,!Yf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ts(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}n1(function(){var c=s,d=_m(n),m=[];e:{var v=D1.get(t);if(v!==void 0){var E=km,C=t;switch(t){case"keypress":if(ic(n)===0)break e;case"keydown":case"keyup":E=Ax;break;case"focusin":C="focus",E=Kd;break;case"focusout":C="blur",E=Kd;break;case"beforeblur":case"afterblur":E=Kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Rx;break;case x1:case b1:case A1:E=_x;break;case N1:E=Ox;break;case"scroll":E=mx;break;case"wheel":E=Mx;break;case"copy":case"cut":case"paste":E=Sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Jy}var I=(e&4)!==0,N=!I&&t==="scroll",p=I?v!==null?v+"Capture":null:v;I=[];for(var y=c,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,p!==null&&(k=tl(y,p),k!=null&&I.push(ll(y,k,w)))),N)break;y=y.return}0<I.length&&(v=new E(v,C,null,n,d),m.push({event:v,listeners:I}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==Gf&&(C=n.relatedTarget||n.fromElement)&&(ts(C)||C[Ur]))break e;if((E||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,E?(C=n.relatedTarget||n.toElement,E=c,C=C?ts(C):null,C!==null&&(N=xs(C),C!==N||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=c),E!==C)){if(I=Yy,k="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(I=Jy,k="onPointerLeave",p="onPointerEnter",y="pointer"),N=E==null?v:eo(E),w=C==null?v:eo(C),v=new I(k,y+"leave",E,n,d),v.target=N,v.relatedTarget=w,k=null,ts(d)===c&&(I=new I(p,y+"enter",C,n,d),I.target=w,I.relatedTarget=N,k=I),N=k,E&&C)t:{for(I=E,p=C,y=0,w=I;w;w=Ws(w))y++;for(w=0,k=p;k;k=Ws(k))w++;for(;0<y-w;)I=Ws(I),y--;for(;0<w-y;)p=Ws(p),w--;for(;y--;){if(I===p||p!==null&&I===p.alternate)break t;I=Ws(I),p=Ws(p)}I=null}else I=null;E!==null&&u0(m,v,E,I,!1),C!==null&&N!==null&&u0(m,N,C,I,!0)}}e:{if(v=c?eo(c):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var M=Bx;else if(t0(v))if(S1)M=qx;else{M=Wx;var j=Hx}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(M=Kx);if(M&&(M=M(t,c))){E1(m,M,n,d);break e}j&&j(t,v,c),t==="focusout"&&(j=v._wrapperState)&&j.controlled&&v.type==="number"&&Bf(v,"number",v.value)}switch(j=c?eo(c):window,t){case"focusin":(t0(j)||j.contentEditable==="true")&&(Js=j,tp=c,Va=null);break;case"focusout":Va=tp=Js=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,o0(m,n,d);break;case"selectionchange":if(Yx)break;case"keydown":case"keyup":o0(m,n,d)}var V;if(bm)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Xs?w1(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(y1&&n.locale!=="ko"&&(Xs||W!=="onCompositionStart"?W==="onCompositionEnd"&&Xs&&(V=v1()):(pi=d,Im="value"in pi?pi.value:pi.textContent,Xs=!0)),j=xc(c,W),0<j.length&&(W=new Xy(W,t,null,n,d),m.push({event:W,listeners:j}),V?W.data=V:(V=_1(n),V!==null&&(W.data=V)))),(V=Fx?jx(t,n):Ux(t,n))&&(c=xc(c,"onBeforeInput"),0<c.length&&(d=new Xy("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=V))}R1(m,e)})}function ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tl(t,n),s!=null&&r.unshift(ll(t,s,i)),s=tl(t,e),s!=null&&r.push(ll(t,s,i))),t=t.return}return r}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=tl(n,s),u!=null&&o.unshift(ll(n,u,l))):i||(u=tl(n,s),u!=null&&o.push(ll(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eb=/\r\n?/g,tb=/\u0000|\uFFFD/g;function c0(t){return(typeof t=="string"?t:""+t).replace(eb,`
`).replace(tb,"")}function $u(t,e,n){if(e=c0(e),c0(t)!==e&&n)throw Error($(425))}function bc(){}var rp=null,ip=null;function sp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var op=typeof setTimeout=="function"?setTimeout:void 0,nb=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(t){return h0.resolve(null).then(t).catch(ib)}:op;function ib(t){setTimeout(function(){throw t})}function ef(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),il(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);il(e)}function _i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),hr="__reactFiber$"+Ho,ul="__reactProps$"+Ho,Ur="__reactContainer$"+Ho,ap="__reactEvents$"+Ho,sb="__reactListeners$"+Ho,ob="__reactHandles$"+Ho;function ts(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d0(t);t!==null;){if(n=t[hr])return n;t=d0(t)}return e}t=n,n=t.parentNode}return null}function Ml(t){return t=t[hr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Th(t){return t[ul]||null}var lp=[],to=-1;function Li(t){return{current:t}}function We(t){0>to||(t.current=lp[to],lp[to]=null,to--)}function Be(t,e){to++,lp[to]=t.current,t.current=e}var Ni={},qt=Li(Ni),dn=Li(!1),ds=Ni;function ko(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fn(t){return t=t.childContextTypes,t!=null}function Ac(){We(dn),We(qt)}function f0(t,e,n){if(qt.current!==Ni)throw Error($(168));Be(qt,e),Be(dn,n)}function O1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,Hk(t)||"Unknown",i));return et({},n,r)}function Nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,ds=qt.current,Be(qt,t),Be(dn,dn.current),!0}function p0(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=O1(t,e,ds),r.__reactInternalMemoizedMergedChildContext=t,We(dn),We(qt),Be(qt,t)):We(dn),Be(dn,n)}var Ar=null,Ch=!1,tf=!1;function L1(t){Ar===null?Ar=[t]:Ar.push(t)}function ab(t){Ch=!0,L1(t)}function Mi(){if(!tf&&Ar!==null){tf=!0;var t=0,e=Le;try{var n=Ar;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,Ch=!1}catch(i){throw Ar!==null&&(Ar=Ar.slice(t+1)),o1(Em,Mi),i}finally{Le=e,tf=!1}}return null}var no=[],ro=0,Dc=null,Rc=0,Dn=[],Rn=0,fs=null,Nr=1,Dr="";function Ji(t,e){no[ro++]=Rc,no[ro++]=Dc,Dc=t,Rc=e}function M1(t,e,n){Dn[Rn++]=Nr,Dn[Rn++]=Dr,Dn[Rn++]=fs,fs=t;var r=Nr;t=Dr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var s=32-Yn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nr=1<<32-Yn(e)+i|n<<i|r,Dr=s+t}else Nr=1<<s|n<<i|r,Dr=t}function Nm(t){t.return!==null&&(Ji(t,1),M1(t,1,0))}function Dm(t){for(;t===Dc;)Dc=no[--ro],no[ro]=null,Rc=no[--ro],no[ro]=null;for(;t===fs;)fs=Dn[--Rn],Dn[Rn]=null,Dr=Dn[--Rn],Dn[Rn]=null,Nr=Dn[--Rn],Dn[Rn]=null}var _n=null,yn=null,Ge=!1,Gn=null;function $1(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function m0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,yn=_i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fs!==null?{id:Nr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,yn=null,!0):!1;default:return!1}}function up(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cp(t){if(Ge){var e=yn;if(e){var n=e;if(!m0(t,e)){if(up(t))throw Error($(418));e=_i(n.nextSibling);var r=_n;e&&m0(t,e)?$1(r,n):(t.flags=t.flags&-4097|2,Ge=!1,_n=t)}}else{if(up(t))throw Error($(418));t.flags=t.flags&-4097|2,Ge=!1,_n=t}}}function g0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function Fu(t){if(t!==_n)return!1;if(!Ge)return g0(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sp(t.type,t.memoizedProps)),e&&(e=yn)){if(up(t))throw F1(),Error($(418));for(;e;)$1(t,e),e=_i(e.nextSibling)}if(g0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=_i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=_n?_i(t.stateNode.nextSibling):null;return!0}function F1(){for(var t=yn;t;)t=_i(t.nextSibling)}function xo(){yn=_n=null,Ge=!1}function Rm(t){Gn===null?Gn=[t]:Gn.push(t)}var lb=Qr.ReactCurrentBatchConfig;function Wn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Pc=Li(null),Oc=null,io=null,Pm=null;function Om(){Pm=io=Oc=null}function Lm(t){var e=Pc.current;We(Pc),t._currentValue=e}function hp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){Oc=t,Pm=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Pm!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(Oc===null)throw Error($(308));io=t,Oc.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var ns=null;function Mm(t){ns===null?ns=[t]:ns.push(t)}function j1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Mm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ai=!1;function $m(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,Mm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sm(t,n)}}function v0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lc(t,e,n,r){var i=t.updateQueue;ai=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,d=c=u=null,l=s;do{var v=l.lane,E=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,I=l;switch(v=e,E=n,I.tag){case 1:if(C=I.payload,typeof C=="function"){m=C.call(E,m,v);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=I.payload,v=typeof C=="function"?C.call(E,m,v):C,v==null)break e;m=et({},m,v);break e;case 2:ai=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else E={eventTime:E,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=E,u=m):d=d.next=E,o|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(d===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ms|=o,t.lanes=o,t.memoizedState=m}}function y0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var V1=new j_.Component().refs;function dp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ih={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=Ti(t),s=Mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Xn(e,t,i,r),sc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=Ti(t),s=Mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Xn(e,t,i,r),sc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=Ti(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ei(t,i,r),e!==null&&(Xn(e,t,r,n),sc(e,t,r))}};function w0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ol(n,r)||!ol(i,s):!0}function z1(t,e,n){var r=!1,i=Ni,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=fn(e)?ds:qt.current,r=e.contextTypes,s=(r=r!=null)?ko(t,i):Ni),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ih.enqueueReplaceState(e,e.state,null)}function fp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=V1,$m(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=fn(e)?ds:qt.current,i.context=ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ih.enqueueReplaceState(i,i.state,null),Lc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===V1&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function ju(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function E0(t){var e=t._init;return e(t._payload)}function B1(t){function e(p,y){if(t){var w=p.deletions;w===null?(p.deletions=[y],p.flags|=16):w.push(y)}}function n(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=Ci(p,y),p.index=0,p.sibling=null,p}function s(p,y,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<y?(p.flags|=2,y):w):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,y,w,k){return y===null||y.tag!==6?(y=uf(w,p.mode,k),y.return=p,y):(y=i(y,w),y.return=p,y)}function u(p,y,w,k){var M=w.type;return M===Ys?d(p,y,w.props.children,k,w.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===oi&&E0(M)===y.type)?(k=i(y,w.props),k.ref=ya(p,y,w),k.return=p,k):(k=hc(w.type,w.key,w.props,null,p.mode,k),k.ref=ya(p,y,w),k.return=p,k)}function c(p,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=cf(w,p.mode,k),y.return=p,y):(y=i(y,w.children||[]),y.return=p,y)}function d(p,y,w,k,M){return y===null||y.tag!==7?(y=us(w,p.mode,k,M),y.return=p,y):(y=i(y,w),y.return=p,y)}function m(p,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=uf(""+y,p.mode,w),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bu:return w=hc(y.type,y.key,y.props,null,p.mode,w),w.ref=ya(p,null,y),w.return=p,w;case Qs:return y=cf(y,p.mode,w),y.return=p,y;case oi:var k=y._init;return m(p,k(y._payload),w)}if(xa(y)||fa(y))return y=us(y,p.mode,w,null),y.return=p,y;ju(p,y)}return null}function v(p,y,w,k){var M=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:l(p,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bu:return w.key===M?u(p,y,w,k):null;case Qs:return w.key===M?c(p,y,w,k):null;case oi:return M=w._init,v(p,y,M(w._payload),k)}if(xa(w)||fa(w))return M!==null?null:d(p,y,w,k,null);ju(p,w)}return null}function E(p,y,w,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(w)||null,l(y,p,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case bu:return p=p.get(k.key===null?w:k.key)||null,u(y,p,k,M);case Qs:return p=p.get(k.key===null?w:k.key)||null,c(y,p,k,M);case oi:var j=k._init;return E(p,y,w,j(k._payload),M)}if(xa(k)||fa(k))return p=p.get(w)||null,d(y,p,k,M,null);ju(y,k)}return null}function C(p,y,w,k){for(var M=null,j=null,V=y,W=y=0,ie=null;V!==null&&W<w.length;W++){V.index>W?(ie=V,V=null):ie=V.sibling;var me=v(p,V,w[W],k);if(me===null){V===null&&(V=ie);break}t&&V&&me.alternate===null&&e(p,V),y=s(me,y,W),j===null?M=me:j.sibling=me,j=me,V=ie}if(W===w.length)return n(p,V),Ge&&Ji(p,W),M;if(V===null){for(;W<w.length;W++)V=m(p,w[W],k),V!==null&&(y=s(V,y,W),j===null?M=V:j.sibling=V,j=V);return Ge&&Ji(p,W),M}for(V=r(p,V);W<w.length;W++)ie=E(V,p,W,w[W],k),ie!==null&&(t&&ie.alternate!==null&&V.delete(ie.key===null?W:ie.key),y=s(ie,y,W),j===null?M=ie:j.sibling=ie,j=ie);return t&&V.forEach(function(bt){return e(p,bt)}),Ge&&Ji(p,W),M}function I(p,y,w,k){var M=fa(w);if(typeof M!="function")throw Error($(150));if(w=M.call(w),w==null)throw Error($(151));for(var j=M=null,V=y,W=y=0,ie=null,me=w.next();V!==null&&!me.done;W++,me=w.next()){V.index>W?(ie=V,V=null):ie=V.sibling;var bt=v(p,V,me.value,k);if(bt===null){V===null&&(V=ie);break}t&&V&&bt.alternate===null&&e(p,V),y=s(bt,y,W),j===null?M=bt:j.sibling=bt,j=bt,V=ie}if(me.done)return n(p,V),Ge&&Ji(p,W),M;if(V===null){for(;!me.done;W++,me=w.next())me=m(p,me.value,k),me!==null&&(y=s(me,y,W),j===null?M=me:j.sibling=me,j=me);return Ge&&Ji(p,W),M}for(V=r(p,V);!me.done;W++,me=w.next())me=E(V,p,W,me.value,k),me!==null&&(t&&me.alternate!==null&&V.delete(me.key===null?W:me.key),y=s(me,y,W),j===null?M=me:j.sibling=me,j=me);return t&&V.forEach(function(on){return e(p,on)}),Ge&&Ji(p,W),M}function N(p,y,w,k){if(typeof w=="object"&&w!==null&&w.type===Ys&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case bu:e:{for(var M=w.key,j=y;j!==null;){if(j.key===M){if(M=w.type,M===Ys){if(j.tag===7){n(p,j.sibling),y=i(j,w.props.children),y.return=p,p=y;break e}}else if(j.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===oi&&E0(M)===j.type){n(p,j.sibling),y=i(j,w.props),y.ref=ya(p,j,w),y.return=p,p=y;break e}n(p,j);break}else e(p,j);j=j.sibling}w.type===Ys?(y=us(w.props.children,p.mode,k,w.key),y.return=p,p=y):(k=hc(w.type,w.key,w.props,null,p.mode,k),k.ref=ya(p,y,w),k.return=p,p=k)}return o(p);case Qs:e:{for(j=w.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(p,y.sibling),y=i(y,w.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else e(p,y);y=y.sibling}y=cf(w,p.mode,k),y.return=p,p=y}return o(p);case oi:return j=w._init,N(p,y,j(w._payload),k)}if(xa(w))return C(p,y,w,k);if(fa(w))return I(p,y,w,k);ju(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(p,y.sibling),y=i(y,w),y.return=p,p=y):(n(p,y),y=uf(w,p.mode,k),y.return=p,p=y),o(p)):n(p,y)}return N}var bo=B1(!0),H1=B1(!1),$l={},mr=Li($l),cl=Li($l),hl=Li($l);function rs(t){if(t===$l)throw Error($(174));return t}function Fm(t,e){switch(Be(hl,e),Be(cl,t),Be(mr,$l),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wf(e,t)}We(mr),Be(mr,e)}function Ao(){We(mr),We(cl),We(hl)}function W1(t){rs(hl.current);var e=rs(mr.current),n=Wf(e,t.type);e!==n&&(Be(cl,t),Be(mr,n))}function jm(t){cl.current===t&&(We(mr),We(cl))}var Je=Li(0);function Mc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nf=[];function Um(){for(var t=0;t<nf.length;t++)nf[t]._workInProgressVersionPrimary=null;nf.length=0}var oc=Qr.ReactCurrentDispatcher,rf=Qr.ReactCurrentBatchConfig,ps=0,Ze=null,vt=null,Ct=null,$c=!1,za=!1,dl=0,ub=0;function $t(){throw Error($(321))}function Vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function zm(t,e,n,r,i,s){if(ps=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oc.current=t===null||t.memoizedState===null?fb:pb,t=n(r,i),za){s=0;do{if(za=!1,dl=0,25<=s)throw Error($(301));s+=1,Ct=vt=null,e.updateQueue=null,oc.current=mb,t=n(r,i)}while(za)}if(oc.current=Fc,e=vt!==null&&vt.next!==null,ps=0,Ct=vt=Ze=null,$c=!1,e)throw Error($(300));return t}function Bm(){var t=dl!==0;return dl=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ze.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function $n(){if(vt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Ct===null?Ze.memoizedState:Ct.next;if(e!==null)Ct=e,vt=t;else{if(t===null)throw Error($(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ct===null?Ze.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function fl(t,e){return typeof e=="function"?e(t):e}function sf(t){var e=$n(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((ps&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,Ze.lanes|=d,ms|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,Zn(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,ms|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function of(t){var e=$n(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zn(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function K1(){}function q1(t,e){var n=Ze,r=$n(),i=e(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,hn=!0),r=r.queue,Hm(Y1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,pl(9,Q1.bind(null,n,r,i,e),void 0,null),It===null)throw Error($(349));ps&30||G1(n,e,i)}return i}function G1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q1(t,e,n,r){e.value=n,e.getSnapshot=r,X1(e)&&J1(t)}function Y1(t,e,n){return n(function(){X1(e)&&J1(t)})}function X1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function J1(t){var e=Vr(t,1);e!==null&&Xn(e,t,1,-1)}function S0(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:t},e.queue=t,t=t.dispatch=db.bind(null,Ze,t),[e.memoizedState,t]}function pl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Z1(){return $n().memoizedState}function ac(t,e,n,r){var i=cr();Ze.flags|=t,i.memoizedState=pl(1|e,n,void 0,r===void 0?null:r)}function kh(t,e,n,r){var i=$n();r=r===void 0?null:r;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,r!==null&&Vm(r,o.deps)){i.memoizedState=pl(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=pl(1|e,n,s,r)}function T0(t,e){return ac(8390656,8,t,e)}function Hm(t,e){return kh(2048,8,t,e)}function eE(t,e){return kh(4,2,t,e)}function tE(t,e){return kh(4,4,t,e)}function nE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rE(t,e,n){return n=n!=null?n.concat([t]):null,kh(4,4,nE.bind(null,e,t),n)}function Wm(){}function iE(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sE(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oE(t,e,n){return ps&21?(Zn(n,e)||(n=u1(),Ze.lanes|=n,ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function cb(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=rf.transition;rf.transition={};try{t(!1),e()}finally{Le=n,rf.transition=r}}function aE(){return $n().memoizedState}function hb(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lE(t))uE(e,n);else if(n=j1(t,e,n,r),n!==null){var i=nn();Xn(n,t,r,i),cE(n,e,r)}}function db(t,e,n){var r=Ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lE(t))uE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Zn(l,o)){var u=e.interleaved;u===null?(i.next=i,Mm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=j1(t,e,i,r),n!==null&&(i=nn(),Xn(n,t,r,i),cE(n,e,r))}}function lE(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function uE(t,e){za=$c=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sm(t,n)}}var Fc={readContext:Mn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},fb={readContext:Mn,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:T0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ac(4194308,4,nE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return ac(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hb.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:S0,useDebugValue:Wm,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=S0(!1),e=t[0];return t=cb.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=cr();if(Ge){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),It===null)throw Error($(349));ps&30||G1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,T0(Y1.bind(null,r,s,t),[t]),r.flags|=2048,pl(9,Q1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cr(),e=It.identifierPrefix;if(Ge){var n=Dr,r=Nr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ub++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pb={readContext:Mn,useCallback:iE,useContext:Mn,useEffect:Hm,useImperativeHandle:rE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:sE,useReducer:sf,useRef:Z1,useState:function(){return sf(fl)},useDebugValue:Wm,useDeferredValue:function(t){var e=$n();return oE(e,vt.memoizedState,t)},useTransition:function(){var t=sf(fl)[0],e=$n().memoizedState;return[t,e]},useMutableSource:K1,useSyncExternalStore:q1,useId:aE,unstable_isNewReconciler:!1},mb={readContext:Mn,useCallback:iE,useContext:Mn,useEffect:Hm,useImperativeHandle:rE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:sE,useReducer:of,useRef:Z1,useState:function(){return of(fl)},useDebugValue:Wm,useDeferredValue:function(t){var e=$n();return vt===null?e.memoizedState=t:oE(e,vt.memoizedState,t)},useTransition:function(){var t=of(fl)[0],e=$n().memoizedState;return[t,e]},useMutableSource:K1,useSyncExternalStore:q1,useId:aE,unstable_isNewReconciler:!1};function No(t,e){try{var n="",r=e;do n+=Bk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gb=typeof WeakMap=="function"?WeakMap:Map;function hE(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uc||(Uc=!0,Cp=r),pp(t,e)},n}function dE(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pp(t,e),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function C0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Nb.bind(null,t,e,n),e.then(t,t))}function I0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function k0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var vb=Qr.ReactCurrentOwner,hn=!1;function en(t,e,n,r){e.child=t===null?H1(e,null,n,r):bo(e,t.child,n,r)}function x0(t,e,n,r,i){n=n.render;var s=e.ref;return go(e,i),r=zm(t,e,n,r,s,i),n=Bm(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Ge&&n&&Nm(e),e.flags|=1,en(t,e,r,i),e.child)}function b0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,fE(t,e,s,r,i)):(t=hc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ol,n(o,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=Ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function fE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ol(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,zr(t,e,i)}return mp(t,e,n,r,i)}function pE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(oo,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(oo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(oo,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(oo,vn),vn|=r;return en(t,e,i,n),e.child}function mE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mp(t,e,n,r,i){var s=fn(n)?ds:qt.current;return s=ko(e,s),go(e,i),n=zm(t,e,n,r,s,i),r=Bm(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Ge&&r&&Nm(e),e.flags|=1,en(t,e,n,i),e.child)}function A0(t,e,n,r,i){if(fn(n)){var s=!0;Nc(e)}else s=!1;if(go(e,i),e.stateNode===null)lc(t,e),z1(e,n,r),fp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mn(c):(c=fn(n)?ds:qt.current,c=ko(e,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&_0(e,o,r,c),ai=!1;var v=e.memoizedState;o.state=v,Lc(e,r,o,i),u=e.memoizedState,l!==r||v!==u||dn.current||ai?(typeof d=="function"&&(dp(e,n,d,r),u=e.memoizedState),(l=ai||w0(e,n,l,r,v,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,U1(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Wn(e.type,l),o.props=c,m=e.pendingProps,v=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Mn(u):(u=fn(n)?ds:qt.current,u=ko(e,u));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||v!==u)&&_0(e,o,r,u),ai=!1,v=e.memoizedState,o.state=v,Lc(e,r,o,i);var C=e.memoizedState;l!==m||v!==C||dn.current||ai?(typeof E=="function"&&(dp(e,n,E,r),C=e.memoizedState),(c=ai||w0(e,n,c,r,v,C,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return gp(t,e,n,r,s,i)}function gp(t,e,n,r,i,s){mE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&p0(e,n,!1),zr(t,e,s);r=e.stateNode,vb.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,s),e.child=bo(e,null,l,s)):en(t,e,l,s),e.memoizedState=r.state,i&&p0(e,n,!0),e.child}function gE(t){var e=t.stateNode;e.pendingContext?f0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f0(t,e.context,!1),Fm(t,e.containerInfo)}function N0(t,e,n,r,i){return xo(),Rm(i),e.flags|=256,en(t,e,n,r),e.child}var vp={dehydrated:null,treeContext:null,retryLane:0};function yp(t){return{baseLanes:t,cachePool:null,transitions:null}}function vE(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Je,i&1),t===null)return cp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ah(o,r,0,null),t=us(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yp(n),e.memoizedState=vp,t):Km(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return yb(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ci(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ci(l,s):(s=us(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=vp,r}return s=t.child,t=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Km(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uu(t,e,n,r){return r!==null&&Rm(r),bo(e,t.child,null,n),t=Km(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=af(Error($(422))),Uu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ah({mode:"visible",children:r.children},i,0,null),s=us(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bo(e,t.child,null,o),e.child.memoizedState=yp(o),e.memoizedState=vp,s);if(!(e.mode&1))return Uu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=af(s,r,void 0),Uu(t,e,o,r)}if(l=(o&t.childLanes)!==0,hn||l){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vr(t,i),Xn(r,t,i,-1))}return Jm(),r=af(Error($(421))),Uu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Db.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yn=_i(i.nextSibling),_n=e,Ge=!0,Gn=null,t!==null&&(Dn[Rn++]=Nr,Dn[Rn++]=Dr,Dn[Rn++]=fs,Nr=t.id,Dr=t.overflow,fs=e),e=Km(e,r.children),e.flags|=4096,e)}function D0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hp(t.return,e,n)}function lf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(en(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D0(t,n,e);else if(t.tag===19)D0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lf(e,!0,n,null,s);break;case"together":lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wb(t,e,n){switch(e.tag){case 3:gE(e),xo();break;case 5:W1(e);break;case 1:fn(e.type)&&Nc(e);break;case 4:Fm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(Pc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?vE(t,e,n):(Be(Je,Je.current&1),t=zr(t,e,n),t!==null?t.sibling:null);Be(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,pE(t,e,n)}return zr(t,e,n)}var wE,wp,_E,EE;wE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wp=function(){};_E=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rs(mr.current);var s=null;switch(n){case"input":i=Vf(t,i),r=Vf(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=Hf(t,i),r=Hf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bc)}Kf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Za.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Za.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&He("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};EE=function(t,e,n,r){n!==r&&(e.flags|=4)};function wa(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _b(t,e,n){var r=e.pendingProps;switch(Dm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return fn(e.type)&&Ac(),Ft(e),null;case 3:return r=e.stateNode,Ao(),We(dn),We(qt),Um(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(xp(Gn),Gn=null))),wp(t,e),Ft(e),null;case 5:jm(e);var i=rs(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)_E(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Ft(e),null}if(t=rs(mr.current),Fu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[hr]=e,r[ul]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Aa.length;i++)He(Aa[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Uy(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":zy(r,s),He("invalid",r)}Kf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&$u(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$u(r.textContent,l,t),i=["children",""+l]):Za.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Au(r),Vy(r,s,!0);break;case"textarea":Au(r),By(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=G_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hr]=e,t[ul]=r,wE(t,e,!1,!1),e.stateNode=t;e:{switch(o=qf(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<Aa.length;i++)He(Aa[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":Uy(t,r),i=Vf(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),He("invalid",t);break;case"textarea":zy(t,r),i=Hf(t,r),He("invalid",t);break;default:i=r}Kf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?X_(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Q_(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&el(t,u):typeof u=="number"&&el(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Za.hasOwnProperty(s)?u!=null&&s==="onScroll"&&He("scroll",t):u!=null&&gm(t,s,u,o))}switch(n){case"input":Au(t),Vy(t,r,!1);break;case"textarea":Au(t),By(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ai(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ho(t,!!r.multiple,s,!1):r.defaultValue!=null&&ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)EE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=rs(hl.current),rs(mr.current),Fu(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(s=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:$u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$u(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return Ft(e),null;case 13:if(We(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&yn!==null&&e.mode&1&&!(e.flags&128))F1(),xo(),e.flags|=98560,s=!1;else if(s=Fu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[hr]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else Gn!==null&&(xp(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?wt===0&&(wt=3):Jm())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return Ao(),wp(t,e),t===null&&al(e.stateNode.containerInfo),Ft(e),null;case 10:return Lm(e.type._context),Ft(e),null;case 17:return fn(e.type)&&Ac(),Ft(e),null;case 19:if(We(Je),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)wa(s,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mc(t),o!==null){for(e.flags|=128,wa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&ut()>Do&&(e.flags|=128,r=!0,wa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Mc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Ft(e),null}else 2*ut()-s.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,r=!0,wa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ut(),e.sibling=null,n=Je.current,Be(Je,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Xm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Eb(t,e){switch(Dm(e),e.tag){case 1:return fn(e.type)&&Ac(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ao(),We(dn),We(qt),Um(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jm(e),null;case 13:if(We(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Je),null;case 4:return Ao(),null;case 10:return Lm(e.type._context),null;case 22:case 23:return Xm(),null;case 24:return null;default:return null}}var Vu=!1,Vt=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,Q=null;function so(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function _p(t,e,n){try{n()}catch(r){it(t,e,r)}}var R0=!1;function Tb(t,e){if(rp=Ic,t=I1(),Am(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,m=t,v=null;t:for(;;){for(var E;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(E=m.firstChild)!==null;)v=m,m=E;for(;;){if(m===t)break t;if(v===n&&++c===i&&(l=o),v===s&&++d===r&&(u=o),(E=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ip={focusedElem:t,selectionRange:n},Ic=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var I=C.memoizedProps,N=C.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?I:Wn(e.type,I),N);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){it(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return C=R0,R0=!1,C}function Ba(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_p(e,n,s)}i=i.next}while(i!==r)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ep(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SE(t){var e=t.alternate;e!==null&&(t.alternate=null,SE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[ul],delete e[ap],delete e[sb],delete e[ob])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TE(t){return t.tag===5||t.tag===3||t.tag===4}function P0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bc));else if(r!==4&&(t=t.child,t!==null))for(Sp(t,e,n),t=t.sibling;t!==null;)Sp(t,e,n),t=t.sibling}function Tp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tp(t,e,n),t=t.sibling;t!==null;)Tp(t,e,n),t=t.sibling}var Nt=null,qn=!1;function ii(t,e,n){for(n=n.child;n!==null;)CE(t,e,n),n=n.sibling}function CE(t,e,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(wh,n)}catch{}switch(n.tag){case 5:Vt||so(n,e);case 6:var r=Nt,i=qn;Nt=null,ii(t,e,n),Nt=r,qn=i,Nt!==null&&(qn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(qn?(t=Nt,n=n.stateNode,t.nodeType===8?ef(t.parentNode,n):t.nodeType===1&&ef(t,n),il(t)):ef(Nt,n.stateNode));break;case 4:r=Nt,i=qn,Nt=n.stateNode.containerInfo,qn=!0,ii(t,e,n),Nt=r,qn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_p(n,e,o),i=i.next}while(i!==r)}ii(t,e,n);break;case 1:if(!Vt&&(so(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){it(n,e,l)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,ii(t,e,n),Vt=r):ii(t,e,n);break;default:ii(t,e,n)}}function O0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sb),e.forEach(function(r){var i=Rb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,qn=!1;break e;case 3:Nt=l.stateNode.containerInfo,qn=!0;break e;case 4:Nt=l.stateNode.containerInfo,qn=!0;break e}l=l.return}if(Nt===null)throw Error($(160));CE(s,o,i),Nt=null,qn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){it(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IE(e,t),e=e.sibling}function IE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),ur(t),r&4){try{Ba(3,t,t.return),xh(3,t)}catch(I){it(t,t.return,I)}try{Ba(5,t,t.return)}catch(I){it(t,t.return,I)}}break;case 1:Hn(e,t),ur(t),r&512&&n!==null&&so(n,n.return);break;case 5:if(Hn(e,t),ur(t),r&512&&n!==null&&so(n,n.return),t.flags&32){var i=t.stateNode;try{el(i,"")}catch(I){it(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&K_(i,s),qf(l,o);var c=qf(l,s);for(o=0;o<u.length;o+=2){var d=u[o],m=u[o+1];d==="style"?X_(i,m):d==="dangerouslySetInnerHTML"?Q_(i,m):d==="children"?el(i,m):gm(i,d,m,c)}switch(l){case"input":zf(i,s);break;case"textarea":q_(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?ho(i,!!s.multiple,E,!1):v!==!!s.multiple&&(s.defaultValue!=null?ho(i,!!s.multiple,s.defaultValue,!0):ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[ul]=s}catch(I){it(t,t.return,I)}}break;case 6:if(Hn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){it(t,t.return,I)}}break;case 3:if(Hn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(I){it(t,t.return,I)}break;case 4:Hn(e,t),ur(t);break;case 13:Hn(e,t),ur(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qm=ut())),r&4&&O0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(c=Vt)||d,Hn(e,t),Vt=c):Hn(e,t),ur(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(m=Q=d;Q!==null;){switch(v=Q,E=v.child,v.tag){case 0:case 11:case 14:case 15:Ba(4,v,v.return);break;case 1:so(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(I){it(r,n,I)}}break;case 5:so(v,v.return);break;case 22:if(v.memoizedState!==null){M0(m);continue}}E!==null?(E.return=v,Q=E):M0(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Y_("display",o))}catch(I){it(t,t.return,I)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(I){it(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Hn(e,t),ur(t),r&4&&O0(t);break;case 21:break;default:Hn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TE(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(el(i,""),r.flags&=-33);var s=P0(t);Tp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=P0(t);Sp(t,l,o);break;default:throw Error($(161))}}catch(u){it(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cb(t,e,n){Q=t,kE(t)}function kE(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Vt;l=Vu;var c=Vt;if(Vu=o,(Vt=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?$0(i):u!==null?(u.return=o,Q=u):$0(i);for(;s!==null;)Q=s,kE(s),s=s.sibling;Q=i,Vu=l,Vt=c}L0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):L0(t)}}function L0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&y0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&il(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Vt||e.flags&512&&Ep(e)}catch(v){it(e,e.return,v)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function M0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function $0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xh(4,e)}catch(u){it(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){it(e,i,u)}}var s=e.return;try{Ep(e)}catch(u){it(e,s,u)}break;case 5:var o=e.return;try{Ep(e)}catch(u){it(e,o,u)}}}catch(u){it(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var Ib=Math.ceil,jc=Qr.ReactCurrentDispatcher,qm=Qr.ReactCurrentOwner,Ln=Qr.ReactCurrentBatchConfig,be=0,It=null,ft=null,Pt=0,vn=0,oo=Li(0),wt=0,ml=null,ms=0,bh=0,Gm=0,Ha=null,un=null,Qm=0,Do=1/0,xr=null,Uc=!1,Cp=null,Si=null,zu=!1,mi=null,Vc=0,Wa=0,Ip=null,uc=-1,cc=0;function nn(){return be&6?ut():uc!==-1?uc:uc=ut()}function Ti(t){return t.mode&1?be&2&&Pt!==0?Pt&-Pt:lb.transition!==null?(cc===0&&(cc=u1()),cc):(t=Le,t!==0||(t=window.event,t=t===void 0?16:g1(t.type)),t):1}function Xn(t,e,n,r){if(50<Wa)throw Wa=0,Ip=null,Error($(185));Ol(t,n,r),(!(be&2)||t!==It)&&(t===It&&(!(be&2)&&(bh|=n),wt===4&&ui(t,Pt)),pn(t,r),n===1&&be===0&&!(e.mode&1)&&(Do=ut()+500,Ch&&Mi()))}function pn(t,e){var n=t.callbackNode;lx(t,e);var r=Cc(t,t===It?Pt:0);if(r===0)n!==null&&Ky(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ky(n),e===1)t.tag===0?ab(F0.bind(null,t)):L1(F0.bind(null,t)),rb(function(){!(be&6)&&Mi()}),n=null;else{switch(c1(r)){case 1:n=Em;break;case 4:n=a1;break;case 16:n=Tc;break;case 536870912:n=l1;break;default:n=Tc}n=OE(n,xE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xE(t,e){if(uc=-1,cc=0,be&6)throw Error($(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var r=Cc(t,t===It?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zc(t,r);else{e=r;var i=be;be|=2;var s=AE();(It!==t||Pt!==e)&&(xr=null,Do=ut()+500,ls(t,e));do try{bb();break}catch(l){bE(t,l)}while(1);Om(),jc.current=s,be=i,ft!==null?e=0:(It=null,Pt=0,e=wt)}if(e!==0){if(e===2&&(i=Jf(t),i!==0&&(r=i,e=kp(t,i))),e===1)throw n=ml,ls(t,0),ui(t,r),pn(t,ut()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!kb(i)&&(e=zc(t,r),e===2&&(s=Jf(t),s!==0&&(r=s,e=kp(t,s))),e===1))throw n=ml,ls(t,0),ui(t,r),pn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Zi(t,un,xr);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=Qm+500-ut(),10<e)){if(Cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=op(Zi.bind(null,t,un,xr),e);break}Zi(t,un,xr);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ib(r/1960))-r,10<r){t.timeoutHandle=op(Zi.bind(null,t,un,xr),r);break}Zi(t,un,xr);break;case 5:Zi(t,un,xr);break;default:throw Error($(329))}}}return pn(t,ut()),t.callbackNode===n?xE.bind(null,t):null}function kp(t,e){var n=Ha;return t.current.memoizedState.isDehydrated&&(ls(t,e).flags|=256),t=zc(t,e),t!==2&&(e=un,un=n,e!==null&&xp(e)),t}function xp(t){un===null?un=t:un.push.apply(un,t)}function kb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~Gm,e&=~bh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function F0(t){if(be&6)throw Error($(327));vo();var e=Cc(t,0);if(!(e&1))return pn(t,ut()),null;var n=zc(t,e);if(t.tag!==0&&n===2){var r=Jf(t);r!==0&&(e=r,n=kp(t,r))}if(n===1)throw n=ml,ls(t,0),ui(t,e),pn(t,ut()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zi(t,un,xr),pn(t,ut()),null}function Ym(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Do=ut()+500,Ch&&Mi())}}function gs(t){mi!==null&&mi.tag===0&&!(be&6)&&vo();var e=be;be|=1;var n=Ln.transition,r=Le;try{if(Ln.transition=null,Le=1,t)return t()}finally{Le=r,Ln.transition=n,be=e,!(be&6)&&Mi()}}function Xm(){vn=oo.current,We(oo)}function ls(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nb(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(Dm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ac();break;case 3:Ao(),We(dn),We(qt),Um();break;case 5:jm(r);break;case 4:Ao();break;case 13:We(Je);break;case 19:We(Je);break;case 10:Lm(r.type._context);break;case 22:case 23:Xm()}n=n.return}if(It=t,ft=t=Ci(t.current,null),Pt=vn=e,wt=0,ml=null,Gm=bh=ms=0,un=Ha=null,ns!==null){for(e=0;e<ns.length;e++)if(n=ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ns=null}return t}function bE(t,e){do{var n=ft;try{if(Om(),oc.current=Fc,$c){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$c=!1}if(ps=0,Ct=vt=Ze=null,za=!1,dl=0,qm.current=null,n===null||n.return===null){wt=1,ml=e,ft=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Pt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=I0(o);if(E!==null){E.flags&=-257,k0(E,o,l,s,e),E.mode&1&&C0(s,c,e),e=E,u=c;var C=e.updateQueue;if(C===null){var I=new Set;I.add(u),e.updateQueue=I}else C.add(u);break e}else{if(!(e&1)){C0(s,c,e),Jm();break e}u=Error($(426))}}else if(Ge&&l.mode&1){var N=I0(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),k0(N,o,l,s,e),Rm(No(u,l));break e}}s=u=No(u,l),wt!==4&&(wt=2),Ha===null?Ha=[s]:Ha.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=hE(s,u,e);v0(s,p);break e;case 1:l=u;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Si===null||!Si.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=dE(s,l,e);v0(s,k);break e}}s=s.return}while(s!==null)}DE(n)}catch(M){e=M,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(1)}function AE(){var t=jc.current;return jc.current=Fc,t===null?Fc:t}function Jm(){(wt===0||wt===3||wt===2)&&(wt=4),It===null||!(ms&268435455)&&!(bh&268435455)||ui(It,Pt)}function zc(t,e){var n=be;be|=2;var r=AE();(It!==t||Pt!==e)&&(xr=null,ls(t,e));do try{xb();break}catch(i){bE(t,i)}while(1);if(Om(),be=n,jc.current=r,ft!==null)throw Error($(261));return It=null,Pt=0,wt}function xb(){for(;ft!==null;)NE(ft)}function bb(){for(;ft!==null&&!Zk();)NE(ft)}function NE(t){var e=PE(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?DE(t):ft=e,qm.current=null}function DE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Eb(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ft=null;return}}else if(n=_b(n,e,vn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);wt===0&&(wt=5)}function Zi(t,e,n){var r=Le,i=Ln.transition;try{Ln.transition=null,Le=1,Ab(t,e,n,r)}finally{Ln.transition=i,Le=r}return null}function Ab(t,e,n,r){do vo();while(mi!==null);if(be&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ux(t,s),t===It&&(ft=It=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zu||(zu=!0,OE(Tc,function(){return vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ln.transition,Ln.transition=null;var o=Le;Le=1;var l=be;be|=4,qm.current=null,Tb(t,n),IE(n,t),Qx(ip),Ic=!!rp,ip=rp=null,t.current=n,Cb(n),ex(),be=l,Le=o,Ln.transition=s}else t.current=n;if(zu&&(zu=!1,mi=t,Vc=i),s=t.pendingLanes,s===0&&(Si=null),rx(n.stateNode),pn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Uc)throw Uc=!1,t=Cp,Cp=null,t;return Vc&1&&t.tag!==0&&vo(),s=t.pendingLanes,s&1?t===Ip?Wa++:(Wa=0,Ip=t):Wa=0,Mi(),null}function vo(){if(mi!==null){var t=c1(Vc),e=Ln.transition,n=Le;try{if(Ln.transition=null,Le=16>t?16:t,mi===null)var r=!1;else{if(t=mi,mi=null,Vc=0,be&6)throw Error($(331));var i=be;for(be|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ba(8,d,s)}var m=d.child;if(m!==null)m.return=d,Q=m;else for(;Q!==null;){d=Q;var v=d.sibling,E=d.return;if(SE(d),d===c){Q=null;break}if(v!==null){v.return=E,Q=v;break}Q=E}}}var C=s.alternate;if(C!==null){var I=C.child;if(I!==null){C.child=null;do{var N=I.sibling;I.sibling=null,I=N}while(I!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ba(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,Q=p;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=y;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xh(9,l)}}catch(M){it(l,l.return,M)}if(l===o){Q=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,Q=k;break e}Q=l.return}}if(be=i,Mi(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(wh,t)}catch{}r=!0}return r}finally{Le=n,Ln.transition=e}}return!1}function j0(t,e,n){e=No(n,e),e=hE(t,e,1),t=Ei(t,e,1),e=nn(),t!==null&&(Ol(t,1,e),pn(t,e))}function it(t,e,n){if(t.tag===3)j0(t,t,n);else for(;e!==null;){if(e.tag===3){j0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){t=No(n,t),t=dE(e,t,1),e=Ei(e,t,1),t=nn(),e!==null&&(Ol(e,1,t),pn(e,t));break}}e=e.return}}function Nb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Pt&n)===n&&(wt===4||wt===3&&(Pt&130023424)===Pt&&500>ut()-Qm?ls(t,0):Gm|=n),pn(t,e)}function RE(t,e){e===0&&(t.mode&1?(e=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):e=1);var n=nn();t=Vr(t,e),t!==null&&(Ol(t,e,n),pn(t,n))}function Db(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RE(t,n)}function Rb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),RE(t,n)}var PE;PE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,wb(t,e,n);hn=!!(t.flags&131072)}else hn=!1,Ge&&e.flags&1048576&&M1(e,Rc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lc(t,e),t=e.pendingProps;var i=ko(e,qt.current);go(e,n),i=zm(null,e,r,t,i,n);var s=Bm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(r)?(s=!0,Nc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$m(e),i.updater=Ih,e.stateNode=i,i._reactInternals=e,fp(e,r,t,n),e=gp(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&Nm(e),en(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ob(r),t=Wn(r,t),i){case 0:e=mp(null,e,r,t,n);break e;case 1:e=A0(null,e,r,t,n);break e;case 11:e=x0(null,e,r,t,n);break e;case 14:e=b0(null,e,r,Wn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),mp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),A0(t,e,r,i,n);case 3:e:{if(gE(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,U1(t,e),Lc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=No(Error($(423)),e),e=N0(t,e,r,n,i);break e}else if(r!==i){i=No(Error($(424)),e),e=N0(t,e,r,n,i);break e}else for(yn=_i(e.stateNode.containerInfo.firstChild),_n=e,Ge=!0,Gn=null,n=H1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===i){e=zr(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return W1(e),t===null&&cp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sp(r,i)?o=null:s!==null&&sp(r,s)&&(e.flags|=32),mE(t,e),en(t,e,o,n),e.child;case 6:return t===null&&cp(e),null;case 13:return vE(t,e,n);case 4:return Fm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),x0(t,e,r,i,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(Pc,r._currentValue),r._currentValue=o,s!==null)if(Zn(s.value,o)){if(s.children===i.children&&!dn.current){e=zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Mr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),hp(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),hp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}en(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=Mn(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),b0(t,e,r,i,n);case 15:return fE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),lc(t,e),e.tag=1,fn(r)?(t=!0,Nc(e)):t=!1,go(e,n),z1(e,r,i),fp(e,r,i,n),gp(null,e,r,!0,t,n);case 19:return yE(t,e,n);case 22:return pE(t,e,n)}throw Error($(156,e.tag))};function OE(t,e){return o1(t,e)}function Pb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new Pb(t,e,n,r)}function Zm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ob(t){if(typeof t=="function")return Zm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ym)return 11;if(t===wm)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Zm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ys:return us(n.children,i,s,e);case vm:o=8,i|=8;break;case $f:return t=On(12,n,e,i|2),t.elementType=$f,t.lanes=s,t;case Ff:return t=On(13,n,e,i),t.elementType=Ff,t.lanes=s,t;case jf:return t=On(19,n,e,i),t.elementType=jf,t.lanes=s,t;case B_:return Ah(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V_:o=10;break e;case z_:o=9;break e;case ym:o=11;break e;case wm:o=14;break e;case oi:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=On(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function us(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function Ah(t,e,n,r){return t=On(22,t,r,e),t.elementType=B_,t.lanes=n,t.stateNode={isHidden:!1},t}function uf(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function cf(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bd(0),this.expirationTimes=Bd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function eg(t,e,n,r,i,s,o,l,u){return t=new Lb(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$m(s),t}function Mb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LE(t){if(!t)return Ni;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(fn(n))return O1(t,n,e)}return e}function ME(t,e,n,r,i,s,o,l,u){return t=eg(n,r,!0,t,i,s,o,l,u),t.context=LE(null),n=t.current,r=nn(),i=Ti(n),s=Mr(r,i),s.callback=e??null,Ei(n,s,i),t.current.lanes=i,Ol(t,i,r),pn(t,r),t}function Nh(t,e,n,r){var i=e.current,s=nn(),o=Ti(i);return n=LE(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(i,e,o),t!==null&&(Xn(t,i,o,s),sc(t,i,o)),o}function Bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tg(t,e){U0(t,e),(t=t.alternate)&&U0(t,e)}function $b(){return null}var $E=typeof reportError=="function"?reportError:function(t){console.error(t)};function ng(t){this._internalRoot=t}Dh.prototype.render=ng.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Nh(t,e,null,null)};Dh.prototype.unmount=ng.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gs(function(){Nh(null,t,null,null)}),e[Ur]=null}};function Dh(t){this._internalRoot=t}Dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=f1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&m1(t)}};function rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V0(){}function Fb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Bc(o);s.call(c)}}var o=ME(e,r,t,0,null,!1,!1,"",V0);return t._reactRootContainer=o,t[Ur]=o.current,al(t.nodeType===8?t.parentNode:t),gs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Bc(u);l.call(c)}}var u=eg(t,0,!1,null,null,!1,!1,"",V0);return t._reactRootContainer=u,t[Ur]=u.current,al(t.nodeType===8?t.parentNode:t),gs(function(){Nh(e,u,n,r)}),u}function Ph(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Bc(o);l.call(u)}}Nh(e,o,t,i)}else o=Fb(n,e,t,i,r);return Bc(o)}h1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ba(e.pendingLanes);n!==0&&(Sm(e,n|1),pn(e,ut()),!(be&6)&&(Do=ut()+500,Mi()))}break;case 13:gs(function(){var r=Vr(t,1);if(r!==null){var i=nn();Xn(r,t,1,i)}}),tg(t,1)}};Tm=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=nn();Xn(e,t,134217728,n)}tg(t,134217728)}};d1=function(t){if(t.tag===13){var e=Ti(t),n=Vr(t,e);if(n!==null){var r=nn();Xn(n,t,e,r)}tg(t,e)}};f1=function(){return Le};p1=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Qf=function(t,e,n){switch(e){case"input":if(zf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Th(r);if(!i)throw Error($(90));W_(r),zf(r,i)}}}break;case"textarea":q_(t,n);break;case"select":e=n.value,e!=null&&ho(t,!!n.multiple,e,!1)}};e1=Ym;t1=gs;var jb={usingClientEntryPoint:!1,Events:[Ml,eo,Th,J_,Z_,Ym]},_a={findFiberByHostInstance:ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ub={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i1(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||$b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{wh=Bu.inject(Ub),pr=Bu}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jb;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rg(e))throw Error($(200));return Mb(t,e,null,n)};Cn.createRoot=function(t,e){if(!rg(t))throw Error($(299));var n=!1,r="",i=$E;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=eg(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,al(t.nodeType===8?t.parentNode:t),new ng(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=i1(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return gs(t)};Cn.hydrate=function(t,e,n){if(!Rh(e))throw Error($(200));return Ph(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!rg(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$E;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ME(e,null,t,1,n??null,i,!1,s,o),t[Ur]=e.current,al(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dh(e)};Cn.render=function(t,e,n){if(!Rh(e))throw Error($(200));return Ph(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!Rh(t))throw Error($(40));return t._reactRootContainer?(gs(function(){Ph(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};Cn.unstable_batchedUpdates=Ym;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Ph(t,e,n,!1,r)};Cn.version="18.2.0-next-9e3b772b8-20220608";function FE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FE)}catch(t){console.error(t)}}FE(),M_.exports=Cn;var Vb=M_.exports,z0=Vb;Lf.createRoot=z0.createRoot,Lf.hydrateRoot=z0.hydrateRoot;function zb(t){return _.jsx(_.Fragment,{children:_.jsx("div",{className:"container mt-5",children:_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body",children:[_.jsx("h3",{className:"card-title",children:t.title}),_.jsx("p",{className:"card-text",children:t.text})]})})})})}const Bb=[{school:"Singapore Management University",period:"2021 - Present",qualifications:"Bachelor of Science - Information Systems"},{school:"Temasek Polytechnic",period:"2015 - 2018",qualifications:"Diploma in Digital & Cyber Security | Diploma Plus in Business Fundamentals"},{school:"Seng Kang Secondary School",period:"2011 - 2014",qualifications:"GCE O-Level"}],Hb=Bb.map((t,e)=>_.jsx(O.Fragment,{children:_.jsx("div",{className:"card mt-3",children:_.jsxs("div",{className:"card-body",children:[_.jsx("h5",{className:"card-title",children:t.school}),_.jsx("p",{className:"card-text",children:t.qualifications}),_.jsx("p",{className:"card-subtitle",children:t.period})]})})},e));function Wb(){return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"container my-5",children:[_.jsx("h1",{className:"text-center",children:"My Education Journey"}),Hb]})})}const Kb="https://github.com/mohammadfadhli",qb="https://www.linkedin.com/in/mohd-fadhli-997607155/",Gb="";function Qb(){return _.jsx(_.Fragment,{children:_.jsx("div",{className:"container mt-3",children:_.jsxs("div",{className:"d-flex flex-row justify-content-center mb-3",children:[_.jsx("div",{className:"p-2",children:_.jsx("button",{type:"button",className:"btn btn-light",children:_.jsx("a",{href:Kb,children:_.jsx("i",{class:"bi bi-github"})})})}),_.jsx("div",{className:"p-2",children:_.jsx("button",{type:"button",className:"btn btn-light",children:_.jsx("a",{href:qb,children:_.jsx("i",{class:"bi bi-linkedin"})})})}),_.jsx("div",{className:"p-2",children:_.jsx("button",{type:"button",className:"btn btn-light",children:_.jsx("a",{href:Gb,children:_.jsx("i",{class:"bi bi-instagram"})})})})]})})})}function Yb(){return _.jsx(_.Fragment,{children:_.jsx("div",{class:"container",children:_.jsx("div",{class:"d-flex align-items-center flex-row mb-3 vh-100",children:_.jsxs("div",{class:"p-2 flex-fill text-center",children:[_.jsxs("h1",{children:["Hello, I'm ",_.jsx("span",{id:"myName",children:"Fadhli"})]}),_.jsx("h3",{children:"an aspiring coder."}),_.jsx("br",{}),_.jsx("p",{children:"With great power comes great responsibility."}),_.jsx(Qb,{})]})})})})}const Xb="Disclaimer",Jb="This Website is a personal side project and is developed using React.";function Zb(){return _.jsxs(_.Fragment,{children:[_.jsx(Yb,{}),_.jsx(zb,{title:Xb,text:Jb}),_.jsx(Wb,{})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,m=(s&3)<<4|l>>4;let v=(l&15)<<2|c>>6,E=c&63;u||(E=64,o||(v=64)),r.push(n[d],n[m],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||m==null)throw new tA;const v=s<<2|l>>4;if(r.push(v),c!==64){const E=l<<4&240|c>>2;if(r.push(E),m!==64){const C=c<<6&192|m;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nA=function(t){const e=jE(t);return UE.encodeByteArray(e,!0)},Hc=function(t){return nA(t).replace(/\./g,"")},VE=function(t){try{return UE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=()=>rA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VE(t[1]);return e&&JSON.parse(e)},ig=()=>{try{return iA()||sA()||oA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zE=t=>{var e,n;return(n=(e=ig())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aA=t=>{const e=zE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BE=()=>{var t;return(t=ig())===null||t===void 0?void 0:t.config},HE=t=>{var e;return(e=ig())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Hc(JSON.stringify(n)),Hc(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function hA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fA(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gA,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vA(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,l,r)}}function vA(t,e){return t.replace(yA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yA=/\{\$([^}]+)}/g;function wA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(B0(s)&&B0(o)){if(!Wc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Na(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _A(t,e){const n=new EA(t,e);return n.subscribe.bind(n)}class EA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hf),i.error===void 0&&(i.error=hf),i.complete===void 0&&(i.complete=hf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IA(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(t){return t===es?void 0:t}function IA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const xA={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},bA=Ae.INFO,AA={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},NA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=bA,this._logHandler=NA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const DA=(t,e)=>e.some(n=>t instanceof n);let H0,W0;function RA(){return H0||(H0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return W0||(W0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,bp=new WeakMap,KE=new WeakMap,df=new WeakMap,og=new WeakMap;function OA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WE.set(n,t)}).catch(()=>{}),og.set(e,t),e}function LA(t){if(bp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bp.set(t,e)}let Ap={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MA(t){Ap=t(Ap)}function $A(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ff(this),e,...n);return KE.set(r,e.sort?e.sort():[e]),Ii(r)}:PA().includes(t)?function(...e){return t.apply(ff(this),e),Ii(WE.get(this))}:function(...e){return Ii(t.apply(ff(this),e))}}function FA(t){return typeof t=="function"?$A(t):(t instanceof IDBTransaction&&LA(t),DA(t,RA())?new Proxy(t,Ap):t)}function Ii(t){if(t instanceof IDBRequest)return OA(t);if(df.has(t))return df.get(t);const e=FA(t);return e!==t&&(df.set(t,e),og.set(e,t)),e}const ff=t=>og.get(t);function jA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ii(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ii(o.result),u.oldVersion,u.newVersion,Ii(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const UA=["get","getKey","getAll","getAllKeys","count"],VA=["put","add","delete","clear"],pf=new Map;function K0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UA.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return pf.set(e,s),s}MA(t=>({...t,get:(e,n,r)=>K0(e,n)||t.get(e,n,r),has:(e,n)=>!!K0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Np="@firebase/app",q0="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new sg("@firebase/app"),HA="@firebase/app-compat",WA="@firebase/analytics-compat",KA="@firebase/analytics",qA="@firebase/app-check-compat",GA="@firebase/app-check",QA="@firebase/auth",YA="@firebase/auth-compat",XA="@firebase/database",JA="@firebase/database-compat",ZA="@firebase/functions",eN="@firebase/functions-compat",tN="@firebase/installations",nN="@firebase/installations-compat",rN="@firebase/messaging",iN="@firebase/messaging-compat",sN="@firebase/performance",oN="@firebase/performance-compat",aN="@firebase/remote-config",lN="@firebase/remote-config-compat",uN="@firebase/storage",cN="@firebase/storage-compat",hN="@firebase/firestore",dN="@firebase/firestore-compat",fN="firebase",pN="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="[DEFAULT]",mN={[Np]:"fire-core",[HA]:"fire-core-compat",[KA]:"fire-analytics",[WA]:"fire-analytics-compat",[GA]:"fire-app-check",[qA]:"fire-app-check-compat",[QA]:"fire-auth",[YA]:"fire-auth-compat",[XA]:"fire-rtdb",[JA]:"fire-rtdb-compat",[ZA]:"fire-fn",[eN]:"fire-fn-compat",[tN]:"fire-iid",[nN]:"fire-iid-compat",[rN]:"fire-fcm",[iN]:"fire-fcm-compat",[sN]:"fire-perf",[oN]:"fire-perf-compat",[aN]:"fire-rc",[lN]:"fire-rc-compat",[uN]:"fire-gcs",[cN]:"fire-gcs-compat",[hN]:"fire-fst",[dN]:"fire-fst-compat","fire-js":"fire-js",[fN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,Rp=new Map;function gN(t,e){try{t.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ro(t){const e=t.name;if(Rp.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,t);for(const n of Kc.values())gN(n,t);return!0}function ag(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ki=new Fl("app","Firebase",vN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=pN;function qE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ki.create("bad-app-name",{appName:String(i)});if(n||(n=BE()),!n)throw ki.create("no-options");const s=Kc.get(i);if(s){if(Wc(n,s.options)&&Wc(r,s.config))return s;throw ki.create("duplicate-app",{appName:i})}const o=new kA(i);for(const u of Rp.values())o.addComponent(u);const l=new yN(n,r,o);return Kc.set(i,l),l}function GE(t=Dp){const e=Kc.get(t);if(!e&&t===Dp&&BE())return qE();if(!e)throw ki.create("no-app",{appName:t});return e}function xi(t,e,n){var r;let i=(r=mN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(l.join(" "));return}Ro(new vs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",_N=1,gl="firebase-heartbeat-store";let mf=null;function QE(){return mf||(mf=jA(wN,_N,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gl)}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),mf}async function EN(t){try{return await(await QE()).transaction(gl).objectStore(gl).get(YE(t))}catch(e){if(e instanceof Yr)ys.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(n.message)}}}async function G0(t,e){try{const r=(await QE()).transaction(gl,"readwrite");await r.objectStore(gl).put(e,YE(t)),await r.done}catch(n){if(n instanceof Yr)ys.warn(n.message);else{const r=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ys.warn(r.message)}}}function YE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=1024,TN=30*24*60*60*1e3;class CN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Q0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=TN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q0(),{heartbeatsToSend:n,unsentEntries:r}=IN(this._heartbeatsCache.heartbeats),i=Hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Q0(){return new Date().toISOString().substring(0,10)}function IN(t,e=SN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Y0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await EN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return Hc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){Ro(new vs("platform-logger",e=>new zA(e),"PRIVATE")),Ro(new vs("heartbeat",e=>new CN(e),"PRIVATE")),xi(Np,q0,t),xi(Np,q0,"esm2017"),xi("fire-js","")}xN("");var bN="firebase",AN="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(bN,AN,"app");var NN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,lg=lg||{},he=NN||self;function qc(){}function Oh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ul(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function DN(t){return Object.prototype.hasOwnProperty.call(t,gf)&&t[gf]||(t[gf]=++RN)}var gf="closure_uid_"+(1e9*Math.random()>>>0),RN=0;function PN(t,e,n){return t.call.apply(t.bind,arguments)}function ON(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=PN:Ht=ON,Ht.apply(null,arguments)}function Hu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function $i(){this.s=this.s,this.o=this.o}var LN=0;$i.prototype.s=!1;$i.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),LN!=0)&&DN(this)};$i.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ug(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function X0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Oh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var MN=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{he.addEventListener("test",qc,e),he.removeEventListener("test",qc,e)}catch{}return t}();function Gc(t){return/^[\s\xa0]*$/.test(t)}var J0=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function vf(t,e){return t<e?-1:t>e?1:0}function Lh(){var t=he.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return Lh().indexOf(t)!=-1}function cg(t){return cg[" "](t),t}cg[" "]=qc;function JE(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var $N=dr("Opera"),Po=dr("Trident")||dr("MSIE"),ZE=dr("Edge"),Pp=ZE||Po,eS=dr("Gecko")&&!(Lh().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),FN=Lh().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function tS(){var t=he.document;return t?t.documentMode:void 0}var Qc;e:{var yf="",wf=function(){var t=Lh();if(eS)return/rv:([^\);]+)(\)|;)/.exec(t);if(ZE)return/Edge\/([\d\.]+)/.exec(t);if(Po)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(FN)return/WebKit\/(\S+)/.exec(t);if($N)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(wf&&(yf=wf?wf[1]:""),Po){var _f=tS();if(_f!=null&&_f>parseFloat(yf)){Qc=String(_f);break e}}Qc=yf}var jN={};function UN(){return JE(jN,9,function(){let t=0;const e=J0(String(Qc)).split("."),n=J0("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=vf(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||vf(i[2].length==0,s[2].length==0)||vf(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Op;if(he.document&&Po){var Z0=tS();Op=Z0||parseInt(Qc,10)||void 0}else Op=void 0;var VN=Op;function vl(t,e){if(Wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eS){e:{try{cg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:zN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vl.$.h.call(this)}}xt(vl,Wt);var zN={2:"touch",3:"pen",4:"mouse"};vl.prototype.h=function(){vl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vl="closure_listenable_"+(1e6*Math.random()|0),BN=0;function HN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++BN,this.fa=this.ia=!1}function Mh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function hg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nS(t){const e={};for(const n in t)e[n]=t[n];return e}const ew="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ew.length;s++)n=ew[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $h(t){this.src=t,this.g={},this.h=0}$h.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Mp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new HN(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Lp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=XE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Mh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Mp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var dg="closure_lm_"+(1e6*Math.random()|0),Ef={};function iS(t,e,n,r,i){if(r&&r.once)return oS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)iS(t,e[s],n,r,i);return null}return n=mg(n),t&&t[Vl]?t.O(e,n,Ul(r)?!!r.capture:!!r,i):sS(t,e,n,!1,r,i)}function sS(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ul(i)?!!i.capture:!!i,l=pg(t);if(l||(t[dg]=l=new $h(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=WN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)MN||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function WN(){function t(n){return e.call(t.src,t.listener,n)}const e=KN;return t}function oS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oS(t,e[s],n,r,i);return null}return n=mg(n),t&&t[Vl]?t.P(e,n,Ul(r)?!!r.capture:!!r,i):sS(t,e,n,!0,r,i)}function aS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)aS(t,e[s],n,r,i);else r=Ul(r)?!!r.capture:!!r,n=mg(n),t&&t[Vl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Mp(s,n,r,i),-1<n&&(Mh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=pg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Mp(e,n,r,i)),(n=-1<t?e[t]:null)&&fg(n))}function fg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Vl])Lp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pg(e))?(Lp(n,t),n.h==0&&(n.src=null,e[dg]=null)):Mh(t)}}}function lS(t){return t in Ef?Ef[t]:Ef[t]="on"+t}function KN(t,e){if(t.fa)t=!0;else{e=new vl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fg(t),t=n.call(r,e)}return t}function pg(t){return t=t[dg],t instanceof $h?t:null}var Sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function mg(t){return typeof t=="function"?t:(t[Sf]||(t[Sf]=function(e){return t.handleEvent(e)}),t[Sf])}function kt(){$i.call(this),this.i=new $h(this),this.S=this,this.J=null}xt(kt,$i);kt.prototype[Vl]=!0;kt.prototype.removeEventListener=function(t,e,n,r){aS(this,t,e,n,r)};function Ot(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Wt(e,t);else if(e instanceof Wt)e.target=e.target||t;else{var i=e;e=new Wt(r,t),rS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Wu(o,r,!0,e)&&i}if(o=e.g=t,i=Wu(o,r,!0,e)&&i,i=Wu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Wu(o,r,!1,e)&&i}kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mh(n[r]);delete t.g[e],t.h--}}this.J=null};kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,u=o.la||o.src;o.ia&&Lp(t.i,o),i=l.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var gg=he.JSON.stringify;function qN(){var t=hS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class GN{constructor(){this.h=this.g=null}add(e,n){const r=uS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var uS=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new QN,t=>t.reset());class QN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function YN(t){he.setTimeout(()=>{throw t},0)}function cS(t,e){$p||XN(),Fp||($p(),Fp=!0),hS.add(t,e)}var $p;function XN(){var t=he.Promise.resolve(void 0);$p=function(){t.then(JN)}}var Fp=!1,hS=new GN;function JN(){for(var t;t=qN();){try{t.h.call(t.g)}catch(n){YN(n)}var e=uS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fp=!1}function Fh(t,e){kt.call(this),this.h=t||1,this.g=e||he,this.j=Ht(this.qb,this),this.l=Date.now()}xt(Fh,kt);H=Fh.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ot(this,"tick"),this.ga&&(vg(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function vg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Fh.$.N.call(this),vg(this),delete this.g};function yg(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:he.setTimeout(t,e||0)}function dS(t){t.g=yg(()=>{t.g=null,t.i&&(t.i=!1,dS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class ZN extends $i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dS(this)}N(){super.N(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yl(t){$i.call(this),this.h=t,this.g={}}xt(yl,$i);var tw=[];function fS(t,e,n,r){Array.isArray(n)||(n&&(tw[0]=n.toString()),n=tw);for(var i=0;i<n.length;i++){var s=iS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function pS(t){hg(t.g,function(e,n){this.g.hasOwnProperty(n)&&fg(e)},t),t.g={}}yl.prototype.N=function(){yl.$.N.call(this),pS(this)};yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function jh(){this.g=!0}jh.prototype.Ea=function(){this.g=!1};function eD(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),u=0;u<l.length;u++){var c=l[u].split("=");if(1<c.length){var d=c[0];c=c[1];var m=d.split("_");o=2<=m.length&&m[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function tD(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ao(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+rD(t,n)+(r?" "+r:"")})}function nD(t,e){t.info(function(){return"TIMEOUT: "+e})}jh.prototype.info=function(){};function rD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return gg(n)}catch{return e}}var bs={},nw=null;function Uh(){return nw=nw||new kt}bs.Ta="serverreachability";function mS(t){Wt.call(this,bs.Ta,t)}xt(mS,Wt);function wl(t){const e=Uh();Ot(e,new mS(e))}bs.STAT_EVENT="statevent";function gS(t,e){Wt.call(this,bs.STAT_EVENT,t),this.stat=e}xt(gS,Wt);function tn(t){const e=Uh();Ot(e,new gS(e,t))}bs.Ua="timingevent";function vS(t,e){Wt.call(this,bs.Ua,t),this.size=e}xt(vS,Wt);function zl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){t()},e)}var Vh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wg(){}wg.prototype.h=null;function rw(t){return t.h||(t.h=t.i())}function wS(){}var Bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _g(){Wt.call(this,"d")}xt(_g,Wt);function Eg(){Wt.call(this,"c")}xt(Eg,Wt);var jp;function zh(){}xt(zh,wg);zh.prototype.g=function(){return new XMLHttpRequest};zh.prototype.i=function(){return{}};jp=new zh;function Hl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new yl(this),this.P=iD,t=Pp?125:void 0,this.V=new Fh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new _S}function _S(){this.i=null,this.g="",this.h=!1}var iD=45e3,Up={},Yc={};H=Hl.prototype;H.setTimeout=function(t){this.P=t};function Vp(t,e,n){t.L=1,t.v=Hh(Br(e)),t.s=n,t.S=!0,ES(t,null)}function ES(t,e){t.G=Date.now(),Wl(t),t.A=Br(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),AS(n.i,"t",r),t.C=0,n=t.l.I,t.h=new _S,t.g=YS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ZN(Ht(t.Pa,t,t.g),t.O)),fS(t.U,t.g,"readystatechange",t.nb),e=t.I?nS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),wl(),eD(t.j,t.u,t.A,t.m,t.W,t.s)}H.nb=function(t){t=t.target;const e=this.M;e&&Rr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const d=Rr(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>d)&&(d!=3||Pp||this.g&&(this.h.h||this.g.ja()||aw(this.g)))){this.J||d!=4||e==7||(e==8||0>=m?wl(3):wl(2)),Bh(this);var n=this.g.da();this.aa=n;t:if(SS(this)){var r=aw(this.g);t="";var i=r.length,s=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),Ka(this);var o="";break t}this.h.i=new he.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,tD(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gc(l)){var c=l;break t}}c=null}if(n=c)ao(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zp(this,n);else{this.i=!1,this.o=3,tn(12),is(this),Ka(this);break e}}this.S?(TS(this,d,o),Pp&&this.i&&d==3&&(fS(this.U,this.V,"tick",this.mb),this.V.start())):(ao(this.j,this.m,o,null),zp(this,o)),d==4&&is(this),this.i&&!this.J&&(d==4?KS(this.l,this):(this.i=!1,Wl(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),is(this),Ka(this)}}}catch{}finally{}};function SS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function TS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=sD(t,n),i==Yc){e==4&&(t.o=4,tn(14),r=!1),ao(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Up){t.o=4,tn(15),ao(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ao(t.j,t.m,i,null),zp(t,i);SS(t)&&i!=Yc&&i!=Up&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),bg(e),e.L=!0,tn(11))):(ao(t.j,t.m,n,"[Invalid Chunked Response]"),is(t),Ka(t))}H.mb=function(){if(this.g){var t=Rr(this.g),e=this.g.ja();this.C<e.length&&(Bh(this),TS(this,t,e),this.i&&t!=4&&Wl(this))}};function sD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Yc:(n=Number(e.substring(n,r)),isNaN(n)?Up:(r+=1,r+n>e.length?Yc:(e=e.substr(r,n),t.C=r+n,e)))}H.cancel=function(){this.J=!0,is(this)};function Wl(t){t.Y=Date.now()+t.P,CS(t,t.P)}function CS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=zl(Ht(t.lb,t),e)}function Bh(t){t.B&&(he.clearTimeout(t.B),t.B=null)}H.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(nD(this.j,this.A),this.L!=2&&(wl(),tn(17)),is(this),this.o=2,Ka(this)):CS(this,this.Y-t)};function Ka(t){t.l.H==0||t.J||KS(t.l,t)}function is(t){Bh(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,vg(t.V),pS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function zp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Bp(n.h,t))){if(!t.K&&Bp(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zc(n),qh(n);else break e;xg(n),tn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=zl(Ht(n.ib,n),6e3));if(1>=RS(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else ss(n,11)}else if((t.K||n.g==t)&&Zc(n),!Gc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.J=c[1],n.oa=c[2];const d=c[3];d!=null&&(n.qa=d,n.j.info("VER="+n.qa));const m=c[4];m!=null&&(n.Ga=m,n.j.info("SVER="+n.Ga));const v=c[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const E=t.g;if(E){const C=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var s=r.h;s.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Sg(s,s.h),s.h=null))}if(r.F){const I=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,Qe(r.G,r.F,I))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=QS(r,r.I?r.oa:null,r.Y),o.K){PS(r.h,o);var l=o,u=r.K;u&&l.setTimeout(u),l.B&&(Bh(l),Wl(l)),r.g=o}else HS(r);0<n.i.length&&Gh(n)}else c[0]!="stop"&&c[0]!="close"||ss(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ss(n,7):kg(n):c[0]!="noop"&&n.l&&n.l.Aa(c),n.A=0)}}wl(4)}catch{}}function oD(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Oh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function aD(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Oh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function IS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Oh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=aD(t),r=oD(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var kS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function cs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof cs){this.h=e!==void 0?e:t.h,Xc(this,t.j),this.s=t.s,this.g=t.g,Jc(this,t.m),this.l=t.l,e=t.i;var n=new _l;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),iw(this,n),this.o=t.o}else t&&(n=String(t).match(kS))?(this.h=!!e,Xc(this,n[1]||"",!0),this.s=Ra(n[2]||""),this.g=Ra(n[3]||"",!0),Jc(this,n[4]),this.l=Ra(n[5]||"",!0),iw(this,n[6]||"",!0),this.o=Ra(n[7]||"")):(this.h=!!e,this.i=new _l(null,this.h))}cs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pa(e,sw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pa(e,sw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pa(n,n.charAt(0)=="/"?hD:cD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pa(n,fD)),t.join("")};function Br(t){return new cs(t)}function Xc(t,e,n){t.j=n?Ra(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function iw(t,e,n){e instanceof _l?(t.i=e,pD(t.i,t.h)):(n||(e=Pa(e,dD)),t.i=new _l(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function Hh(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ra(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,uD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sw=/[#\/\?@]/g,cD=/[#\?:]/g,hD=/[#\?]/g,dD=/[#\?@]/g,fD=/#/g;function _l(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fi(t){t.g||(t.g=new Map,t.h=0,t.i&&lD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=_l.prototype;H.add=function(t,e){Fi(this),this.i=null,t=Ko(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function xS(t,e){Fi(t),e=Ko(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function bS(t,e){return Fi(t),e=Ko(t,e),t.g.has(e)}H.forEach=function(t,e){Fi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.sa=function(){Fi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.Z=function(t){Fi(this);let e=[];if(typeof t=="string")bS(this,t)&&(e=e.concat(this.g.get(Ko(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return Fi(this),this.i=null,t=Ko(this,t),bS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function AS(t,e,n){xS(t,e),0<n.length&&(t.i=null,t.g.set(Ko(t,e),ug(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ko(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pD(t,e){e&&!t.j&&(Fi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(xS(this,r),AS(this,i,n))},t)),t.j=e}var mD=class{constructor(t,e){this.h=t,this.g=e}};function NS(t){this.l=t||gD,he.PerformanceNavigationTiming?(t=he.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(he.g&&he.g.Ka&&he.g.Ka()&&he.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gD=10;function DS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function RS(t){return t.h?1:t.g?t.g.size:0}function Bp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Sg(t,e){t.g?t.g.add(e):t.h=e}function PS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}NS.prototype.cancel=function(){if(this.i=OS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function OS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ug(t.i)}function Tg(){}Tg.prototype.stringify=function(t){return he.JSON.stringify(t,void 0)};Tg.prototype.parse=function(t){return he.JSON.parse(t,void 0)};function vD(){this.g=new Tg}function yD(t,e,n){const r=n||"";try{IS(t,function(i,s){let o=i;Ul(i)&&(o=gg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wD(t,e){const n=new jh;if(he.Image){const r=new Image;r.onload=Hu(Ku,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hu(Ku,n,r,"TestLoadImage: error",!1,e),r.onabort=Hu(Ku,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hu(Ku,n,r,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ku(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kl(t){this.l=t.fc||null,this.j=t.ob||!1}xt(Kl,wg);Kl.prototype.g=function(){return new Wh(this.l,this.j)};Kl.prototype.i=function(t){return function(){return t}}({});function Wh(t,e){kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Cg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Wh,kt);var Cg=0;H=Wh.prototype;H.open=function(t,e){if(this.readyState!=Cg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,El(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||he).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ql(this)),this.readyState=Cg};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function LS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ql(this):El(this),this.readyState==3&&LS(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,ql(this))};H.Ya=function(t){this.g&&(this.response=t,ql(this))};H.ka=function(){this.g&&ql(this)};function ql(t){t.readyState=4,t.l=null,t.j=null,t.A=null,El(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function El(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Wh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _D=he.JSON.parse;function st(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MS,this.L=this.M=!1}xt(st,kt);var MS="",ED=/^https?$/i,SD=["POST","PUT"];H=st.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jp.g(),this.C=this.u?rw(this.u):rw(jp),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ow(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=he.FormData&&t instanceof he.FormData,!(0<=XE(SD,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jS(this),0<this.B&&((this.L=TD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=yg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ow(this,s)}};function TD(t){return Po&&UN()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof lg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))};function ow(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$S(t),Kh(t)}function $S(t){t.F||(t.F=!0,Ot(t,"complete"),Ot(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),Kh(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kh(this,!0)),st.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?FS(this):this.kb())};H.kb=function(){FS(this)};function FS(t){if(t.h&&typeof lg<"u"&&(!t.C[1]||Rr(t)!=4||t.da()!=2)){if(t.v&&Rr(t)==4)yg(t.La,0,t);else if(Ot(t,"readystatechange"),Rr(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=l===0){var i=String(t.I).match(kS)[1]||null;if(!i&&he.self&&he.self.location){var s=he.self.location.protocol;i=s.substr(0,s.length-1)}r=!ED.test(i?i.toLowerCase():"")}n=r}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var o=2<Rr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",$S(t)}}finally{Kh(t)}}}}function Kh(t,e){if(t.g){jS(t);const n=t.g,r=t.C[0]?qc:null;t.g=null,t.C=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function jS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(he.clearTimeout(t.A),t.A=null)}function Rr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_D(e)}};function aw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case MS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function US(t){let e="";return hg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ig(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=US(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function Ea(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function VS(t){this.Ga=0,this.i=[],this.j=new jh,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ea("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ea("baseRetryDelayMs",5e3,t),this.hb=Ea("retryDelaySeedMs",1e4,t),this.eb=Ea("forwardChannelMaxRetries",2,t),this.xa=Ea("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new NS(t&&t.concurrentRequestLimit),this.Ja=new vD,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}H=VS.prototype;H.qa=8;H.H=1;function kg(t){if(zS(t),t.H==3){var e=t.W++,n=Br(t.G);Qe(n,"SID",t.J),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),Gl(t,n),e=new Hl(t,t.j,e,void 0),e.L=2,e.v=Hh(Br(n)),n=!1,he.navigator&&he.navigator.sendBeacon&&(n=he.navigator.sendBeacon(e.v.toString(),"")),!n&&he.Image&&(new Image().src=e.v,n=!0),n||(e.g=YS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wl(e)}GS(t)}function qh(t){t.g&&(bg(t),t.g.cancel(),t.g=null)}function zS(t){qh(t),t.u&&(he.clearTimeout(t.u),t.u=null),Zc(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&he.clearTimeout(t.m),t.m=null)}function Gh(t){DS(t.h)||t.m||(t.m=!0,cS(t.Na,t),t.C=0)}function CD(t,e){return RS(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=zl(Ht(t.Na,t,e),qS(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Hl(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=nS(s),rS(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=BS(this,i,e),n=Br(this.G),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),Gl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(US(s)))+"&"+e:this.o&&Ig(n,this.o,s)),Sg(this.h,i),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),i.ba=!0,Vp(i,n,null)):Vp(i,n,e),this.H=2}}else this.H==3&&(t?lw(this,t):this.i.length==0||DS(this.h)||lw(this))};function lw(t,e){var n;e?n=e.m:n=t.W++;const r=Br(t.G);Qe(r,"SID",t.J),Qe(r,"RID",n),Qe(r,"AID",t.V),Gl(t,r),t.o&&t.s&&Ig(r,t.o,t.s),n=new Hl(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=BS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Sg(t.h,n),Vp(n,r,e)}function Gl(t,e){t.ma&&hg(t.ma,function(n,r){Qe(e,r,n)}),t.l&&IS({},function(n,r){Qe(e,r,n)})}function BS(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ht(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let u=0;u<n;u++){let c=i[u].h;const d=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),l=!1;else try{yD(d,o,"req"+c+"_")}catch{r&&r(d)}}if(l){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function HS(t){t.g||t.u||(t.ba=1,cS(t.Ma,t),t.A=0)}function xg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=zl(Ht(t.Ma,t),qS(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,WS(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=zl(Ht(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,tn(10),qh(this),WS(this))};function bg(t){t.B!=null&&(he.clearTimeout(t.B),t.B=null)}function WS(t){t.g=new Hl(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Br(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.J),Qe(e,"CI",t.M?"0":"1"),Qe(e,"AID",t.V),Qe(e,"TYPE","xmlhttp"),Gl(t,e),t.o&&t.s&&Ig(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Hh(Br(e)),n.s=null,n.S=!0,ES(n,t)}H.ib=function(){this.v!=null&&(this.v=null,qh(this),xg(this),tn(19))};function Zc(t){t.v!=null&&(he.clearTimeout(t.v),t.v=null)}function KS(t,e){var n=null;if(t.g==e){Zc(t),bg(t),t.g=null;var r=2}else if(Bp(t.h,e))n=e.F,PS(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Uh(),Ot(r,new vS(r,n)),Gh(t)}else HS(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&CD(t,e)||r==2&&xg(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ss(t,5);break;case 4:ss(t,10);break;case 3:ss(t,6);break;default:ss(t,2)}}}function qS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function ss(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Ht(t.pb,t);n||(n=new cs("//www.google.com/images/cleardot.gif"),he.location&&he.location.protocol=="http"||Xc(n,"https"),Hh(n)),wD(n.toString(),r)}else tn(2);t.H=0,t.l&&t.l.za(e),GS(t),zS(t)}H.pb=function(t){t?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function GS(t){if(t.H=0,t.pa=[],t.l){const e=OS(t.h);(e.length!=0||t.i.length!=0)&&(X0(t.pa,e),X0(t.pa,t.i),t.h.i.length=0,ug(t.i),t.i.length=0),t.l.ya()}}function QS(t,e,n){var r=n instanceof cs?Br(n):new cs(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Jc(r,r.m);else{var i=he.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new cs(null,void 0);r&&Xc(s,r),e&&(s.g=e),i&&Jc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Qe(r,n,e),Qe(r,"VER",t.qa),Gl(t,r),r}function YS(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new st(new Kl({ob:!0})):new st(t.va),e.Oa(t.I),e}function XS(){}H=XS.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.Va=function(){};function eh(){if(Po&&!(10<=Number(VN)))throw Error("Environmental error: no available transport.")}eh.prototype.g=function(t,e){return new Tn(t,e)};function Tn(t,e){kt.call(this),this.g=new VS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qo(this)}xt(Tn,kt);Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=QS(t,null,t.Y),Gh(t)};Tn.prototype.close=function(){kg(this.g)};Tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=gg(t),t=n);e.i.push(new mD(e.fb++,t)),e.H==3&&Gh(e)};Tn.prototype.N=function(){this.g.l=null,delete this.j,kg(this.g),delete this.g,Tn.$.N.call(this)};function JS(t){_g.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(JS,_g);function ZS(){Eg.call(this),this.status=1}xt(ZS,Eg);function qo(t){this.g=t}xt(qo,XS);qo.prototype.Ba=function(){Ot(this.g,"a")};qo.prototype.Aa=function(t){Ot(this.g,new JS(t))};qo.prototype.za=function(t){Ot(this.g,new ZS)};qo.prototype.ya=function(){Ot(this.g,"b")};function ID(){this.blockSize=-1}function er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(er,ID);er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Tf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}er.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Tf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Tf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Tf(this,r),i=0;break}}this.h=i,this.i+=e};er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var kD={};function Ag(t){return-128<=t&&128>t?JE(kD,t,function(e){return new Me([e|0],0>e?-1:0)}):new Me([t|0],0>t?-1:0)}function fr(t){if(isNaN(t)||!isFinite(t))return yo;if(0>t)return Rt(fr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Hp;return new Me(e,0)}function eT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Rt(eT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fr(Math.pow(e,8)),r=yo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=fr(Math.pow(e,s)),r=r.R(s).add(fr(o))):(r=r.R(n),r=r.add(fr(o)))}return r}var Hp=4294967296,yo=Ag(0),Wp=Ag(1),uw=Ag(16777216);H=Me.prototype;H.ea=function(){if(Pn(this))return-Rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Hp+r)*e,e*=Hp}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Pr(this))return"0";if(Pn(this))return"-"+Rt(this).toString(t);for(var e=fr(Math.pow(t,6)),n=this,r="";;){var i=nh(n,e).g;n=th(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Pr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Pr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Pn(t){return t.h==-1}H.X=function(t){return t=th(this,t),Pn(t)?-1:Pr(t)?0:1};function Rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(Wp)}H.abs=function(){return Pn(this)?Rt(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Me(n,n[n.length-1]&-2147483648?-1:0)};function th(t,e){return t.add(Rt(e))}H.R=function(t){if(Pr(this)||Pr(t))return yo;if(Pn(this))return Pn(t)?Rt(this).R(Rt(t)):Rt(Rt(this).R(t));if(Pn(t))return Rt(this.R(Rt(t)));if(0>this.X(uw)&&0>t.X(uw))return fr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,qu(n,2*r+2*i),n[2*r+2*i+1]+=s*u,qu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,qu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,qu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)};function qu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sa(t,e){this.g=t,this.h=e}function nh(t,e){if(Pr(e))throw Error("division by zero");if(Pr(t))return new Sa(yo,yo);if(Pn(t))return e=nh(Rt(t),e),new Sa(Rt(e.g),Rt(e.h));if(Pn(e))return e=nh(t,Rt(e)),new Sa(Rt(e.g),e.h);if(30<t.g.length){if(Pn(t)||Pn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wp,r=e;0>=r.X(t);)n=cw(n),r=cw(r);var i=Ks(n,1),s=Ks(r,1);for(r=Ks(r,2),n=Ks(n,2);!Pr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ks(r,1),n=Ks(n,1)}return e=th(t,i.R(e)),new Sa(i,e)}for(i=yo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=fr(n),o=s.R(e);Pn(o)||0<o.X(t);)n-=r,s=fr(n),o=s.R(e);Pr(s)&&(s=Wp),i=i.add(s),t=th(t,o)}return new Sa(i,t)}H.gb=function(t){return nh(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)};function cw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function Ks(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Me(i,t.h)}eh.prototype.createWebChannel=eh.prototype.g;Tn.prototype.send=Tn.prototype.u;Tn.prototype.open=Tn.prototype.m;Tn.prototype.close=Tn.prototype.close;Vh.NO_ERROR=0;Vh.TIMEOUT=8;Vh.HTTP_ERROR=6;yS.COMPLETE="complete";wS.EventType=Bl;Bl.OPEN="a";Bl.CLOSE="b";Bl.ERROR="c";Bl.MESSAGE="d";kt.prototype.listen=kt.prototype.O;st.prototype.listenOnce=st.prototype.P;st.prototype.getLastError=st.prototype.Sa;st.prototype.getLastErrorCode=st.prototype.Ia;st.prototype.getStatus=st.prototype.da;st.prototype.getResponseJson=st.prototype.Wa;st.prototype.getResponseText=st.prototype.ja;st.prototype.send=st.prototype.ha;st.prototype.setWithCredentials=st.prototype.Oa;er.prototype.digest=er.prototype.l;er.prototype.reset=er.prototype.reset;er.prototype.update=er.prototype.j;Me.prototype.add=Me.prototype.add;Me.prototype.multiply=Me.prototype.R;Me.prototype.modulo=Me.prototype.gb;Me.prototype.compare=Me.prototype.X;Me.prototype.toNumber=Me.prototype.ea;Me.prototype.toString=Me.prototype.toString;Me.prototype.getBits=Me.prototype.D;Me.fromNumber=fr;Me.fromString=eT;var xD=function(){return new eh},bD=function(){return Uh()},Cf=Vh,AD=yS,ND=bs,hw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},DD=Kl,Gu=wS,RD=st,PD=er,wo=Me;const dw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new sg("@firebase/firestore");function fw(){return ws.logLevel}function ee(t,...e){if(ws.logLevel<=Ae.DEBUG){const n=e.map(Ng);ws.debug(`Firestore (${Go}): ${t}`,...n)}}function Hr(t,...e){if(ws.logLevel<=Ae.ERROR){const n=e.map(Ng);ws.error(`Firestore (${Go}): ${t}`,...n)}}function Oo(t,...e){if(ws.logLevel<=Ae.WARN){const n=e.map(Ng);ws.warn(`Firestore (${Go}): ${t}`,...n)}}function Ng(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+t;throw Hr(e),new Error(e)}function Ke(t,e){t||ce()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class LD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MD{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $r,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $r)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new tT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Ut(e)}}class $D{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class FD{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new $D(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.T=n.token,new jD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new _t(0,0))}static max(){return new pe(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends Sl{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const zD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Sl{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return zD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ne(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ne(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ne(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ne(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ye.fromString(e))}static fromName(e){return new se(Ye.fromString(e).popFirst(5))}static empty(){return new se(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ye(e.slice()))}}function BD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Di(i,se.empty(),e)}function HD(t){return new Di(t.readTime,t.key,-1)}class Di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Di(pe.min(),se.empty(),-1)}static max(){return new Di(pe.max(),se.empty(),-1)}}function WD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==KD)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Dg.ct=-1;function Qh(t){return t==null}function rh(t){return t===0&&1/t==-1/0}function GD(t){return typeof t=="number"&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=s??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Dt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mw(this.data.getIterator())}getIteratorFrom(e){return new mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Kt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new iT("Invalid base64 string: "+i):i}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const QD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=QD.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _s(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pg(t){const e=t.mapValue.fields.__previous_value__;return Rg(e)?Pg(e):e}function Tl(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Cl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rg(t)?4:XD(t)?9007199254740991:10:ce()}function wr(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tl(t).isEqual(Tl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ri(r.timestampValue),o=Ri(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return _s(r.bytesValue).isEqual(_s(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dt(r.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(r.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dt(r.integerValue)===dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=dt(r.doubleValue),o=dt(i.doubleValue);return s===o?rh(s)===rh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(pw(s)!==pw(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!wr(s[l],o[l])))return!1;return!0}(t,e);default:return ce()}}function Il(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=dt(i.integerValue||i.doubleValue),l=dt(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return gw(t.timestampValue,e.timestampValue);case 4:return gw(Tl(t),Tl(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,s){const o=_s(i),l=_s(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=Re(o[u],l[u]);if(c!==0)return c}return Re(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Re(dt(i.latitude),dt(s.latitude));return o!==0?o:Re(dt(i.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],l=s.values||[];for(let u=0;u<o.length&&u<l.length;++u){const c=Mo(o[u],l[u]);if(c)return c}return Re(o.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Yu.mapValue&&s===Yu.mapValue)return 0;if(i===Yu.mapValue)return 1;if(s===Yu.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const m=Re(l[d],c[d]);if(m!==0)return m;const v=Mo(o[l[d]],u[c[d]]);if(v!==0)return v}return Re(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ce()}}function gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Ri(t),r=Ri(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function $o(t){return Kp(t)}function Kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ri(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_s(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,se.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Kp(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${Kp(r.fields[l])}`;return s+"}"}(t.mapValue):ce();var e,n}function qp(t){return!!t&&"integerValue"in t}function Og(t){return!!t&&"arrayValue"in t}function vw(t){return!!t&&"nullValue"in t}function yw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dc(t){return!!t&&"mapValue"in t}function qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=qa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){As(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cn(qa(this.value))}}function sT(t){const e=[];return As(t.fields,(n,r)=>{const i=new Bt([n]);if(dc(r)){const s=sT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new zt(e,0,pe.min(),pe.min(),pe.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,pe.min(),pe.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,pe.min(),pe.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.position=e,this.inclusive=n}}function ww(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _w(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n="asc"){this.field=e,this.dir=n}}function JD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{}class yt extends oT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eR(e,n,r):n==="array-contains"?new rR(e,r):n==="in"?new iR(e,r):n==="not-in"?new sR(e,r):n==="array-contains-any"?new oR(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tR(e,r):new nR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _r extends oT{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new _r(e,n)}matches(e){return aT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function aT(t){return t.op==="and"}function lT(t){return ZD(t)&&aT(t)}function ZD(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function Gp(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(lT(t))return t.filters.map(e=>Gp(e)).join(",");{const e=t.filters.map(n=>Gp(n)).join(",");return`${t.op}(${e})`}}function uT(t,e){return t instanceof yt?function(n,r){return r instanceof yt&&n.op===r.op&&n.field.isEqual(r.field)&&wr(n.value,r.value)}(t,e):t instanceof _r?function(n,r){return r instanceof _r&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&uT(s,r.filters[o]),!0):!1}(t,e):void ce()}function cT(t){return t instanceof yt?function(e){return`${e.field.canonicalString()} ${e.op} ${$o(e.value)}`}(t):t instanceof _r?function(e){return e.op.toString()+" {"+e.getFilters().map(cT).join(" ,")+"}"}(t):"Filter"}class eR extends yt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class tR extends yt{constructor(e,n){super(e,"in",n),this.keys=hT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nR extends yt{constructor(e,n){super(e,"not-in",n),this.keys=hT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class rR extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Og(n)&&Il(n.arrayValue,this.value)}}class iR extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}}class sR extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Il(this.value.arrayValue,n)}}class oR extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Og(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.dt=null}}function Ew(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aR(t,e,n,r,i,s,o)}function Lg(t){const e=ve(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),e.dt=n}return e.dt}function Mg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_w(t.startAt,e.startAt)&&_w(t.endAt,e.endAt)}function Qp(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function lR(t,e,n,r,i,s,o,l){return new Yh(t,e,n,r,i,s,o,l)}function $g(t){return new Yh(t)}function Sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uR(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function cR(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function hR(t){return t.collectionGroup!==null}function _o(t){const e=ve(t);if(e.wt===null){e.wt=[];const n=cR(e),r=uR(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Ga(n)),e.wt.push(new Ga(Bt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ga(Bt.keyField(),s))}}}return e.wt}function Wr(t){const e=ve(t);if(!e._t)if(e.limitType==="F")e._t=Ew(e.path,e.collectionGroup,_o(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of _o(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ga(s.field,o))}const r=e.endAt?new ih(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ih(e.startAt.position,e.startAt.inclusive):null;e._t=Ew(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Yp(t,e,n){return new Yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xh(t,e){return Mg(Wr(t),Wr(e))&&t.limitType===e.limitType}function dT(t){return`${Lg(Wr(t))}|lt:${t.limitType}`}function Xp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>cT(r)).join(", ")}]`),Qh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),`Target(${n})`}(Wr(t))}; limitType=${t.limitType})`}function Jh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):se.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of _o(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const l=ww(i,s,o);return i.inclusive?l<=0:l<0}(n.startAt,_o(n),r)||n.endAt&&!function(i,s,o){const l=ww(i,s,o);return i.inclusive?l>=0:l>0}(n.endAt,_o(n),r))}(t,e)}function dR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fT(t){return(e,n)=>{let r=!1;for(const i of _o(t)){const s=fR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fR(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,s,o){const l=s.data.field(i),u=o.data.field(i);return l!==null&&u!==null?Mo(l,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new tt(se.comparator);function Kr(){return pR}const pT=new tt(se.comparator);function Oa(...t){let e=pT;for(const n of t)e=e.insert(n.key,n);return e}function mT(t){let e=pT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function os(){return Qa()}function gT(){return Qa()}function Qa(){return new Qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const mR=new tt(se.comparator),gR=new Kt(se.comparator);function Ce(...t){let e=gR;for(const n of t)e=e.add(n);return e}const vR=new Kt(Re);function yR(){return vR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function yT(t){return{integerValue:""+t}}function wR(t,e){return GD(e)?yT(e):vT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function _R(t,e,n){return t instanceof sh?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Rg(i)&&(i=Pg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof kl?_T(t,e):t instanceof xl?ET(t,e):function(r,i){const s=wT(r,i),o=Tw(s)+Tw(r.gt);return qp(s)&&qp(r.gt)?yT(o):vT(r.serializer,o)}(t,e)}function ER(t,e,n){return t instanceof kl?_T(t,e):t instanceof xl?ET(t,e):n}function wT(t,e){return t instanceof oh?qp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class sh extends Zh{}class kl extends Zh{constructor(e){super(),this.elements=e}}function _T(t,e){const n=ST(e);for(const r of t.elements)n.some(i=>wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends Zh{constructor(e){super(),this.elements=e}}function ET(t,e){let n=ST(e);for(const r of t.elements)n=n.filter(i=>!wr(i,r));return{arrayValue:{values:n}}}class oh extends Zh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Tw(t){return dt(t.integerValue||t.doubleValue)}function ST(t){return Og(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SR(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof kl&&r instanceof kl||n instanceof xl&&r instanceof xl?Lo(n.elements,r.elements,wr):n instanceof oh&&r instanceof oh?wr(n.gt,r.gt):n instanceof sh&&r instanceof sh}(t.transform,e.transform)}class TR{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ed{}function TT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fg(t.key,Jn.none()):new Xl(t.key,t.data,Jn.none());{const n=t.data,r=cn.empty();let i=new Kt(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ji(t.key,r,new wn(i.toArray()),Jn.none())}}function CR(t,e,n){t instanceof Xl?function(r,i,s){const o=r.value.clone(),l=Iw(r.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(r,i,s){if(!fc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Iw(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(CT(r)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ya(t,e,n,r){return t instanceof Xl?function(i,s,o,l){if(!fc(i.precondition,s))return o;const u=i.value.clone(),c=kw(i.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(i,s,o,l){if(!fc(i.precondition,s))return o;const u=kw(i.fieldTransforms,l,s),c=s.data;return c.setAll(CT(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,s,o){return fc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function IR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=wT(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function Cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Lo(n,r,(i,s)=>SR(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends ed{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ji extends ed{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Iw(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,ER(o,l,n[i]))}return r}function kw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_R(s,o,e))}return r}class Fg extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kR extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&CR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=TT(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>Cw(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>Cw(n,r))}}class jg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=mR;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,xe;function NR(t){switch(t){default:return ce();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function IT(t){if(t===void 0)return Hr("GRPC error has no .code"),P.UNKNOWN;switch(t){case ct.OK:return P.OK;case ct.CANCELLED:return P.CANCELLED;case ct.UNKNOWN:return P.UNKNOWN;case ct.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case ct.INTERNAL:return P.INTERNAL;case ct.UNAVAILABLE:return P.UNAVAILABLE;case ct.UNAUTHENTICATED:return P.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case ct.NOT_FOUND:return P.NOT_FOUND;case ct.ALREADY_EXISTS:return P.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return P.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case ct.ABORTED:return P.ABORTED;case ct.OUT_OF_RANGE:return P.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return P.UNIMPLEMENTED;case ct.DATA_LOSS:return P.DATA_LOSS;default:return ce()}}(xe=ct||(ct={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xu}static getOrCreateInstance(){return Xu===null&&(Xu=new Ug),Xu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Xu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new wo([4294967295,4294967295],0);function xw(t){const e=DR().encode(t),n=new PD;return n.update(e),new Uint8Array(n.digest())}function bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wo([n,r],0),new wo([i,s],0)]}class Vg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new La(`Invalid padding: ${n}`);if(r<0)throw new La(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new La(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=wo.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(wo.fromNumber(r)));return i.compare(RR)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=xw(e),[r,i]=bw(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Vg(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.It===0)return;const n=xw(e),[r,i]=bw(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new td(pe.min(),i,new tt(Re),Kr(),Ce())}}class Jl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jl(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class kT{constructor(e,n){this.targetId=e,this.Vt=n}}class xT{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Aw{constructor(){this.St=0,this.Dt=Dw(),this.Ct=Qt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ce(),n=Ce(),r=Ce();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Jl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Dw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class PR{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Kr(),this.zt=Nw(),this.Wt=new tt(Re)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Qp(o))if(i===0){const l=new se(o.path);this.Yt(r,l,zt.newNoDocument(l,pe.min()))}else Ke(i===1);else{const l=this.ie(r);if(l!==i){const u=this.re(e,l);if(u!==0){this.ee(r);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=Ug.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,m){var v,E,C,I,N,p;const y={localCacheCount:d,existenceFilterCount:m.count},w=m.unchangedNames;return w&&(y.bloomFilter={applied:c===0,hashCount:(v=w==null?void 0:w.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(I=(C=(E=w==null?void 0:w.bits)===null||E===void 0?void 0:E.bitmap)===null||C===void 0?void 0:C.length)!==null&&I!==void 0?I:0,padding:(p=(N=w==null?void 0:w.bits)===null||N===void 0?void 0:N.padding)!==null&&p!==void 0?p:0}),y}(u,l,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=r;let u,c;try{u=_s(s).toUint8Array()}catch(d){if(d instanceof iT)return Oo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new Vg(u,o,l)}catch(d){return Oo(d instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(l)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const l=this.se(o);if(l){if(s.current&&Qp(l.target)){const u=new se(l.target.path);this.jt.get(u)!==null||this.ae(o,u)||this.Yt(o,u,zt.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Ce();this.zt.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new td(e,n,this.Wt,this.jt,r);return this.jt=Kr(),this.zt=Nw(),this.Wt=new tt(Re),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Aw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Kt(Re),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Aw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Nw(){return new tt(se.comparator)}function Dw(){return new tt(se.comparator)}const OR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),LR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),MR=(()=>({and:"AND",or:"OR"}))();class $R{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jp(t,e){return t.useProto3Json||Qh(e)?e:{value:e}}function ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FR(t,e){return ah(t,e.toTimestamp())}function gr(t){return Ke(!!t),pe.fromTimestamp(function(e){const n=Ri(e);return new _t(n.seconds,n.nanos)}(t))}function zg(t,e){return function(n){return new Ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function AT(t){const e=Ye.fromString(t);return Ke(PT(e)),e}function Zp(t,e){return zg(t.databaseId,e.path)}function If(t,e){const n=AT(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(NT(n))}function em(t,e){return zg(t.databaseId,e)}function jR(t){const e=AT(t);return e.length===4?Ye.emptyPath():NT(e)}function tm(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NT(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rw(t,e,n){return{name:Zp(t,e),fields:n.value.mapValue.fields}}function UR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ke(c===void 0||typeof c=="string"),Qt.fromBase64String(c||"")):(Ke(c===void 0||c instanceof Uint8Array),Qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const c=u.code===void 0?P.UNKNOWN:IT(u.code);return new ne(c,u.message||"")}(o);n=new xT(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=If(t,r.document.name),s=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):pe.min(),l=new cn({mapValue:{fields:r.document.fields}}),u=zt.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new pc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=If(t,r.document),s=r.readTime?gr(r.readTime):pe.min(),o=zt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new pc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=If(t,r.document),s=r.removedTargetIds||[];n=new pc([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new AR(i,s),l=r.targetId;n=new kT(l,o)}}return n}function VR(t,e){let n;if(e instanceof Xl)n={update:Rw(t,e.key,e.value)};else if(e instanceof Fg)n={delete:Zp(t,e.key)};else if(e instanceof ji)n={update:Rw(t,e.key,e.data),updateMask:YR(e.fieldMask)};else{if(!(e instanceof kR))return ce();n={verify:Zp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof sh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof kl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof xl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof oh)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:FR(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function zR(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?gr(r.updateTime):gr(i);return s.isEqual(pe.min())&&(s=gr(i)),new TR(s,r.transformResults||[])}(n,e))):[]}function BR(t,e){return{documents:[em(t,e.path)]}}function HR(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=em(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=em(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return RT(_r.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:qs(d.field),direction:qR(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Jp(t,e.limit);var l;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function WR(t){let e=jR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(d){const m=DT(d);return m instanceof _r&&lT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(m){return new Ga(Gs(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d)));let l=null;n.limit&&(l=function(d){let m;return m=typeof d=="object"?d.value:d,Qh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(d){const m=!!d.before,v=d.values||[];return new ih(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,v=d.values||[];return new ih(v,m)}(n.endAt)),lR(e,i,o,s,l,"F",u,c)}function KR(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DT(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Gs(e.unaryFilter.field);return yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Gs(e.unaryFilter.field);return yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gs(e.unaryFilter.field);return yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gs(e.unaryFilter.field);return yt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(e){return yt.create(Gs(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return _r.create(e.compositeFilter.filters.map(n=>DT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ce()}}(e.compositeFilter.op))}(t):ce()}function qR(t){return OR[t]}function GR(t){return LR[t]}function QR(t){return MR[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Gs(t){return Bt.fromServerFormat(t.fieldPath)}function RT(t){return t instanceof yt?function(e){if(e.op==="=="){if(yw(e.value))return{unaryFilter:{field:qs(e.field),op:"IS_NAN"}};if(vw(e.value))return{unaryFilter:{field:qs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(yw(e.value))return{unaryFilter:{field:qs(e.field),op:"IS_NOT_NAN"}};if(vw(e.value))return{unaryFilter:{field:qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(e.field),op:GR(e.op),value:e.value}}}(t):t instanceof _r?function(e){const n=e.getFilters().map(r=>RT(r));return n.length===1?n[0]:{compositeFilter:{op:QR(e.op),filters:n}}}(t):ce()}function YR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r,i,s=pe.min(),o=pe.min(),l=Qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.fe=e}}function JR(t){const e=WR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.rn=new eP}addToCollectionParentIndex(e,n){return this.rn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Di.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class eP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(Ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fo(0)}static Mn(){return new Fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.changes=new Qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ya(r.mutation,i,wn.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=os();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oa();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Kr();const o=Qa(),l=Qa();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ji)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ya(d.mutation,c,d.mutation.getFieldMask(),_t.now())):o.set(c.key,wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var m;return l.set(c,new nP(d,(m=o.get(c))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Qa();let i=new tt((o,l)=>o-l),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||wn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const m=(i.get(l.batchId)||Ce()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,m=gT();d.forEach(v=>{if(!s.has(v)){const E=TT(n.get(v),r.get(v));E!==null&&m.set(v,E),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(os());let l=-1,u=s;return o.next(c=>F.forEach(c,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{u=u.insert(d,v)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Ce())).next(d=>({batchId:l,changes:mT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Oa();return this.indexManager.getCollectionParents(e,i).next(o=>F.forEach(o,l=>{const u=function(c,d){return new Yh(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((d,m)=>{s=s.insert(d,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,zt.newInvalidDocument(c)))});let o=Oa();return s.forEach((l,u)=>{const c=i.get(l);c!==void 0&&Ya(c.mutation,u,wn.empty(),_t.now()),Jh(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return F.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:gr(r.createTime)}),F.resolve()}getNamedQuery(e,n){return F.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:JR(r.bundledQuery),readTime:gr(r.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.overlays=new tt(se.comparator),this.ls=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=os();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=os(),s=n.length+1,o=new se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=os(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=os(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return F.resolve(l)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bR(n,r));let s=this.ls.get(n);s===void 0&&(s=Ce(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.fs=new Kt(Tt.ds),this.ws=new Kt(Tt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Tt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new se(new Ye([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new se(new Ye([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=Ce();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return se.comparator(e.key,n.key)||Re(e.As,n.As)}static _s(e,n){return Re(e.As,n.As)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Kt(Tt.ds)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xR(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Rs=this.Rs.add(new Tt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const l=this.Ps(o.As);s.push(l)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(Re);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],l=>{r=r.add(l.As)})}),F.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new se(s),0);let l=new Kt(Re);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.As)),!0)},o),F.resolve(this.Vs(l))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return F.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Tt(n,0),i=this.Rs.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.Ds=e,this.docs=new tt(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Kr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Kr();const o=n.path,l=new se(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||WD(HD(d),r)<=0||(i.has(d.key)||Jh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Cs(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lP(this)}getSize(e){return F.resolve(this.size)}}class lP extends tP{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.persistence=e,this.xs=new Qo(n=>Lg(n),Mg),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Bg,this.targetCount=0,this.Ms=Fo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),F.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Fn(n),F.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.$s={},this.overlays={},this.Os=new Dg(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uP(this),this.indexManager=new ZR,this.remoteDocumentCache=function(r){return new aP(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new XR(n),this.qs=new iP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new oP(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new hP(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return F.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class hP extends qD{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Qs=new Bg,this.js=null}static zs(e){return new Hg(e)}get Ws(){if(this.js)return this.js;throw ce()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),F.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Ws,r=>{const i=se.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,pe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return F.or([()=>F.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Wg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Sw(n))return F.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yp(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ce(...s);return this.Ui.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,l);return this.zi(n,c,o,u.readTime)?this.Ki(e,Yp(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return Sw(n)||i.isEqual(pe.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(fw()<=Ae.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xp(n)),this.Wi(e,o,n,BD(i,-1)))})}ji(e,n){let r=new Kt(fT(e));return n.forEach((i,s)=>{Jh(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return fw()<=Ae.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Xp(n)),this.Ui.getDocumentsMatchingQuery(e,n,Di.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new tt(Re),this.Yi=new Qo(s=>Lg(s),Mg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function pP(t,e,n,r){return new fP(t,e,n,r)}async function OT(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Ce();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:l}))})})}function mP(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,m=d.keys();let v=F.resolve();return m.forEach(E=>{v=v.next(()=>c.getEntry(l,E)).next(C=>{const I=u.docVersions.get(E);Ke(I!==null),C.version.compareTo(I)<0&&(d.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),c.addEntry(C)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ce();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LT(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function gP(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const l=[];e.targetChanges.forEach((d,m)=>{const v=i.get(m);if(!v)return;l.push(n.Bs.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.Bs.addMatchingKeys(s,d.addedDocuments,m)));let E=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(Qt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,r)),i=i.insert(m,E),function(C,I,N){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(v,E,d)&&l.push(n.Bs.updateTargetData(s,E))});let u=Kr(),c=Ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(vP(s,o,e.documentUpdates).next(d=>{u=d.nr,c=d.sr})),!r.isEqual(pe.min())){const d=n.Bs.getLastRemoteSnapshotVersion(s).next(m=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return F.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}function vP(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Kr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(pe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):ee("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}function yP(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wP(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new gi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function nm(t,e,n){const r=ve(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yl(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Pw(t,e,n){const r=ve(t);let i=pe.min(),s=Ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,c){const d=ve(l),m=d.Yi.get(c);return m!==void 0?F.resolve(d.Ji.get(m)):d.Bs.getTargetData(u,c)}(r,o,Wr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:pe.min(),n?s:Ce())).next(l=>(_P(r,dR(e),l),{documents:l,ir:s})))}function _P(t,e,n){let r=t.Xi.get(e)||pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Ow{constructor(){this.activeTargetIds=yR()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EP{constructor(){this.Hr=new Ow,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ow,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function kf(){return Ju===null?Ju=268435456+Math.round(2147483648*Math.random()):Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class IP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=kf(),l=this.To(e,n);ee("RestConnection",`Sending RPC '${e}' ${o}:`,l,r);const u={};return this.Eo(u,i,s),this.Ao(e,l,u,r).then(c=>(ee("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Oo("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",l,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Go,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=TP[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=kf();return new Promise((o,l)=>{const u=new RD;u.setWithCredentials(!0),u.listenOnce(AD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Cf.NO_ERROR:const d=u.getResponseJson();ee(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Cf.TIMEOUT:ee(jt,`RPC '${e}' ${s} timed out`),l(new ne(P.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const m=u.getStatus();if(ee(jt,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const C=function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(N)>=0?N:P.UNKNOWN}(E.status);l(new ne(C,E.message))}else l(new ne(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(P.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{ee(jt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ee(jt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=kf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xD(),l=bD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new DD({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");ee(jt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const m=o.createWebChannel(d,u);let v=!1,E=!1;const C=new CP({ro:N=>{E?ee(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(v||(ee(jt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),ee(jt,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},oo:()=>m.close()}),I=(N,p,y)=>{N.listen(p,w=>{try{y(w)}catch(k){setTimeout(()=>{throw k},0)}})};return I(m,Gu.EventType.OPEN,()=>{E||ee(jt,`RPC '${e}' stream ${i} transport opened.`)}),I(m,Gu.EventType.CLOSE,()=>{E||(E=!0,ee(jt,`RPC '${e}' stream ${i} transport closed`),C.wo())}),I(m,Gu.EventType.ERROR,N=>{E||(E=!0,Oo(jt,`RPC '${e}' stream ${i} transport errored:`,N),C.wo(new ne(P.UNAVAILABLE,"The operation could not be completed")))}),I(m,Gu.EventType.MESSAGE,N=>{var p;if(!E){const y=N.data[0];Ke(!!y);const w=y,k=w.error||((p=w[0])===null||p===void 0?void 0:p.error);if(k){ee(jt,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let j=function(W){const ie=ct[W];if(ie!==void 0)return IT(ie)}(M),V=k.message;j===void 0&&(j=P.INTERNAL,V="Unknown error status: "+M+" with message "+k.message),E=!0,C.wo(new ne(j,V)),m.close()}else ee(jt,`RPC '${e}' stream ${i} received:`,y),C._o(y)}}),I(l,ND.STAT_EVENT,N=>{N.stat===hw.PROXY?ee(jt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===hw.NOPROXY&&ee(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){return new $R(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r,i,s,o,l,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new MT(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new ne(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kP extends $T{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=UR(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?gr(s.readTime):pe.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=tm(this.serializer),n.addTarget=function(i,s){let o;const l=s.target;if(o=Qp(l)?{documents:BR(i,l)}:{query:HR(i,l)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=bT(i,s.resumeToken);const u=Jp(i,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(pe.min())>0){o.readTime=ah(i,s.snapshotVersion.toTimestamp());const u=Jp(i,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=KR(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=tm(this.serializer),n.removeTarget=e,this.Wo(n)}}class xP extends $T{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=zR(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.cu(r,n)}return Ke(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=tm(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VR(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ne(P.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(P.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(P.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class AP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Hr(n),this.mu=!1):ee("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Ns(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ve(l);u.vu.add(4),await Zl(u),u.bu.set("Unknown"),u.vu.delete(4),await rd(u)}(this))})}),this.bu=new AP(r,i)}}async function rd(t){if(Ns(t))for(const e of t.Ru)await e(!0)}async function Zl(t){for(const e of t.Ru)await e(!1)}function FT(t,e){const n=ve(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Gg(n)?qg(n):Yo(n).Ko()&&Kg(n,e))}function jT(t,e){const n=ve(t),r=Yo(n);n.Au.delete(e),r.Ko()&&UT(n,e),n.Au.size===0&&(r.Ko()?r.jo():Ns(n)&&n.bu.set("Unknown"))}function Kg(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(t).su(e)}function UT(t,e){t.Vu.qt(e),Yo(t).iu(e)}function qg(t){t.Vu=new PR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Yo(t).start(),t.bu.gu()}function Gg(t){return Ns(t)&&!Yo(t).Uo()&&t.Au.size>0}function Ns(t){return ve(t).vu.size===0}function VT(t){t.Vu=void 0}async function DP(t){t.Au.forEach((e,n)=>{Kg(t,e)})}async function RP(t,e){VT(t),Gg(t)?(t.bu.Iu(e),qg(t)):t.bu.set("Unknown")}async function PP(t,e,n){if(t.bu.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(t,r)}else if(e instanceof pc?t.Vu.Ht(e):e instanceof kT?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(pe.min()))try{const r=await LT(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=i.Au.get(l);if(!c)return;i.Au.set(l,c.withResumeToken(Qt.EMPTY_BYTE_STRING,c.snapshotVersion)),UT(i,l);const d=new gi(c.target,l,u,c.sequenceNumber);Kg(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await lh(t,r)}}async function lh(t,e,n){if(!Yl(e))throw e;t.vu.add(1),await Zl(t),t.bu.set("Offline"),n||(n=()=>LT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await rd(t)})}function zT(t,e){return e().catch(n=>lh(t,n,e))}async function id(t){const e=ve(t),n=Pi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;OP(e);)try{const i=await yP(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,LP(e,i)}catch(i){await lh(e,i)}BT(e)&&HT(e)}function OP(t){return Ns(t)&&t.Eu.length<10}function LP(t,e){t.Eu.push(e);const n=Pi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function BT(t){return Ns(t)&&!Pi(t).Uo()&&t.Eu.length>0}function HT(t){Pi(t).start()}async function MP(t){Pi(t).hu()}async function $P(t){const e=Pi(t);for(const n of t.Eu)e.uu(n.mutations)}async function FP(t,e,n){const r=t.Eu.shift(),i=jg.from(r,e,n);await zT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await id(t)}async function jP(t,e){e&&Pi(t).ou&&await async function(n,r){if(i=r.code,NR(i)&&i!==P.ABORTED){const s=n.Eu.shift();Pi(n).Qo(),await zT(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await id(n)}var i}(t,e),BT(t)&&HT(t)}async function Mw(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Ns(n);n.vu.add(3),await Zl(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await rd(n)}async function UP(t,e){const n=ve(t);e?(n.vu.delete(2),await rd(n)):e||(n.vu.add(2),await Zl(n),n.bu.set("Unknown"))}function Yo(t){return t.Su||(t.Su=function(e,n,r){const i=ve(e);return i.fu(),new kP(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:DP.bind(null,t),ao:RP.bind(null,t),nu:PP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Gg(t)?qg(t):t.bu.set("Unknown")):(await t.Su.stop(),VT(t))})),t.Su}function Pi(t){return t.Du||(t.Du=function(e,n,r){const i=ve(e);return i.fu(),new xP(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:MP.bind(null,t),ao:jP.bind(null,t),au:$P.bind(null,t),cu:FP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await id(t)):(await t.Du.stop(),t.Eu.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Qg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(t,e){if(Hr("AsyncQueue",`${e}: ${t}`),Yl(t))return new ne(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.Cu=new tt(se.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ce():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class jo{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new jo(e,n,Eo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.Nu=void 0,this.listeners=[]}}class zP{constructor(){this.queries=new Qo(e=>dT(e),Xh),this.onlineState="Unknown",this.ku=new Set}}async function WT(t,e){const n=ve(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new VP),i)try{s.Nu=await n.onListen(r)}catch(o){const l=Yg(o,`Initialization of query '${Xp(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Xg(n)}async function KT(t,e){const n=ve(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function BP(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.$u(i)&&(r=!0);o.Nu=i}}r&&Xg(n)}function HP(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Xg(t){t.ku.forEach(e=>{e.next()})}class qT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.key=e}}class QT{constructor(e){this.key=e}}class WP{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ce(),this.mutatedKeys=Ce(),this.tc=fT(e),this.ec=new Eo(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new $w,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const v=i.get(d),E=Jh(this.query,m)?m:null,C=!!v&&this.mutatedKeys.has(v.key),I=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;v&&E?v.data.isEqual(E.data)?C!==I&&(r.track({type:3,doc:E}),N=!0):this.rc(v,E)||(r.track({type:2,doc:E}),N=!0,(u&&this.tc(E,u)>0||c&&this.tc(E,c)<0)&&(l=!0)):!v&&E?(r.track({type:0,doc:E}),N=!0):v&&!E&&(r.track({type:1,doc:v}),N=!0,(u||c)&&(l=!0)),N&&(E?(o=o.add(E),s=I?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ec:o,ic:r,zi:l,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,d)=>function(m,v){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return E(m)-E(v)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);const o=n?this.uc():[],l=this.Zu.size===0&&this.current?1:0,u=l!==this.Xu;return this.Xu=l,s.length!==0||u?{snapshot:new jo(this.query,e.ec,i,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $w,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ce(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new QT(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new GT(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Ce();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return jo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class KP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qP{constructor(e){this.key=e,this.fc=!1}}class GP{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Qo(l=>dT(l),Xh),this._c=new Map,this.mc=new Set,this.gc=new tt(se.comparator),this.yc=new Map,this.Ic=new Bg,this.Tc={},this.Ec=new Map,this.Ac=Fo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function QP(t,e){const n=sO(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await wP(n.localStore,Wr(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await YP(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&FT(n.remoteStore,o)}return i}async function YP(t,e,n,r,i){t.Rc=(m,v,E)=>async function(C,I,N,p){let y=I.view.sc(N);y.zi&&(y=await Pw(C.localStore,I.query,!1).then(({documents:M})=>I.view.sc(M,y)));const w=p&&p.targetChanges.get(I.targetId),k=I.view.applyChanges(y,C.isPrimaryClient,w);return jw(C,I.targetId,k.cc),k.snapshot}(t,m,v,E);const s=await Pw(t.localStore,e,!0),o=new WP(e,s.ir),l=o.sc(s.documents),u=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);jw(t,n,c.cc);const d=new KP(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function XP(t,e){const n=ve(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Xh(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await nm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),jT(n.remoteStore,r.targetId),rm(n,r.targetId)}).catch(Ql)):(rm(n,r.targetId),await nm(n.localStore,r.targetId,!0))}async function JP(t,e,n){const r=oO(t);try{const i=await function(s,o){const l=ve(s),u=_t.now(),c=o.reduce((v,E)=>v.add(E.key),Ce());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Kr(),C=Ce();return l.Zi.getEntries(v,c).next(I=>{E=I,E.forEach((N,p)=>{p.isValidDocument()||(C=C.add(N))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,E)).next(I=>{d=I;const N=[];for(const p of o){const y=IR(p,d.get(p.key).overlayedDocument);y!=null&&N.push(new ji(p.key,y,sT(y.value.mapValue),Jn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,N,o)}).next(I=>{m=I;const N=I.applyToLocalDocumentSet(d,C);return l.documentOverlayCache.saveOverlays(v,I.batchId,N)})}).then(()=>({batchId:m.batchId,changes:mT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Tc[s.currentUser.toKey()];u||(u=new tt(Re)),u=u.insert(o,l),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),await eu(r,i.changes),await id(r.remoteStore)}catch(i){const s=Yg(i,"Failed to persist write");n.reject(s)}}async function YT(t,e){const n=ve(t);try{const r=await gP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Ke(o.fc):i.removedDocuments.size>0&&(Ke(o.fc),o.fc=!1))}),await eu(n,r,e)}catch(r){await Ql(r)}}function Fw(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const l=o.view.Mu(e);l.snapshot&&i.push(l.snapshot)}),function(s,o){const l=ve(s);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const m of d.listeners)m.Mu(o)&&(u=!0)}),u&&Xg(l)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZP(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new tt(se.comparator);o=o.insert(s,zt.newNoDocument(s,pe.min()));const l=Ce().add(s),u=new td(pe.min(),new Map,new tt(Re),o,l);await YT(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),Jg(r)}else await nm(r.localStore,e,!1).then(()=>rm(r,e,n)).catch(Ql)}async function eO(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await mP(n.localStore,e);JT(n,r,null),XT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,i)}catch(i){await Ql(i)}}async function tO(t,e,n){const r=ve(t);try{const i=await function(s,o){const l=ve(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(Ke(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);JT(r,e,n),XT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,i)}catch(i){await Ql(i)}}function XT(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function JT(t,e,n){const r=ve(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||ZT(t,r)})}function ZT(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(jT(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Jg(t))}function jw(t,e,n){for(const r of n)r instanceof GT?(t.Ic.addReference(r.key,e),nO(t,r)):r instanceof QT?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||ZT(t,r.key)):ce()}function nO(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.mc.add(r),Jg(t))}function Jg(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new se(Ye.fromString(e)),r=t.Ac.next();t.yc.set(r,new qP(n)),t.gc=t.gc.insert(n,r),FT(t.remoteStore,new gi(Wr($g(n.path)),r,"TargetPurposeLimboResolution",Dg.ct))}}async function eu(t,e,n){const r=ve(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((l,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=Wg.Li(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.dc.nu(i),await async function(l,u){const c=ve(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(u,m=>F.forEach(m.Fi,v=>c.persistence.referenceDelegate.addReference(d,m.targetId,v)).next(()=>F.forEach(m.Bi,v=>c.persistence.referenceDelegate.removeReference(d,m.targetId,v)))))}catch(d){if(!Yl(d))throw d;ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const v=c.Ji.get(m),E=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(E);c.Ji=c.Ji.insert(m,C)}}}(r.localStore,s))}async function rO(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await OT(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(l=>{l.reject(new ne(P.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.er)}}function iO(t,e){const n=ve(t),r=n.yc.get(e);if(r&&r.fc)return Ce().add(r.key);{let i=Ce();const s=n._c.get(e);if(!s)return i;for(const o of s){const l=n.wc.get(o);i=i.unionWith(l.view.nc)}return i}}function sO(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZP.bind(null,e),e.dc.nu=BP.bind(null,e.eventManager),e.dc.Pc=HP.bind(null,e.eventManager),e}function oO(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tO.bind(null,e),e}class Uw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pP(this.persistence,new dP,e.initialUser,this.serializer)}createPersistence(e){return new cP(Hg.zs,this.serializer)}createSharedClientState(e){return new EP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class aO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rO.bind(null,this.syncEngine),await UP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zP}createDatastore(e){const n=nd(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new IP(i));var i;return function(s,o,l,u){return new bP(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=l=>Fw(this.syncEngine,l,0),o=Lw.D()?new Lw:new SP,new NP(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,l,u,c){const d=new GP(r,i,s,o,l,u);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ve(e);ee("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Zl(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=nT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bf(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await OT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cO(t);ee("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Mw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Mw(e.remoteStore,s)),t._onlineComponents=e}function uO(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function cO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!uO(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await bf(t,new Uw)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await bf(t,new Uw);return t._offlineComponents}async function tC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Vw(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await Vw(t,new aO))),t._onlineComponents}function hO(t){return tC(t).then(e=>e.syncEngine)}async function nC(t){const e=await tC(t),n=e.eventManager;return n.onListen=QP.bind(null,e.syncEngine),n.onUnlisten=XP.bind(null,e.syncEngine),n}function dO(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,u){const c=new eC({next:m=>{s.enqueueAndForget(()=>KT(i,d));const v=m.docs.has(o);!v&&m.fromCache?u.reject(new ne(P.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?u.reject(new ne(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new qT($g(o.path),c,{includeMetadataChanges:!0,Ku:!0});return WT(i,d)}(await nC(t),t.asyncQueue,e,n,r)),r.promise}function fO(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,u){const c=new eC({next:m=>{s.enqueueAndForget(()=>KT(i,d)),m.fromCache&&l.source==="server"?u.reject(new ne(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new qT(o,c,{includeMetadataChanges:!0,Ku:!0});return WT(i,d)}(await nC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e,n){if(!n)throw new ne(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pO(t,e,n,r){if(e===!0&&r===!0)throw new ne(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bw(t){if(!se.isDocumentKey(t))throw new ne(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hw(t){if(se.isDocumentKey(t))throw new ne(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zg(t);throw new ne(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ne(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ne(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ne(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class sd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ww({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ww(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new OD;switch(n.type){case"firstParty":return new FD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ne(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=zw.get(e);n&&(ee("ComponentProvider","Removing Datastore"),zw.delete(e),n.terminate())}(this),Promise.resolve()}}function mO(t,e,n,r={}){var i;const s=(t=qr(t,sd))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Ut.MOCK_USER;else{o=uA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ne(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ut(u)}t._authCredentials=new LD(new tT(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class od{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new od(this.firestore,e,this._query)}}class bi extends od{constructor(e,n,r){super(e,n,$g(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new se(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function sC(t,e,...n){if(t=Mt(t),iC("collection","path",e),t instanceof sd){const r=Ye.fromString(e,...n);return Hw(r),new bi(t,null,r)}{if(!(t instanceof En||t instanceof bi))throw new ne(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Hw(r),new bi(t.firestore,null,r)}}function ev(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=nT.A()),iC("doc","path",e),t instanceof sd){const r=Ye.fromString(e,...n);return Bw(r),new En(t,null,new se(r))}{if(!(t instanceof En||t instanceof bi))throw new ne(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Bw(r),new En(t.firestore,t instanceof bi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new MT(this,"async_queue_retry"),this.Xc=()=>{const n=xf();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=xf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new $r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Yl(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Hr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Qg.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ce()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Xo extends sd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oC(this),this._firestoreClient.terminate()}}function vO(t,e){const n=typeof t=="object"?t:GE(),r=typeof t=="string"?t:e||"(default)",i=ag(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aA("firestore");s&&mO(i,...s)}return i}function tv(t){return t._firestoreClient||oC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oC(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,u,c){return new YD(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,rC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new lO(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Qt.fromBase64String(e))}catch(n){throw new ne(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=/^__.*__$/;class wO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}class aC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class iv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new iv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return uh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(lC(this.ca)&&yO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _O{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nd(e)}ya(e,n,r,i=!1){return new iv({ca:e,methodName:n,ga:r,path:Bt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uC(t){const e=t._freezeSettings(),n=nd(t._databaseId);return new _O(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EO(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);sv("Data must be an object, but it was:",o,r);const l=cC(r,o);let u,c;if(s.merge)u=new wn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const v=im(e,m,n);if(!o.contains(v))throw new ne(P.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);dC(d,v)||d.push(v)}u=new wn(d),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new wO(new cn(l),u,c)}class ld extends nv{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function SO(t,e,n,r){const i=t.ya(1,e,n);sv("Data must be an object, but it was:",i,r);const s=[],o=cn.empty();As(r,(u,c)=>{const d=ov(e,u,n);c=Mt(c);const m=i.da(d);if(c instanceof ld)s.push(d);else{const v=ud(c,m);v!=null&&(s.push(d),o.set(d,v))}});const l=new wn(s);return new aC(o,l,i.fieldTransforms)}function TO(t,e,n,r,i,s){const o=t.ya(1,e,n),l=[im(e,r,n)],u=[i];if(s.length%2!=0)throw new ne(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)l.push(im(e,s[v])),u.push(s[v+1]);const c=[],d=cn.empty();for(let v=l.length-1;v>=0;--v)if(!dC(c,l[v])){const E=l[v];let C=u[v];C=Mt(C);const I=o.da(E);if(C instanceof ld)c.push(E);else{const N=ud(C,I);N!=null&&(c.push(E),d.set(E,N))}}const m=new wn(c);return new aC(d,m,o.fieldTransforms)}function ud(t,e){if(hC(t=Mt(t)))return sv("Unsupported field value:",e,t),cC(t,e);if(t instanceof nv)return function(n,r){if(!lC(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let l=ud(o,r.wa(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wR(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=_t.fromDate(n);return{timestampValue:ah(r.serializer,i)}}if(n instanceof _t){const i=new _t(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ah(r.serializer,i)}}if(n instanceof rv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Uo)return{bytesValue:bT(r.serializer,n._byteString)};if(n instanceof En){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Zg(n)}`)}(t,e)}function cC(t,e){const n={};return rT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(t,(r,i)=>{const s=ud(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof rv||t instanceof Uo||t instanceof En||t instanceof nv)}function sv(t,e,n){if(!hC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Zg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function im(t,e,n){if((e=Mt(e))instanceof ad)return e._internalPath;if(typeof e=="string")return ov(t,e);throw uh("Field path arguments must be of type string or ",t,!1,void 0,n)}const CO=new RegExp("[~\\*/\\[\\]]");function ov(t,e,n){if(e.search(CO)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ne(P.INVALID_ARGUMENT,l+t+u)}function dC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IO extends fC{data(){return super.data()}}function pC(t,e){return typeof e=="string"?ov(t,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xO{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return As(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new rv(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Ke(PT(r));const i=new Cl(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||Hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mC extends fC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mc extends mC{data(e={}){return super.data(e)}}class AO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mc(this._firestore,this._userDataWriter,r.key,r,new Ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const l=new mc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ma(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new mc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ma(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:NO(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){t=qr(t,En);const e=qr(t.firestore,Xo);return dO(tv(e),t._key).then(n=>MO(e,t,n))}class gC extends xO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function RO(t){t=qr(t,od);const e=qr(t.firestore,Xo),n=tv(e),r=new gC(e);return kO(t._query),fO(n,t._query).then(i=>new AO(e,r,t,i))}function PO(t,e,n,...r){t=qr(t,En);const i=qr(t.firestore,Xo),s=uC(i);let o;return o=typeof(e=Mt(e))=="string"||e instanceof ad?TO(s,"updateDoc",t._key,e,n,r):SO(s,"updateDoc",t._key,e),av(i,[o.toMutation(t._key,Jn.exists(!0))])}function OO(t){return av(qr(t.firestore,Xo),[new Fg(t._key,Jn.none())])}function LO(t,e){const n=qr(t.firestore,Xo),r=ev(t),i=bO(t.converter,e);return av(n,[EO(uC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function av(t,e){return function(n,r){const i=new $r;return n.asyncQueue.enqueueAndForget(async()=>JP(await hO(n),r,i)),i.promise}(tv(t),e)}function MO(t,e,n){const r=n.docs.get(e._key),i=new gC(t);return new mC(t,i,e._key,r,new Ma(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Go=n})(Wo),Ro(new vs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Xo(new MD(n.getProvider("auth-internal")),new UD(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ne(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(l.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xi(dw,"3.12.0",t),xi(dw,"3.12.0","esm2017")})();function lv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $O=vC,yC=new Fl("auth","Firebase",vC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new sg("@firebase/auth");function FO(t,...e){ch.logLevel<=Ae.WARN&&ch.warn(`Auth (${Wo}): ${t}`,...e)}function gc(t,...e){ch.logLevel<=Ae.ERROR&&ch.error(`Auth (${Wo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw uv(t,...e)}function vr(t,...e){return uv(t,...e)}function jO(t,e,n){const r=Object.assign(Object.assign({},$O()),{[e]:n});return new Fl("auth","Firebase",r).create(e,{appName:t.name})}function uv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yC.create(t,...e)}function ue(t,e,...n){if(!t)throw uv(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gc(e),new Error(e)}function Gr(t,e){t||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UO(){return Kw()==="http:"||Kw()==="https:"}function Kw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UO()||hA()||"connection"in navigator)?navigator.onLine:!0}function zO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=cA()||dA()}get(){return VO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new tu(3e4,6e4);function Jo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ds(t,e,n,r,i={}){return _C(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=jl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),wC.fetch()(EC(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function _C(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},BO),e);try{const i=new WO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Zu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Zu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jO(t,d,c);tr(t,d)}}catch(i){if(i instanceof Yr)throw i;tr(t,"network-request-failed",{message:String(i)})}}async function nu(t,e,n,r,i={}){const s=await Ds(t,e,n,r,i);return"mfaPendingCredential"in s&&tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function EC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cv(t.config,i):`${t.config.apiScheme}://${i}`}class WO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),HO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){return Ds(t,"POST","/v1/accounts:delete",e)}async function qO(t,e){return Ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GO(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),i=hv(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xa(Af(i.auth_time)),issuedAtTime:Xa(Af(i.iat)),expirationTime:Xa(Af(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Af(t){return Number(t)*1e3}function hv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const i=VE(n);return i?JSON.parse(i):(gc("Failed to decode base64 JWT payload"),null)}catch(i){return gc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QO(t){const e=hv(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&YO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Vo(t,qO(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?e2(s.providerUserInfo):[],l=ZO(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new SC(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function JO(t){const e=Mt(t);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function e2(t){return t.map(e=>{var{providerId:n}=e,r=lv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e){const n=await _C(t,{},async()=>{const r=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=EC(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",wC.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await t2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bl;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new SC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GO(this,e)}reload(){return JO(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vo(this,KO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,p=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:k,isAnonymous:M,providerData:j,stsTokenManager:V}=n;ue(w&&V,e,"internal-error");const W=bl.fromJSON(this.name,V);ue(typeof w=="string",e,"internal-error"),si(m,e.name),si(v,e.name),ue(typeof k=="boolean",e,"internal-error"),ue(typeof M=="boolean",e,"internal-error"),si(E,e.name),si(C,e.name),si(I,e.name),si(N,e.name),si(p,e.name),si(y,e.name);const ie=new hs({uid:w,auth:e,email:v,emailVerified:k,displayName:m,isAnonymous:M,photoURL:C,phoneNumber:E,tenantId:I,stsTokenManager:W,createdAt:p,lastLoginAt:y});return j&&Array.isArray(j)&&(ie.providerData=j.map(me=>Object.assign({},me))),N&&(ie._redirectEventId=N),ie}static async _fromIdTokenResponse(e,n,r=!1){const i=new bl;i.updateFromServerResponse(n);const s=new hs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function Lr(t){Gr(t instanceof Function,"Expected a class definition");let e=qw.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TC.type="NONE";const Gw=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t,e,n){return`firebase:${t}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vc(this.userKey,i.apiKey,s),this.fullPersistenceKey=vc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(Lr(Gw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Lr(Gw);const o=vc(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const m=hs._fromJSON(e,d);c!==s&&(l=m),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new So(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new So(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bC(e))return"Blackberry";if(AC(e))return"Webos";if(dv(e))return"Safari";if((e.includes("chrome/")||IC(e))&&!e.includes("edge/"))return"Chrome";if(xC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CC(t=Gt()){return/firefox\//i.test(t)}function dv(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IC(t=Gt()){return/crios\//i.test(t)}function kC(t=Gt()){return/iemobile/i.test(t)}function xC(t=Gt()){return/android/i.test(t)}function bC(t=Gt()){return/blackberry/i.test(t)}function AC(t=Gt()){return/webos/i.test(t)}function cd(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n2(t=Gt()){var e;return cd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r2(){return fA()&&document.documentMode===10}function NC(t=Gt()){return cd(t)||xC(t)||AC(t)||bC(t)||/windows phone/i.test(t)||kC(t)}function i2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e=[]){let n;switch(t){case"Browser":n=Qw(Gt());break;case"Worker":n=`${Qw(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${r}`}async function RC(t,e){return Ds(t,"GET","/v2/recaptchaConfig",Jo(t,e))}function Yw(t){return t!==void 0&&t.enterprise!==void 0}class PC{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function OC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",s2().appendChild(r)})}function o2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const a2="https://www.google.com/recaptcha/enterprise.js?render=",l2="recaptcha-enterprise",u2="NO_RECAPTCHA";class LC{constructor(e){this.type=l2,this.auth=Zo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{RC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new PC(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;Yw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(u2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&Yw(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}OC(a2+l).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function dh(t,e,n,r=!1){const i=new LC(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xw(this),this.idTokenSubscription=new Xw(this),this.beforeStateQueue=new c2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Mt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}async initializeRecaptchaConfig(){const e=await RC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new PC(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new LC(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zo(t){return Mt(t)}class Xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=_A(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t,e){const n=ag(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wc(s,e??{}))return i;tr(i,"already-initialized")}return n.initialize({options:e})}function f2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function p2(t,e,n){const r=Zo(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=MC(e),{host:o,port:l}=m2(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||g2()}function MC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m2(t){const e=MC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Jw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Jw(o)}}}function Jw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function v2(t,e){return Ds(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(t,e){return nu(t,"POST","/v1/accounts:signInWithPassword",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(t,e){return nu(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}async function w2(t,e){return nu(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends fv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Al(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Al(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await dh(e,r,"signInWithPassword");return Nf(e,i)}else return Nf(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await dh(e,r,"signInWithPassword");return Nf(e,s)}else return Promise.reject(i)});case"emailLink":return y2(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return v2(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return w2(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t,e){return nu(t,"POST","/v1/accounts:signInWithIdp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="http://localhost";class Ss extends fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ss(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,To(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:_2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S2(t){const e=Na(Da(t)).link,n=e?Na(Da(e)).deep_link_id:null,r=Na(Da(t)).deep_link_id;return(r?Na(Da(r)).link:null)||r||n||e||t}class pv{constructor(e){var n,r,i,s,o,l;const u=Na(Da(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,m=E2((i=u.mode)!==null&&i!==void 0?i:null);ue(c&&d&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=S2(e);try{return new pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,n){return Al._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pv.parseLink(n);return ue(r,"argument-error"),Al._fromEmailAndCode(e,r.code,r.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends $C{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends ru{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends ru{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends ru{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t,e){return nu(t,"POST","/v1/accounts:signUp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await hs._fromIdTokenResponse(e,r,i),o=Zw(r);return new Ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Zw(r);return new Ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Zw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fh(e,n,r,i)}}function FC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(t,s,e,r):s})}async function T2(t,e,n=!1){const r=await Vo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Vo(t,FC(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=hv(s.idToken);ue(o,r,"internal-error");const{sub:l}=o;return ue(t.uid===l,r,"user-mismatch"),Ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(t,e,n=!1){const r="signIn",i=await FC(t,r,e),s=await Ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function I2(t,e){return jC(Zo(t),e)}async function k2(t,e,n){var r;const i=Zo(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await dh(i,s,"signUpPassword");o=Df(i,c)}else o=Df(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await dh(i,s,"signUpPassword");return Df(i,d)}else return Promise.reject(c)});const l=await o.catch(c=>Promise.reject(c)),u=await Ts._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function x2(t,e,n){return I2(Mt(t),ea.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(t,e){return Ds(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Mt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Vo(r,b2(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function N2(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function D2(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function R2(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){const t=Gt();return dv(t)||cd(t)}const O2=1e3,L2=10;class VC extends UC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=P2()&&i2(),this.fallbackToPolling=NC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);r2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,L2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},O2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VC.type="LOCAL";const M2=VC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC extends UC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zC.type="SESSION";const BC=zC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await $2(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=mv("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===c)switch(v.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(v.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function j2(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function U2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function z2(){return HC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firebaseLocalStorageDb",B2=1,mh="firebaseLocalStorage",KC="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(t,e){return t.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function H2(){const t=indexedDB.deleteDatabase(WC);return new iu(t).toPromise()}function om(){const t=indexedDB.open(WC,B2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mh,{keyPath:KC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await H2(),e(await om()))})})}async function e_(t,e,n){const r=dd(t,!0).put({[KC]:e,value:n});return new iu(r).toPromise()}async function W2(t,e){const n=dd(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function t_(t,e){const n=dd(t,!0).delete(e);return new iu(n).toPromise()}const K2=800,q2=3;class qC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(z2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await U2(),!this.activeServiceWorker)return;this.sender=new F2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await e_(e,ph,"1"),await t_(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>e_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>W2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dd(i,!1).getAll();return new iu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qC.type="LOCAL";const G2=qC;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){return e?Lr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y2(t){return jC(t.auth,new gv(t),t.bypassAuthState)}function X2(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),C2(n,new gv(t),t.bypassAuthState)}async function J2(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),T2(n,new gv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y2;case"linkViaPopup":case"linkViaRedirect":return J2;case"reauthViaPopup":case"reauthViaRedirect":return X2;default:tr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new tu(2e3,1e4);class lo extends GC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z2.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="pendingRedirect",yc=new Map;class tL extends GC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yc.get(this.auth._key());if(!e){try{const r=await nL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yc.set(this.auth._key(),e)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nL(t,e){const n=sL(e),r=iL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rL(t,e){yc.set(t._key(),e)}function iL(t){return Lr(t._redirectPersistence)}function sL(t){return vc(eL,t.config.apiKey,t.name)}async function oL(t,e,n=!1){const r=Zo(t),i=Q2(r,e),o=await new tL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=10*60*1e3;class lL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aL&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(e))}saveEventToCache(e){this.cachedEventUids.add(n_(e)),this.lastProcessedEventTime=Date.now()}}function n_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e={}){return Ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dL=/^https?/;async function fL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cL(t);for(const n of e)try{if(pL(n))return}catch{}tr(t,"unauthorized-domain")}function pL(t){const e=sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dL.test(n))return!1;if(hL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new tu(3e4,6e4);function r_(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gL(t){return new Promise((e,n)=>{var r,i,s;function o(){r_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r_(),n(vr(t,"network-request-failed"))},timeout:mL.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{const l=o2("iframefcb");return yr()[l]=()=>{gapi.load?o():n(vr(t,"network-request-failed"))},OC(`https://apis.google.com/js/api.js?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw wc=null,e})}let wc=null;function vL(t){return wc=wc||gL(t),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new tu(5e3,15e3),wL="__/auth/iframe",_L="emulator/auth/iframe",EL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TL(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cv(e,_L):`https://${t.config.authDomain}/${wL}`,r={apiKey:e.apiKey,appName:t.name,v:Wo},i=SL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${jl(r).slice(1)}`}async function CL(t){const e=await vL(t),n=yr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:TL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vr(t,"network-request-failed"),l=yr().setTimeout(()=>{s(o)},yL.get());function u(){yr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kL=500,xL=600,bL="_blank",AL="http://localhost";class i_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NL(t,e,n,r=kL,i=xL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},IL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Gt().toLowerCase();n&&(l=IC(c)?bL:n),CC(c)&&(e=e||AL,u.scrollbars="yes");const d=Object.entries(u).reduce((v,[E,C])=>`${v}${E}=${C},`,"");if(n2(c)&&l!=="_self")return DL(e||"",l),new i_(null);const m=window.open(e||"",l,d);ue(m,t,"popup-blocked");try{m.focus()}catch{}return new i_(m)}function DL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="__/auth/handler",PL="emulator/auth/handler",OL=encodeURIComponent("fac");async function s_(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wo,eventId:i};if(e instanceof $C){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries(s||{}))o[d]=m}if(e instanceof ru){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${OL}=${encodeURIComponent(u)}`:"";return`${LL(t)}?${jl(l).slice(1)}${c}`}function LL({config:t}){return t.emulator?cv(t,PL):`https://${t.authDomain}/${RL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class ML{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BC,this._completeRedirectFn=oL,this._overrideRedirectResult=rL}async _openPopup(e,n,r,i){var s;Gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await s_(e,n,r,sm(),i);return NL(e,o,mv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await s_(e,n,r,sm(),i);return j2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CL(e),r=new lL(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rf,{type:Rf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Rf];o!==void 0&&n(!!o),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NC()||dv()||cd()}}const $L=ML;var o_="@firebase/auth",a_="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function UL(t){Ro(new vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DC(t)},c=new h2(r,i,s,u);return f2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ro(new vs("auth-internal",e=>{const n=Zo(e.getProvider("auth").getImmediate());return(r=>new FL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(o_,a_,jL(t)),xi(o_,a_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=5*60,zL=HE("authIdTokenMaxAge")||VL;let l_=null;const BL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zL)return;const i=n==null?void 0:n.token;l_!==i&&(l_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HL(t=GE()){const e=ag(t,"auth");if(e.isInitialized())return e.getImmediate();const n=d2(t,{popupRedirectResolver:$L,persistence:[G2,M2,BC]}),r=HE("authTokenSyncURL");if(r){const s=BL(r);D2(n,s,()=>s(n.currentUser)),N2(n,o=>s(o))}const i=zE("auth");return i&&p2(n,`http://${i}`),n}UL("Browser");const WL={apiKey:"AIzaSyAm1EtsbNWJ1wOaWOcq3A8bchS_PHEf9_8",authDomain:"stellarknight-2c9e6.firebaseapp.com",projectId:"stellarknight-2c9e6",storageBucket:"stellarknight-2c9e6.appspot.com",messagingSenderId:"544535573812",appId:"1:544535573812:web:16c47e479962672f37a161",measurementId:"G-9T676ZJ7R4"},KL=qE(WL),gh=vO(KL),Ta=HL();/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function De(){return De=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},De.apply(this,arguments)}var ht;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ht||(ht={}));const u_="popstate";function qL(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:l="",hash:u=""}=Er(i.location.hash.substr(1));return Nl("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof s=="string"?s:Is(s))}function r(i,s){Cs(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return QL(e,n,r,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GL(){return Math.random().toString(36).substr(2,8)}function c_(t,e){return{usr:t.state,key:t.key,idx:e}}function Nl(t,e,n,r){return n===void 0&&(n=null),De({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Er(e):e,{state:n,key:e&&e.key||r||GL()})}function Is(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Er(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ht.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(De({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=ht.Pop;let N=d(),p=N==null?null:N-c;c=N,u&&u({action:l,location:I.location,delta:p})}function v(N,p){l=ht.Push;let y=Nl(I.location,N,p);n&&n(y,N),c=d()+1;let w=c_(y,c),k=I.createHref(y);try{o.pushState(w,"",k)}catch{i.location.assign(k)}s&&u&&u({action:l,location:I.location,delta:1})}function E(N,p){l=ht.Replace;let y=Nl(I.location,N,p);n&&n(y,N),c=d();let w=c_(y,c),k=I.createHref(y);o.replaceState(w,"",k),s&&u&&u({action:l,location:I.location,delta:0})}function C(N){let p=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof N=="string"?N:Is(N);return Te(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let I={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(u_,m),u=N,()=>{i.removeEventListener(u_,m),u=null}},createHref(N){return e(i,N)},createURL:C,encodeLocation(N){let p=C(N);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:v,replace:E,go(N){return o.go(N)}};return I}var gt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gt||(gt={}));const YL=new Set(["lazy","caseSensitive","path","id","index","children"]);function XL(t){return t.index===!0}function YC(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(Te(i.index!==!0||!i.children,"Cannot specify children on an index route"),Te(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),XL(i)){let u=De({},i,e(i),{id:l});return r[l]=u,u}else{let u=De({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=YC(i.children,e,o,r)),u}})}function uo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Er(e):e,i=ta(r.pathname||"/",n);if(i==null)return null;let s=XC(t);JL(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=aM(s[l],cM(i));return o}function XC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Te(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Fr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XC(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:sM(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of JC(s.path))i(s,o,u)}),e}function JC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JC(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function JL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZL=/^:\w+$/,eM=3,tM=2,nM=1,rM=10,iM=-2,h_=t=>t==="*";function sM(t,e){let n=t.split("/"),r=n.length;return n.some(h_)&&(r+=iM),e&&(r+=tM),n.filter(i=>!h_(i)).reduce((i,s)=>i+(ZL.test(s)?eM:s===""?nM:rM),r)}function oM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aM(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=lM({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c);if(!d)return null;Object.assign(r,d.params);let m=l.route;s.push({params:r,pathname:Fr([i,d.pathname]),pathnameBase:pM(Fr([i,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(i=Fr([i,d.pathnameBase]))}return s}function lM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,m)=>{if(d==="*"){let v=l[m]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}return c[d]=hM(l[m]||"",d),c},{}),pathname:s,pathnameBase:o,pattern:t}}function uM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cM(t){try{return decodeURI(t)}catch(e){return Cs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hM(t,e){try{return decodeURIComponent(t)}catch(n){return Cs(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ta(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Er(t):t;return{pathname:n?n.startsWith("/")?n:fM(n,e):e,search:mM(r),hash:gM(i)}}function fM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fd(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Er(t):(i=De({},t),Te(!i.pathname||!i.pathname.includes("?"),Pf("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),Pf("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),Pf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let m=e.length-1;if(o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}l=m>=0?e[m]:"/"}let u=dM(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),pM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class yv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ZC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eI=["post","put","patch","delete"],vM=new Set(eI),yM=["get",...eI],wM=new Set(yM),_M=new Set([301,302,303,307,308]),EM=new Set([307,308]),Of={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},SM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},d_={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},tI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TM=!nI,CM=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function IM(t){Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e;if(t.mapRouteProperties)e=t.mapRouteProperties;else if(t.detectErrorBoundary){let b=t.detectErrorBoundary;e=D=>({hasErrorBoundary:b(D)})}else e=CM;let n={},r=YC(t.routes,e,void 0,n),i,s=t.basename||"/",o=De({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),l=null,u=new Set,c=null,d=null,m=null,v=t.hydrationData!=null,E=uo(r,t.history.location,s),C=null;if(E==null){let b=Kn(404,{pathname:t.history.location.pathname}),{matches:D,route:L}=w_(r);E=D,C={[L.id]:b}}let I=!E.some(b=>b.route.lazy)&&(!E.some(b=>b.route.loader)||t.hydrationData!=null),N,p={historyAction:t.history.action,location:t.history.location,matches:E,initialized:I,navigation:Of,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},y=ht.Pop,w=!1,k,M=!1,j=!1,V=[],W=[],ie=new Map,me=0,bt=-1,on=new Map,an=new Set,kn=new Map,xn=new Map,Yt=new Map,Fn=!1;function q(){return l=t.history.listen(b=>{let{action:D,location:L,delta:K}=b;if(Fn){Fn=!1;return}Cs(Yt.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=cu({currentLocation:p.location,nextLocation:L,historyAction:D});if(z&&K!=null){Fn=!0,t.history.go(K*-1),Os(z,{state:"blocked",location:L,proceed(){Os(z,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),t.history.go(K)},reset(){ir(z),ge({blockers:new Map(N.state.blockers)})}});return}return Et(D,L)}),p.initialized||Et(ht.Pop,p.location),N}function ae(){l&&l(),u.clear(),k&&k.abort(),p.fetchers.forEach((b,D)=>Sr(D)),p.blockers.forEach((b,D)=>ir(D))}function x(b){return u.add(b),()=>u.delete(b)}function ge(b){p=De({},p,b),u.forEach(D=>D(p))}function je(b,D){var L,K;let z=p.actionData!=null&&p.navigation.formMethod!=null&&br(p.navigation.formMethod)&&p.navigation.state==="loading"&&((L=b.state)==null?void 0:L._isRedirect)!==!0,Z;D.actionData?Object.keys(D.actionData).length>0?Z=D.actionData:Z=null:z?Z=p.actionData:Z=null;let re=D.loaderData?y_(p.loaderData,D.loaderData,D.matches||[],D.errors):p.loaderData;for(let[J]of Yt)ir(J);let X=w===!0||p.navigation.formMethod!=null&&br(p.navigation.formMethod)&&((K=b.state)==null?void 0:K._isRedirect)!==!0;i&&(r=i,i=void 0),ge(De({},D,{actionData:Z,loaderData:re,historyAction:y,location:b,initialized:!0,navigation:Of,revalidation:"idle",restoreScrollPosition:zi(b,D.matches||p.matches),preventScrollReset:X,blockers:new Map(p.blockers)})),M||y===ht.Pop||(y===ht.Push?t.history.push(b,b.state):y===ht.Replace&&t.history.replace(b,b.state)),y=ht.Pop,w=!1,M=!1,j=!1,V=[],W=[]}async function jn(b,D){if(typeof b=="number"){t.history.go(b);return}let L=am(p.location,p.matches,s,o.v7_prependBasename,b,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:K,submission:z,error:Z}=f_(o.v7_normalizeFormMethod,!1,L,D),re=p.location,X=Nl(p.location,K,D&&D.state);X=De({},X,t.history.encodeLocation(X));let J=D&&D.replace!=null?D.replace:void 0,_e=ht.Push;J===!0?_e=ht.Replace:J===!1||z!=null&&br(z.formMethod)&&z.formAction===p.location.pathname+p.location.search&&(_e=ht.Replace);let Se=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,Xe=cu({currentLocation:re,nextLocation:X,historyAction:_e});if(Xe){Os(Xe,{state:"blocked",location:X,proceed(){Os(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),jn(b,D)},reset(){ir(Xe),ge({blockers:new Map(p.blockers)})}});return}return await Et(_e,X,{submission:z,pendingError:Z,preventScrollReset:Se,replace:D&&D.replace})}function pt(){if(ra(),ge({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){Et(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}Et(y||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function Et(b,D,L){k&&k.abort(),k=null,y=b,M=(L&&L.startUninterruptedRevalidation)===!0,sa(p.location,p.matches),w=(L&&L.preventScrollReset)===!0;let K=i||r,z=L&&L.overrideNavigation,Z=uo(K,D,s);if(!Z){let at=Kn(404,{pathname:D.pathname}),{matches:nt,route:mt}=w_(K);ia(),je(D,{matches:nt,loaderData:{},errors:{[mt.id]:at}});return}if(NM(p.location,D)&&!(L&&L.submission&&br(L.submission.formMethod))){je(D,{matches:Z});return}k=new AbortController;let re=Ia(t.history,D,k.signal,L&&L.submission),X,J;if(L&&L.pendingError)J={[co(Z).route.id]:L.pendingError};else if(L&&L.submission&&br(L.submission.formMethod)){let at=await ot(re,D,L.submission,Z,{replace:L.replace});if(at.shortCircuited)return;X=at.pendingActionData,J=at.pendingActionError,z=De({state:"loading",location:D},L.submission),re=new Request(re.url,{signal:re.signal})}let{shortCircuited:_e,loaderData:Se,errors:Xe}=await rr(re,D,Z,z,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,X,J);_e||(k=null,je(D,De({matches:Z},X?{actionData:X}:{},{loaderData:Se,errors:Xe})))}async function ot(b,D,L,K,z){ra();let Z=De({state:"submitting",location:D},L);ge({navigation:Z});let re,X=lm(K,D);if(!X.route.action&&!X.route.lazy)re={type:gt.error,error:Kn(405,{method:b.method,pathname:D.pathname,routeId:X.route.id})};else if(re=await Ca("action",b,X,K,n,e,s),b.signal.aborted)return{shortCircuited:!0};if(Co(re)){let J;return z&&z.replace!=null?J=z.replace:J=re.location===p.location.pathname+p.location.search,await Un(p,re,{submission:L,replace:J}),{shortCircuited:!0}}if(Ja(re)){let J=co(K,X.route.id);return(z&&z.replace)!==!0&&(y=ht.Push),{pendingActionData:{},pendingActionError:{[J.route.id]:re.error}}}if(as(re))throw Kn(400,{type:"defer-action"});return{pendingActionData:{[X.route.id]:re.data}}}async function rr(b,D,L,K,z,Z,re,X,J){let _e=K;_e||(_e=De({state:"loading",location:D,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},z));let Se=z||Z?z||Z:_e.formMethod&&_e.formAction&&_e.formData&&_e.formEncType?{formMethod:_e.formMethod,formAction:_e.formAction,formData:_e.formData,formEncType:_e.formEncType}:void 0,Xe=i||r,[at,nt]=p_(t.history,p,L,Se,D,j,V,W,kn,Xe,s,X,J);if(ia(Ve=>!(L&&L.some(Xt=>Xt.route.id===Ve))||at&&at.some(Xt=>Xt.route.id===Ve)),at.length===0&&nt.length===0){let Ve=Vi();return je(D,De({matches:L,loaderData:{},errors:J||null},X?{actionData:X}:{},Ve?{fetchers:new Map(p.fetchers)}:{})),{shortCircuited:!0}}if(!M){nt.forEach(Xt=>{let Cr=p.fetchers.get(Xt.key),js={state:"loading",data:Cr&&Cr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(Xt.key,js)});let Ve=X||p.actionData;ge(De({navigation:_e},Ve?Object.keys(Ve).length===0?{actionData:null}:{actionData:Ve}:{},nt.length>0?{fetchers:new Map(p.fetchers)}:{}))}bt=++me,nt.forEach(Ve=>{Ve.controller&&ie.set(Ve.key,Ve.controller)});let mt=()=>nt.forEach(Ve=>mn(Ve.key));k&&k.signal.addEventListener("abort",mt);let{results:ei,loaderResults:Bi,fetcherResults:ti}=await lu(p.matches,L,at,nt,b);if(b.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",mt),nt.forEach(Ve=>ie.delete(Ve.key));let Vn=__(ei);if(Vn)return await Un(p,Vn,{replace:re}),{shortCircuited:!0};let{loaderData:Hi,errors:Ms}=v_(p,L,at,Bi,J,nt,ti,xn);xn.forEach((Ve,Xt)=>{Ve.subscribe(Cr=>{(Cr||Ve.done)&&xn.delete(Xt)})});let $s=Vi(),Fs=Ps(bt),Wi=$s||Fs||nt.length>0;return De({loaderData:Hi,errors:Ms},Wi?{fetchers:new Map(p.fetchers)}:{})}function te(b){return p.fetchers.get(b)||SM}function Rs(b,D,L,K){if(TM)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ie.has(b)&&mn(b);let z=i||r,Z=am(p.location,p.matches,s,o.v7_prependBasename,L,D,K==null?void 0:K.relative),re=uo(z,Z,s);if(!re){Jr(b,D,Kn(404,{pathname:Z}));return}let{path:X,submission:J}=f_(o.v7_normalizeFormMethod,!0,Z,K),_e=lm(re,X);if(w=(K&&K.preventScrollReset)===!0,J&&br(J.formMethod)){Ui(b,D,X,_e,re,J);return}kn.set(b,{routeId:D,path:X}),au(b,D,X,_e,re,J)}async function Ui(b,D,L,K,z,Z){if(ra(),kn.delete(b),!K.route.action&&!K.route.lazy){let qe=Kn(405,{method:Z.formMethod,pathname:L,routeId:D});Jr(b,D,qe);return}let re=p.fetchers.get(b),X=De({state:"submitting"},Z,{data:re&&re.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(b,X),ge({fetchers:new Map(p.fetchers)});let J=new AbortController,_e=Ia(t.history,L,J.signal,Z);ie.set(b,J);let Se=await Ca("action",_e,K,z,n,e,s);if(_e.signal.aborted){ie.get(b)===J&&ie.delete(b);return}if(Co(Se)){ie.delete(b),an.add(b);let qe=De({state:"loading"},Z,{data:void 0," _hasFetcherDoneAnything ":!0});return p.fetchers.set(b,qe),ge({fetchers:new Map(p.fetchers)}),Un(p,Se,{submission:Z,isFetchActionRedirect:!0})}if(Ja(Se)){Jr(b,D,Se.error);return}if(as(Se))throw Kn(400,{type:"defer-action"});let Xe=p.navigation.location||p.location,at=Ia(t.history,Xe,J.signal),nt=i||r,mt=p.navigation.state!=="idle"?uo(nt,p.navigation.location,s):p.matches;Te(mt,"Didn't find any matches after fetcher action");let ei=++me;on.set(b,ei);let Bi=De({state:"loading",data:Se.data},Z,{" _hasFetcherDoneAnything ":!0});p.fetchers.set(b,Bi);let[ti,Vn]=p_(t.history,p,mt,Z,Xe,j,V,W,kn,nt,s,{[K.route.id]:Se.data},void 0);Vn.filter(qe=>qe.key!==b).forEach(qe=>{let At=qe.key,sr=p.fetchers.get(At),ln={state:"loading",data:sr&&sr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(At,ln),qe.controller&&ie.set(At,qe.controller)}),ge({fetchers:new Map(p.fetchers)});let Hi=()=>Vn.forEach(qe=>mn(qe.key));J.signal.addEventListener("abort",Hi);let{results:Ms,loaderResults:$s,fetcherResults:Fs}=await lu(p.matches,mt,ti,Vn,at);if(J.signal.aborted)return;J.signal.removeEventListener("abort",Hi),on.delete(b),ie.delete(b),Vn.forEach(qe=>ie.delete(qe.key));let Wi=__(Ms);if(Wi)return Un(p,Wi);let{loaderData:Ve,errors:Xt}=v_(p,p.matches,ti,$s,void 0,Vn,Fs,xn),Cr={state:"idle",data:Se.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(b,Cr);let js=Ps(ei);p.navigation.state==="loading"&&ei>bt?(Te(y,"Expected pending action"),k&&k.abort(),je(p.navigation.location,{matches:mt,loaderData:Ve,errors:Xt,fetchers:new Map(p.fetchers)})):(ge(De({errors:Xt,loaderData:y_(p.loaderData,Ve,mt,Xt)},js?{fetchers:new Map(p.fetchers)}:{})),j=!1)}async function au(b,D,L,K,z,Z){let re=p.fetchers.get(b),X=De({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Z,{data:re&&re.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(b,X),ge({fetchers:new Map(p.fetchers)});let J=new AbortController,_e=Ia(t.history,L,J.signal);ie.set(b,J);let Se=await Ca("loader",_e,K,z,n,e,s);if(as(Se)&&(Se=await oI(Se,_e.signal,!0)||Se),ie.get(b)===J&&ie.delete(b),_e.signal.aborted)return;if(Co(Se)){an.add(b),await Un(p,Se);return}if(Ja(Se)){let at=co(p.matches,D);p.fetchers.delete(b),ge({fetchers:new Map(p.fetchers),errors:{[at.route.id]:Se.error}});return}Te(!as(Se),"Unhandled fetcher deferred data");let Xe={state:"idle",data:Se.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(b,Xe),ge({fetchers:new Map(p.fetchers)})}async function Un(b,D,L){var K;let{submission:z,replace:Z,isFetchActionRedirect:re}=L===void 0?{}:L;D.revalidate&&(j=!0);let X=Nl(b.location,D.location,De({_isRedirect:!0},re?{_isFetchActionRedirect:!0}:{}));if(Te(X,"Expected a location on the redirect navigation"),tI.test(D.location)&&nI&&typeof((K=window)==null?void 0:K.location)<"u"){let nt=t.history.createURL(D.location),mt=ta(nt.pathname,s)==null;if(window.location.origin!==nt.origin||mt){Z?window.location.replace(D.location):window.location.assign(D.location);return}}k=null;let J=Z===!0?ht.Replace:ht.Push,{formMethod:_e,formAction:Se,formEncType:Xe,formData:at}=b.navigation;!z&&_e&&Se&&at&&Xe&&(z={formMethod:_e,formAction:Se,formEncType:Xe,formData:at}),EM.has(D.status)&&z&&br(z.formMethod)?await Et(J,X,{submission:De({},z,{formAction:D.location}),preventScrollReset:w}):re?await Et(J,X,{overrideNavigation:{state:"loading",location:X,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:z,preventScrollReset:w}):await Et(J,X,{overrideNavigation:{state:"loading",location:X,formMethod:z?z.formMethod:void 0,formAction:z?z.formAction:void 0,formEncType:z?z.formEncType:void 0,formData:z?z.formData:void 0},preventScrollReset:w})}async function lu(b,D,L,K,z){let Z=await Promise.all([...L.map(J=>Ca("loader",z,J,D,n,e,s)),...K.map(J=>J.matches&&J.match&&J.controller?Ca("loader",Ia(t.history,J.path,J.controller.signal),J.match,J.matches,n,e,s):{type:gt.error,error:Kn(404,{pathname:J.path})})]),re=Z.slice(0,L.length),X=Z.slice(L.length);return await Promise.all([E_(b,L,re,re.map(()=>z.signal),!1,p.loaderData),E_(b,K.map(J=>J.match),X,K.map(J=>J.controller?J.controller.signal:null),!0)]),{results:Z,loaderResults:re,fetcherResults:X}}function ra(){j=!0,V.push(...ia()),kn.forEach((b,D)=>{ie.has(D)&&(W.push(D),mn(D))})}function Jr(b,D,L){let K=co(p.matches,D);Sr(b),ge({errors:{[K.route.id]:L},fetchers:new Map(p.fetchers)})}function Sr(b){ie.has(b)&&mn(b),kn.delete(b),on.delete(b),an.delete(b),p.fetchers.delete(b)}function mn(b){let D=ie.get(b);Te(D,"Expected fetch controller: "+b),D.abort(),ie.delete(b)}function Tr(b){for(let D of b){let K={state:"idle",data:te(D).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(D,K)}}function Vi(){let b=[],D=!1;for(let L of an){let K=p.fetchers.get(L);Te(K,"Expected fetcher: "+L),K.state==="loading"&&(an.delete(L),b.push(L),D=!0)}return Tr(b),D}function Ps(b){let D=[];for(let[L,K]of on)if(K<b){let z=p.fetchers.get(L);Te(z,"Expected fetcher: "+L),z.state==="loading"&&(mn(L),on.delete(L),D.push(L))}return Tr(D),D.length>0}function uu(b,D){let L=p.blockers.get(b)||d_;return Yt.get(b)!==D&&Yt.set(b,D),L}function ir(b){p.blockers.delete(b),Yt.delete(b)}function Os(b,D){let L=p.blockers.get(b)||d_;Te(L.state==="unblocked"&&D.state==="blocked"||L.state==="blocked"&&D.state==="blocked"||L.state==="blocked"&&D.state==="proceeding"||L.state==="blocked"&&D.state==="unblocked"||L.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+D.state),p.blockers.set(b,D),ge({blockers:new Map(p.blockers)})}function cu(b){let{currentLocation:D,nextLocation:L,historyAction:K}=b;if(Yt.size===0)return;Yt.size>1&&Cs(!1,"A router only supports one blocker at a time");let z=Array.from(Yt.entries()),[Z,re]=z[z.length-1],X=p.blockers.get(Z);if(!(X&&X.state==="proceeding")&&re({currentLocation:D,nextLocation:L,historyAction:K}))return Z}function ia(b){let D=[];return xn.forEach((L,K)=>{(!b||b(K))&&(L.cancel(),D.push(K),xn.delete(K))}),D}function Zr(b,D,L){if(c=b,m=D,d=L||(K=>K.key),!v&&p.navigation===Of){v=!0;let K=zi(p.location,p.matches);K!=null&&ge({restoreScrollPosition:K})}return()=>{c=null,m=null,d=null}}function sa(b,D){if(c&&d&&m){let L=D.map(z=>S_(z,p.loaderData)),K=d(b,L)||b.key;c[K]=m()}}function zi(b,D){if(c&&d&&m){let L=D.map(Z=>S_(Z,p.loaderData)),K=d(b,L)||b.key,z=c[K];if(typeof z=="number")return z}return null}function Ls(b){i=b}return N={get basename(){return s},get state(){return p},get routes(){return r},initialize:q,subscribe:x,enableScrollRestoration:Zr,navigate:jn,fetch:Rs,revalidate:pt,createHref:b=>t.history.createHref(b),encodeLocation:b=>t.history.encodeLocation(b),getFetcher:te,deleteFetcher:Sr,dispose:ae,getBlocker:uu,deleteBlocker:ir,_internalFetchControllers:ie,_internalActiveDeferreds:xn,_internalSetRoutes:Ls},N}function kM(t){return t!=null&&"formData"in t}function am(t,e,n,r,i,s,o){let l,u;if(s!=null&&o!=="path"){l=[];for(let d of e)if(l.push(d),d.route.id===s){u=d;break}}else l=e,u=e[e.length-1];let c=vv(i||".",fd(l).map(d=>d.pathnameBase),ta(t.pathname,n)||t.pathname,o==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!wv(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Fr([n,c.pathname])),Is(c)}function f_(t,e,n,r){if(!r||!kM(r))return{path:n};if(r.formMethod&&!PM(r.formMethod))return{path:n,error:Kn(405,{method:r.formMethod})};let i;if(r.formData){let l=r.formMethod||"get";if(i={formMethod:t?l.toUpperCase():l.toLowerCase(),formAction:sI(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData},br(i.formMethod))return{path:n,submission:i}}let s=Er(n),o=iI(r.formData);return e&&s.search&&wv(s.search)&&o.append("index",""),s.search="?"+o,{path:Is(s),submission:i}}function xM(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function p_(t,e,n,r,i,s,o,l,u,c,d,m,v){let E=v?Object.values(v)[0]:m?Object.values(m)[0]:void 0,C=t.createURL(e.location),I=t.createURL(i),N=v?Object.keys(v)[0]:void 0,y=xM(n,N).filter((k,M)=>{if(k.route.lazy)return!0;if(k.route.loader==null)return!1;if(bM(e.loaderData,e.matches[M],k)||o.some(W=>W===k.route.id))return!0;let j=e.matches[M],V=k;return m_(k,De({currentUrl:C,currentParams:j.params,nextUrl:I,nextParams:V.params},r,{actionResult:E,defaultShouldRevalidate:s||C.pathname+C.search===I.pathname+I.search||C.search!==I.search||rI(j,V)}))}),w=[];return u.forEach((k,M)=>{if(!n.some(ie=>ie.route.id===k.routeId))return;let j=uo(c,k.path,d);if(!j){w.push({key:M,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let V=lm(j,k.path);if(l.includes(M)){w.push({key:M,routeId:k.routeId,path:k.path,matches:j,match:V,controller:new AbortController});return}m_(V,De({currentUrl:C,currentParams:e.matches[e.matches.length-1].params,nextUrl:I,nextParams:n[n.length-1].params},r,{actionResult:E,defaultShouldRevalidate:s}))&&w.push({key:M,routeId:k.routeId,path:k.path,matches:j,match:V,controller:new AbortController})}),[y,w]}function bM(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function rI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function m_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function g_(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Te(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Cs(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!YL.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,De({},e(i),{lazy:void 0}))}async function Ca(t,e,n,r,i,s,o,l,u,c){l===void 0&&(l=!1),u===void 0&&(u=!1);let d,m,v,E=N=>{let p,y=new Promise((w,k)=>p=k);return v=()=>p(),e.signal.addEventListener("abort",v),Promise.race([N({request:e,params:n.params,context:c}),y])};try{let N=n.route[t];if(n.route.lazy)if(N)m=(await Promise.all([E(N),g_(n.route,s,i)]))[0];else if(await g_(n.route,s,i),N=n.route[t],N)m=await E(N);else if(t==="action"){let p=new URL(e.url),y=p.pathname+p.search;throw Kn(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:gt.data,data:void 0};else if(N)m=await E(N);else{let p=new URL(e.url),y=p.pathname+p.search;throw Kn(404,{pathname:y})}Te(m!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(N){d=gt.error,m=N}finally{v&&e.signal.removeEventListener("abort",v)}if(RM(m)){let N=m.status;if(_M.has(N)){let w=m.headers.get("Location");if(Te(w,"Redirects returned/thrown from loaders/actions must have a Location header"),!tI.test(w))w=am(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,w);else if(!l){let k=new URL(e.url),M=w.startsWith("//")?new URL(k.protocol+w):new URL(w),j=ta(M.pathname,o)!=null;M.origin===k.origin&&j&&(w=M.pathname+M.search+M.hash)}if(l)throw m.headers.set("Location",w),m;return{type:gt.redirect,status:N,location:w,revalidate:m.headers.get("X-Remix-Revalidate")!==null}}if(u)throw{type:d||gt.data,response:m};let p,y=m.headers.get("Content-Type");return y&&/\bapplication\/json\b/.test(y)?p=await m.json():p=await m.text(),d===gt.error?{type:d,error:new yv(N,m.statusText,p),headers:m.headers}:{type:gt.data,data:p,statusCode:m.status,headers:m.headers}}if(d===gt.error)return{type:d,error:m};if(DM(m)){var C,I;return{type:gt.deferred,deferredData:m,statusCode:(C=m.init)==null?void 0:C.status,headers:((I=m.init)==null?void 0:I.headers)&&new Headers(m.init.headers)}}return{type:gt.data,data:m}}function Ia(t,e,n,r){let i=t.createURL(sI(e)).toString(),s={signal:n};if(r&&br(r.formMethod)){let{formMethod:o,formEncType:l,formData:u}=r;s.method=o.toUpperCase(),s.body=l==="application/x-www-form-urlencoded"?iI(u):u}return new Request(i,s)}function iI(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function AM(t,e,n,r,i){let s={},o=null,l,u=!1,c={};return n.forEach((d,m)=>{let v=e[m].route.id;if(Te(!Co(d),"Cannot handle redirect results in processLoaderData"),Ja(d)){let E=co(t,v),C=d.error;r&&(C=Object.values(r)[0],r=void 0),o=o||{},o[E.route.id]==null&&(o[E.route.id]=C),s[v]=void 0,u||(u=!0,l=ZC(d.error)?d.error.status:500),d.headers&&(c[v]=d.headers)}else as(d)?(i.set(v,d.deferredData),s[v]=d.deferredData.data):s[v]=d.data,d.statusCode!=null&&d.statusCode!==200&&!u&&(l=d.statusCode),d.headers&&(c[v]=d.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:c}}function v_(t,e,n,r,i,s,o,l){let{loaderData:u,errors:c}=AM(e,n,r,i,l);for(let d=0;d<s.length;d++){let{key:m,match:v,controller:E}=s[d];Te(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let C=o[d];if(!(E&&E.signal.aborted))if(Ja(C)){let I=co(t.matches,v==null?void 0:v.route.id);c&&c[I.route.id]||(c=De({},c,{[I.route.id]:C.error})),t.fetchers.delete(m)}else if(Co(C))Te(!1,"Unhandled fetcher revalidation redirect");else if(as(C))Te(!1,"Unhandled fetcher deferred data");else{let I={state:"idle",data:C.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(m,I)}}return{loaderData:u,errors:c}}function y_(t,e,n,r){let i=De({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function co(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function w_(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(l="defer() is not supported in actions")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new yv(t||500,o,new Error(l),!0)}function __(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Co(n))return n}}function sI(t){let e=typeof t=="string"?Er(t):t;return Is(De({},e,{hash:""}))}function NM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function as(t){return t.type===gt.deferred}function Ja(t){return t.type===gt.error}function Co(t){return(t&&t.type)===gt.redirect}function DM(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function RM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function PM(t){return wM.has(t.toLowerCase())}function br(t){return vM.has(t.toLowerCase())}async function E_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],u=e[o];if(!u)continue;let c=t.find(m=>m.route.id===u.route.id),d=c!=null&&!rI(c,u)&&(s&&s[u.route.id])!==void 0;if(as(l)&&(i||d)){let m=r[o];Te(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await oI(l,m,i).then(v=>{v&&(n[o]=v||n[o])})}}}async function oI(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:gt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:gt.error,error:i}}return{type:gt.data,data:t.deferredData.data}}}function wv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function S_(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function lm(t,e){let n=typeof e=="string"?Er(e).search:e.search;if(t[t.length-1].route.index&&wv(n||""))return t[t.length-1];let r=fd(t);return r[r.length-1]}/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}const _v=O.createContext(null),aI=O.createContext(null),na=O.createContext(null),pd=O.createContext(null),Xr=O.createContext({outlet:null,matches:[],isDataRoute:!1}),lI=O.createContext(null);function OM(t,e){let{relative:n}=e===void 0?{}:e;su()||Te(!1);let{basename:r,navigator:i}=O.useContext(na),{hash:s,pathname:o,search:l}=cI(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Fr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function su(){return O.useContext(pd)!=null}function md(){return su()||Te(!1),O.useContext(pd).location}function uI(t){O.useContext(na).static||O.useLayoutEffect(t)}function ou(){let{isDataRoute:t}=O.useContext(Xr);return t?QM():LM()}function LM(){su()||Te(!1);let{basename:t,navigator:e}=O.useContext(na),{matches:n}=O.useContext(Xr),{pathname:r}=md(),i=JSON.stringify(fd(n).map(l=>l.pathnameBase)),s=O.useRef(!1);return uI(()=>{s.current=!0}),O.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){e.go(l);return}let c=vv(l,JSON.parse(i),r,u.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:Fr([t,c.pathname])),(u.replace?e.replace:e.push)(c,u.state,u)},[t,e,i,r])}const MM=O.createContext(null);function $M(t){let e=O.useContext(Xr).outlet;return e&&O.createElement(MM.Provider,{value:t},e)}function FM(){let{matches:t}=O.useContext(Xr),e=t[t.length-1];return e?e.params:{}}function cI(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=O.useContext(Xr),{pathname:i}=md(),s=JSON.stringify(fd(r).map(o=>o.pathnameBase));return O.useMemo(()=>vv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function jM(t,e,n){su()||Te(!1);let{navigator:r}=O.useContext(na),{matches:i}=O.useContext(Xr),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=md(),c;if(e){var d;let I=typeof e=="string"?Er(e):e;l==="/"||(d=I.pathname)!=null&&d.startsWith(l)||Te(!1),c=I}else c=u;let m=c.pathname||"/",v=l==="/"?m:m.slice(l.length)||"/",E=uo(t,{pathname:v}),C=HM(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},o,I.params),pathname:Fr([l,r.encodeLocation?r.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:Fr([l,r.encodeLocation?r.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n);return e&&C?O.createElement(pd.Provider,{value:{location:vh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ht.Pop}},C):C}function UM(){let t=GM(),e=ZC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,s)}const VM=O.createElement(UM,null);class zM extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?O.createElement(Xr.Provider,{value:this.props.routeContext},O.createElement(lI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BM(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(_v);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Xr.Provider,{value:e},r)}function HM(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));l>=0||Te(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,u,c)=>{let d=u.route.id?o==null?void 0:o[u.route.id]:null,m=null;n&&(m=u.route.errorElement||VM);let v=e.concat(s.slice(0,c+1)),E=()=>{let C;return d?C=m:u.route.Component?C=O.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=l,O.createElement(BM,{match:u,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:C})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?O.createElement(zM,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:E(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):E()},null)}var um;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(um||(um={}));var Dl;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Dl||(Dl={}));function WM(t){let e=O.useContext(_v);return e||Te(!1),e}function KM(t){let e=O.useContext(aI);return e||Te(!1),e}function qM(t){let e=O.useContext(Xr);return e||Te(!1),e}function hI(t){let e=qM(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function GM(){var t;let e=O.useContext(lI),n=KM(Dl.UseRouteError),r=hI(Dl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function QM(){let{router:t}=WM(um.UseNavigateStable),e=hI(Dl.UseNavigateStable),n=O.useRef(!1);return uI(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vh({fromRouteId:e},s)))},[t,e])}function YM(t){let{fallbackElement:e,router:n}=t,[r,i]=O.useState(n.state);O.useLayoutEffect(()=>n.subscribe(i),[n,i]);let s=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:u=>n.navigate(u),push:(u,c,d)=>n.navigate(u,{state:c,preventScrollReset:d==null?void 0:d.preventScrollReset}),replace:(u,c,d)=>n.navigate(u,{replace:!0,state:c,preventScrollReset:d==null?void 0:d.preventScrollReset})}),[n]),o=n.basename||"/",l=O.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return O.createElement(O.Fragment,null,O.createElement(_v.Provider,{value:l},O.createElement(aI.Provider,{value:r},O.createElement(JM,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?O.createElement(XM,{routes:n.routes,state:r}):e))),null)}function XM(t){let{routes:e,state:n}=t;return jM(e,void 0,n)}function dI(t){return $M(t.context)}function JM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ht.Pop,navigator:s,static:o=!1}=t;su()&&Te(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=Er(r));let{pathname:c="/",search:d="",hash:m="",state:v=null,key:E="default"}=r,C=O.useMemo(()=>{let I=ta(c,l);return I==null?null:{location:{pathname:I,search:d,hash:m,state:v,key:E},navigationType:i}},[l,c,d,m,v,E,i]);return C==null?null:O.createElement(na.Provider,{value:u},O.createElement(pd.Provider,{children:n,value:C}))}var T_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(T_||(T_={}));new Promise(()=>{});function ZM(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:O.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}function e$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function t$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function n$(t,e){return t.button===0&&(!e||e==="_self")&&!t$(t)}const r$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function i$(t,e){return IM({basename:e==null?void 0:e.basename,future:Rl({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:qL({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||s$(),routes:t,mapRouteProperties:ZM}).initialize()}function s$(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Rl({},e,{errors:o$(e.errors)})),e}function o$(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new yv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const a$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qn=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d}=e,m=e$(e,r$),{basename:v}=O.useContext(na),E,C=!1;if(typeof c=="string"&&l$.test(c)&&(E=c,a$))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),k=ta(w.pathname,v);w.origin===y.origin&&k!=null?c=k+w.search+w.hash:C=!0}catch{}let I=OM(c,{relative:i}),N=u$(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i});function p(y){r&&r(y),y.defaultPrevented||N(y)}return O.createElement("a",Rl({},m,{href:E||I,onClick:C||s?r:p,ref:n,target:u}))});var C_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(C_||(C_={}));var I_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I_||(I_={}));function u$(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,l=ou(),u=md(),c=cI(t,{relative:o});return O.useCallback(d=>{if(n$(d,n)){d.preventDefault();let m=r!==void 0?r:Is(u)===Is(c);l(t,{replace:m,state:i,preventScrollReset:s,relative:o})}},[u,l,c,r,i,n,t,s,o])}const nr=O.createContext();function c$({children:t}){const[e,n]=O.useState(),[r,i]=O.useState(!0);function s(){return Ta.signOut()}function o(c,d){return x2(Ta,c,d)}function l(c,d){return k2(Ta,c,d)}function u(c){return A2(Ta.currentUser,c)}return O.useEffect(()=>{R2(Ta,c=>{if(c){const d=c.uid;console.log(d+" is signed in"),n(c),i(!1)}else console.log("Logged Out"),i(!1)})},[]),_.jsx(nr.Provider,{value:{currentUser:e,isLoading:r,logOut:s,logIn:o,createUser:l,updateUserName:u},children:t})}function h$(){const[t,e]=O.useState([]),[n,r]=O.useState([]);O.useEffect(()=>{(async()=>{try{const u=[],c=[];(await RO(sC(gh,"games"))).forEach(m=>{t.push(m.data()),u.push(m.data()),c.push(m.id)}),e(u),r(c)}catch(u){console.error(u)}})()},[]);async function i(l){console.log(l),await OO(ev(gh,"games",l)),window.location.reload()}function s(l){const{currentUser:u}=O.useContext(nr);if(u)return _.jsx(_.Fragment,{children:_.jsxs("div",{class:"d-flex flex-row",children:[_.jsx("div",{class:"",children:_.jsx(Qn,{to:"/editreview/"+l.index,children:_.jsx("button",{type:"button",class:"btn btn-primary",children:"Edit"})})}),_.jsx("div",{class:"ps-3",children:_.jsx("button",{type:"button",class:"btn btn-danger",id:l.index,onClick:c=>i(c.target.id),children:"Delete"})})]})})}const o=t.map((l,u)=>_.jsx(O.Fragment,{children:_.jsx("div",{className:"col-lg-4 col-md-6 col-sm-12 mt-3",children:_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body",children:[_.jsx("h5",{className:"card-title",children:l.title}),_.jsxs("p",{className:"card-text",children:["Rating: ",l.rating]}),_.jsxs("p",{className:"card-text",children:["Review: ",l.review]}),_.jsx(s,{index:n[u]})]})},u)})},u));return _.jsx(_.Fragment,{children:_.jsx("div",{className:"container mt-3 mb-5",children:_.jsx("div",{className:"row",children:o})})})}function d$(){const{currentUser:t}=O.useContext(nr);if(t)return _.jsx(_.Fragment,{children:_.jsx("div",{class:"d-flex flex-row-reverse mt-3",children:_.jsx("div",{class:"p-2",children:_.jsx(Qn,{reloadDocument:!0,to:"/addgame",children:_.jsx("button",{type:"button",class:"btn btn-primary",children:"Add Entry"})})})})})}function f$(){return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"container",children:[_.jsx("h1",{className:"text-center mt-5",children:"Game Reviews"}),_.jsx(d$,{})]}),_.jsx(h$,{})]})}function gd(){return _.jsx(_.Fragment,{children:_.jsx("div",{class:"container text-center mt-5",children:_.jsx("h1",{children:"Unauthorized"})})})}function p$(){const[t,e]=O.useState(""),[n,r]=O.useState(""),{logIn:i}=O.useContext(nr),s=ou();async function o(l){l.preventDefault();try{await i(t,n),s("/")}catch(u){console.log(u.code)}}return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"container mt-5 loginDiv rounded-3",children:[_.jsx("h1",{className:"pt-4 text-center",children:"Log In"}),_.jsxs("form",{className:"p-4",onSubmit:o,children:[_.jsxs("div",{className:"mb-3",children:[_.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),_.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1",onChange:l=>e(l.target.value),required:!0})]}),_.jsxs("div",{className:"mb-3",children:[_.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),_.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:l=>r(l.target.value),required:!0})]}),_.jsx("div",{children:_.jsxs("p",{children:["Don't have an account?"," ",_.jsx(Qn,{to:"/signup",children:"Sign Up Here"})]})}),_.jsx("button",{type:"submit",className:"btn btn-primary",children:"Log In"})]})]})})}function m$(){const{currentUser:t}=O.useContext(nr);return t?_.jsx(gd,{}):_.jsx(p$,{})}function g$(){const{currentUser:t,isLoading:e}=O.useContext(nr);if(!e)return t?_.jsx(v$,{}):_.jsx(y$,{})}function v$(){const{logOut:t,currentUser:e}=O.useContext(nr);return _.jsxs(_.Fragment,{children:[_.jsx("nav",{class:"navbar sticky-top navbar-expand-lg bg-body-tertiary",children:_.jsxs("div",{class:"container-fluid",children:[_.jsx("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:_.jsx("span",{class:"navbar-toggler-icon"})}),_.jsx("div",{class:"collapse navbar-collapse justify-content-center",id:"navbarNav",children:_.jsxs("ul",{class:"navbar-nav",children:[_.jsx("li",{class:"nav-item",children:_.jsx(Qn,{reloadDocument:!0,to:"/",className:"nav-link",children:"Home"})}),_.jsx("li",{class:"nav-item",children:_.jsx(Qn,{reloadDocument:!0,to:"games",className:"nav-link",children:"Game Reviews"})}),_.jsx("li",{class:"nav-item",children:_.jsxs(Qn,{reloadDocument:!0,to:"",className:"nav-link",children:["Welcome back, ",e.displayName]})}),_.jsx("li",{className:"nav-item",children:_.jsx(Qn,{reloadDocument:!0,to:"/",className:"nav-link",onClick:t,children:"Log Out"})})]})})]})}),_.jsx(dI,{})]})}function y$(){return _.jsxs(_.Fragment,{children:[_.jsx("nav",{class:"navbar sticky-top navbar-expand-lg bg-body-tertiary",children:_.jsxs("div",{class:"container-fluid",children:[_.jsx("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:_.jsx("span",{class:"navbar-toggler-icon"})}),_.jsx("div",{class:"collapse navbar-collapse justify-content-center",id:"navbarNav",children:_.jsxs("ul",{class:"navbar-nav",children:[_.jsx("li",{class:"nav-item",children:_.jsx(Qn,{reloadDocument:!0,to:"/",className:"nav-link",children:"Home"})}),_.jsx("li",{class:"nav-item",children:_.jsx(Qn,{reloadDocument:!0,to:"games",className:"nav-link",children:"Game Reviews"})}),_.jsx("li",{class:"nav-item",children:_.jsx(Qn,{reloadDocument:!0,to:"/login",className:"nav-link",children:"Log In"})})]})})]})}),_.jsx(dI,{})]})}function w$(){return _.jsx(_.Fragment,{children:_.jsx(g$,{})})}function _$(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[i,s]=O.useState(""),o=ou(),{createUser:l,updateUserName:u}=O.useContext(nr);async function c(d){d.preventDefault();try{await l(t,n),await u({displayName:i}),o("/")}catch(m){console.log(m.code)}}return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"container mt-5 loginDiv rounded-3",children:[_.jsx("h1",{className:"pt-4 text-center",children:"Sign Up"}),_.jsxs("form",{className:"p-4",onSubmit:c,children:[_.jsxs("div",{className:"mb-3",children:[_.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),_.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:d=>e(d.target.value),required:!0}),_.jsx("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),_.jsxs("div",{className:"mb-3",children:[_.jsx("label",{htmlFor:"exampleInputUserName1",className:"form-label",children:"Username"}),_.jsx("input",{type:"text",className:"form-control",id:"exampleInputUserName1",onChange:d=>s(d.target.value),required:!0})]}),_.jsxs("div",{className:"mb-3",children:[_.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),_.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:d=>r(d.target.value),required:!0})]}),_.jsx("div",{children:_.jsxs("p",{children:["Already have an account?"," ",_.jsx(Qn,{to:"/login",children:"Log In Here"})]})}),_.jsx("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})]})]})})}function E$(){const{currentUser:t}=O.useContext(nr);return t?_.jsx(gd,{}):_.jsx(_$,{})}function S$(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[i,s]=O.useState(""),o=ou();async function l(u){u.preventDefault();const c=await LO(sC(gh,"games"),{title:t,rating:n,review:i});console.log("Document written with ID: ",c.id),o("/games")}return _.jsx(_.Fragment,{children:_.jsxs("div",{class:"container my-5 loginDiv rounded-3",children:[_.jsx("h1",{class:"pt-4 text-center",children:"Add New Entry"}),_.jsxs("form",{class:"p-4",onSubmit:l,children:[_.jsxs("div",{class:"mb-3",children:[_.jsx("label",{for:"gameTitle",class:"form-label",children:"Game Title"}),_.jsx("input",{type:"text",class:"form-control",id:"gameTitle","aria-describedby":"emailHelp",onChange:u=>e(u.target.value),required:!0})]}),_.jsxs("div",{class:"mb-3",children:[_.jsx("label",{for:"gameRating",class:"form-label",children:"Rating"}),_.jsx("input",{type:"number",min:"1",max:"10",class:"form-control",id:"gameRating","aria-describedby":"emailHelp",onChange:u=>r(u.target.value),required:!0}),_.jsx("div",{id:"emailHelp",class:"form-text",children:"Give a rating from a scale of 1 to 10."})]}),_.jsxs("div",{class:"mb-3",children:[_.jsx("label",{for:"gameReview",class:"form-label",children:"Review"}),_.jsx("textarea",{type:"text",class:"form-control",id:"gameReview",onChange:u=>s(u.target.value),required:!0})]}),_.jsx("button",{type:"submit",class:"btn btn-primary",children:"Submit"})]})]})})}function T$(){const{currentUser:t}=O.useContext(nr);return t?_.jsx(S$,{}):_.jsx(gd,{})}function C$(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[i,s]=O.useState(""),o=ou();let{id:l}=FM();const u=ev(gh,"games",l);O.useEffect(()=>{(async()=>{try{const m=await DO(u);m.exists()?(e(m.data().title),r(m.data().rating),s(m.data().review)):console.log("No such document!")}catch(m){console.error(m)}})()},[]);async function c(d){d.preventDefault(),await PO(u,{title:t,rating:n,review:i}),console.log("Document written with ID: ",u.id),o("/games")}return _.jsx(_.Fragment,{children:_.jsxs("div",{class:"container my-5 loginDiv rounded-3",children:[_.jsx("h1",{class:"pt-4 text-center",children:"Edit Entry"}),_.jsxs("form",{class:"p-4",onSubmit:c,children:[_.jsxs("div",{class:"mb-3",children:[_.jsx("label",{for:"gameTitle",class:"form-label",children:"Game Title"}),_.jsx("input",{type:"text",class:"form-control",id:"gameTitle","aria-describedby":"emailHelp",onChange:d=>e(d.target.value),value:t,required:!0})]}),_.jsxs("div",{class:"mb-3",children:[_.jsx("label",{for:"gameRating",class:"form-label",children:"Rating"}),_.jsx("input",{type:"number",min:"1",max:"10",class:"form-control",id:"gameRating","aria-describedby":"emailHelp",onChange:d=>r(d.target.value),value:n,required:!0}),_.jsx("div",{id:"emailHelp",class:"form-text",children:"Give a rating from a scale of 1 to 10."})]}),_.jsxs("div",{class:"mb-3",children:[_.jsx("label",{for:"gameReview",class:"form-label",children:"Review"}),_.jsx("textarea",{type:"text",class:"form-control",id:"gameReview",onChange:d=>s(d.target.value),value:i,required:!0})]}),_.jsx("button",{type:"submit",class:"btn btn-primary",children:"Submit"})]})]})})}function I$(){const{currentUser:t}=O.useContext(nr);return t?_.jsx(C$,{}):_.jsx(gd,{})}function k$(){return _.jsx(I$,{})}const x$=i$([{path:"/*",element:_.jsx(w$,{}),children:[{index:!0,element:_.jsx(Zb,{})},{path:"games",element:_.jsx(f$,{})},{path:"login",element:_.jsx(m$,{})},{path:"signup",element:_.jsx(E$,{})},{path:"addgame",element:_.jsx(T$,{})},{path:"editreview/:id",element:_.jsx(k$,{})}]}]);function b$(){return _.jsx(_.Fragment,{children:_.jsx(c$,{children:_.jsx(YM,{router:x$})})})}var A$={exports:{}};/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(pk,function(){const n=new Map,r={set(f,a,h){n.has(f)||n.set(f,new Map);const g=n.get(f);g.has(a)||g.size===0?g.set(a,h):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(g.keys())[0]}.`)},get:(f,a)=>n.has(f)&&n.get(f).get(a)||null,remove(f,a){if(!n.has(f))return;const h=n.get(f);h.delete(a),h.size===0&&n.delete(f)}},i="transitionend",s=f=>(f&&window.CSS&&window.CSS.escape&&(f=f.replace(/#([^\s"#']+)/g,(a,h)=>`#${CSS.escape(h)}`)),f),o=f=>{f.dispatchEvent(new Event(i))},l=f=>!(!f||typeof f!="object")&&(f.jquery!==void 0&&(f=f[0]),f.nodeType!==void 0),u=f=>l(f)?f.jquery?f[0]:f:typeof f=="string"&&f.length>0?document.querySelector(s(f)):null,c=f=>{if(!l(f)||f.getClientRects().length===0)return!1;const a=getComputedStyle(f).getPropertyValue("visibility")==="visible",h=f.closest("details:not([open])");if(!h)return a;if(h!==f){const g=f.closest("summary");if(g&&g.parentNode!==h||g===null)return!1}return a},d=f=>!f||f.nodeType!==Node.ELEMENT_NODE||!!f.classList.contains("disabled")||(f.disabled!==void 0?f.disabled:f.hasAttribute("disabled")&&f.getAttribute("disabled")!=="false"),m=f=>{if(!document.documentElement.attachShadow)return null;if(typeof f.getRootNode=="function"){const a=f.getRootNode();return a instanceof ShadowRoot?a:null}return f instanceof ShadowRoot?f:f.parentNode?m(f.parentNode):null},v=()=>{},E=f=>{f.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,I=[],N=()=>document.documentElement.dir==="rtl",p=f=>{var a;a=()=>{const h=C();if(h){const g=f.NAME,S=h.fn[g];h.fn[g]=f.jQueryInterface,h.fn[g].Constructor=f,h.fn[g].noConflict=()=>(h.fn[g]=S,f.jQueryInterface)}},document.readyState==="loading"?(I.length||document.addEventListener("DOMContentLoaded",()=>{for(const h of I)h()}),I.push(a)):a()},y=(f,a=[],h=f)=>typeof f=="function"?f(...a):h,w=(f,a,h=!0)=>{if(!h)return void y(f);const g=(A=>{if(!A)return 0;let{transitionDuration:R,transitionDelay:U}=window.getComputedStyle(A);const G=Number.parseFloat(R),Y=Number.parseFloat(U);return G||Y?(R=R.split(",")[0],U=U.split(",")[0],1e3*(Number.parseFloat(R)+Number.parseFloat(U))):0})(a)+5;let S=!1;const T=({target:A})=>{A===a&&(S=!0,a.removeEventListener(i,T),y(f))};a.addEventListener(i,T),setTimeout(()=>{S||o(a)},g)},k=(f,a,h,g)=>{const S=f.length;let T=f.indexOf(a);return T===-1?!h&&g?f[S-1]:f[0]:(T+=h?1:-1,g&&(T=(T+S)%S),f[Math.max(0,Math.min(T,S-1))])},M=/[^.]*(?=\..*)\.|.*/,j=/\..*/,V=/::\d+$/,W={};let ie=1;const me={mouseenter:"mouseover",mouseleave:"mouseout"},bt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function on(f,a){return a&&`${a}::${ie++}`||f.uidEvent||ie++}function an(f){const a=on(f);return f.uidEvent=a,W[a]=W[a]||{},W[a]}function kn(f,a,h=null){return Object.values(f).find(g=>g.callable===a&&g.delegationSelector===h)}function xn(f,a,h){const g=typeof a=="string",S=g?h:a||h;let T=ae(f);return bt.has(T)||(T=f),[g,S,T]}function Yt(f,a,h,g,S){if(typeof a!="string"||!f)return;let[T,A,R]=xn(a,h,g);a in me&&(A=(de=>function(le){if(!le.relatedTarget||le.relatedTarget!==le.delegateTarget&&!le.delegateTarget.contains(le.relatedTarget))return de.call(this,le)})(A));const U=an(f),G=U[R]||(U[R]={}),Y=kn(G,A,T?h:null);if(Y)return void(Y.oneOff=Y.oneOff&&S);const B=on(A,a.replace(M,"")),ye=T?function(oe,de,le){return function fe($e){const ze=oe.querySelectorAll(de);for(let{target:Ee}=$e;Ee&&Ee!==this;Ee=Ee.parentNode)for(const Ne of ze)if(Ne===Ee)return ge($e,{delegateTarget:Ee}),fe.oneOff&&x.off(oe,$e.type,de,le),le.apply(Ee,[$e])}}(f,h,A):function(oe,de){return function le(fe){return ge(fe,{delegateTarget:oe}),le.oneOff&&x.off(oe,fe.type,de),de.apply(oe,[fe])}}(f,A);ye.delegationSelector=T?h:null,ye.callable=A,ye.oneOff=S,ye.uidEvent=B,G[B]=ye,f.addEventListener(R,ye,T)}function Fn(f,a,h,g,S){const T=kn(a[h],g,S);T&&(f.removeEventListener(h,T,!!S),delete a[h][T.uidEvent])}function q(f,a,h,g){const S=a[h]||{};for(const[T,A]of Object.entries(S))T.includes(g)&&Fn(f,a,h,A.callable,A.delegationSelector)}function ae(f){return f=f.replace(j,""),me[f]||f}const x={on(f,a,h,g){Yt(f,a,h,g,!1)},one(f,a,h,g){Yt(f,a,h,g,!0)},off(f,a,h,g){if(typeof a!="string"||!f)return;const[S,T,A]=xn(a,h,g),R=A!==a,U=an(f),G=U[A]||{},Y=a.startsWith(".");if(T===void 0){if(Y)for(const B of Object.keys(U))q(f,U,B,a.slice(1));for(const[B,ye]of Object.entries(G)){const oe=B.replace(V,"");R&&!a.includes(oe)||Fn(f,U,A,ye.callable,ye.delegationSelector)}}else{if(!Object.keys(G).length)return;Fn(f,U,A,T,S?h:null)}},trigger(f,a,h){if(typeof a!="string"||!f)return null;const g=C();let S=null,T=!0,A=!0,R=!1;a!==ae(a)&&g&&(S=g.Event(a,h),g(f).trigger(S),T=!S.isPropagationStopped(),A=!S.isImmediatePropagationStopped(),R=S.isDefaultPrevented());const U=ge(new Event(a,{bubbles:T,cancelable:!0}),h);return R&&U.preventDefault(),A&&f.dispatchEvent(U),U.defaultPrevented&&S&&S.preventDefault(),U}};function ge(f,a={}){for(const[h,g]of Object.entries(a))try{f[h]=g}catch{Object.defineProperty(f,h,{configurable:!0,get:()=>g})}return f}function je(f){if(f==="true")return!0;if(f==="false")return!1;if(f===Number(f).toString())return Number(f);if(f===""||f==="null")return null;if(typeof f!="string")return f;try{return JSON.parse(decodeURIComponent(f))}catch{return f}}function jn(f){return f.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}const pt={setDataAttribute(f,a,h){f.setAttribute(`data-bs-${jn(a)}`,h)},removeDataAttribute(f,a){f.removeAttribute(`data-bs-${jn(a)}`)},getDataAttributes(f){if(!f)return{};const a={},h=Object.keys(f.dataset).filter(g=>g.startsWith("bs")&&!g.startsWith("bsConfig"));for(const g of h){let S=g.replace(/^bs/,"");S=S.charAt(0).toLowerCase()+S.slice(1,S.length),a[S]=je(f.dataset[g])}return a},getDataAttribute:(f,a)=>je(f.getAttribute(`data-bs-${jn(a)}`))};class Et{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(a){return a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a}_mergeConfigObj(a,h){const g=l(h)?pt.getDataAttribute(h,"config"):{};return{...this.constructor.Default,...typeof g=="object"?g:{},...l(h)?pt.getDataAttributes(h):{},...typeof a=="object"?a:{}}}_typeCheckConfig(a,h=this.constructor.DefaultType){for(const[S,T]of Object.entries(h)){const A=a[S],R=l(A)?"element":(g=A)==null?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(R))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${S}" provided type "${R}" but expected type "${T}".`)}var g}}class ot extends Et{constructor(a,h){super(),(a=u(a))&&(this._element=a,this._config=this._getConfig(h),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),x.off(this._element,this.constructor.EVENT_KEY);for(const a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,h,g=!0){w(a,h,g)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return r.get(u(a),this.DATA_KEY)}static getOrCreateInstance(a,h={}){return this.getInstance(a)||new this(a,typeof h=="object"?h:null)}static get VERSION(){return"5.3.0-alpha2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}const rr=f=>{let a=f.getAttribute("data-bs-target");if(!a||a==="#"){let h=f.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),a=h&&h!=="#"?h.trim():null}return s(a)},te={find:(f,a=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(a,f)),findOne:(f,a=document.documentElement)=>Element.prototype.querySelector.call(a,f),children:(f,a)=>[].concat(...f.children).filter(h=>h.matches(a)),parents(f,a){const h=[];let g=f.parentNode.closest(a);for(;g;)h.push(g),g=g.parentNode.closest(a);return h},prev(f,a){let h=f.previousElementSibling;for(;h;){if(h.matches(a))return[h];h=h.previousElementSibling}return[]},next(f,a){let h=f.nextElementSibling;for(;h;){if(h.matches(a))return[h];h=h.nextElementSibling}return[]},focusableChildren(f){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(a,f).filter(h=>!d(h)&&c(h))},getSelectorFromElement(f){const a=rr(f);return a&&te.findOne(a)?a:null},getElementFromSelector(f){const a=rr(f);return a?te.findOne(a):null},getMultipleElementsFromSelector(f){const a=rr(f);return a?te.find(a):[]}},Rs=(f,a="hide")=>{const h=`click.dismiss${f.EVENT_KEY}`,g=f.NAME;x.on(document,h,`[data-bs-dismiss="${g}"]`,function(S){if(["A","AREA"].includes(this.tagName)&&S.preventDefault(),d(this))return;const T=te.getElementFromSelector(this)||this.closest(`.${g}`);f.getOrCreateInstance(T)[a]()})};class Ui extends ot{static get NAME(){return"alert"}close(){if(x.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),x.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(a){return this.each(function(){const h=Ui.getOrCreateInstance(this);if(typeof a=="string"){if(h[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);h[a](this)}})}}Rs(Ui,"close"),p(Ui);const au='[data-bs-toggle="button"]';class Un extends ot{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(a){return this.each(function(){const h=Un.getOrCreateInstance(this);a==="toggle"&&h[a]()})}}x.on(document,"click.bs.button.data-api",au,f=>{f.preventDefault();const a=f.target.closest(au);Un.getOrCreateInstance(a).toggle()}),p(Un);const lu={endCallback:null,leftCallback:null,rightCallback:null},ra={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Jr extends Et{constructor(a,h){super(),this._element=a,a&&Jr.isSupported()&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return lu}static get DefaultType(){return ra}static get NAME(){return"swipe"}dispose(){x.off(this._element,".bs.swipe")}_start(a){this._supportPointerEvents?this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX):this._deltaX=a.touches[0].clientX}_end(a){this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX-this._deltaX),this._handleSwipe(),y(this._config.endCallback)}_move(a){this._deltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this._deltaX}_handleSwipe(){const a=Math.abs(this._deltaX);if(a<=40)return;const h=a/this._deltaX;this._deltaX=0,h&&y(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(x.on(this._element,"pointerdown.bs.swipe",a=>this._start(a)),x.on(this._element,"pointerup.bs.swipe",a=>this._end(a)),this._element.classList.add("pointer-event")):(x.on(this._element,"touchstart.bs.swipe",a=>this._start(a)),x.on(this._element,"touchmove.bs.swipe",a=>this._move(a)),x.on(this._element,"touchend.bs.swipe",a=>this._end(a)))}_eventIsPointerPenTouch(a){return this._supportPointerEvents&&(a.pointerType==="pen"||a.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Sr="next",mn="prev",Tr="left",Vi="right",Ps="slid.bs.carousel",uu="carousel",ir="active",Os={ArrowLeft:Vi,ArrowRight:Tr},cu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ia={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Zr extends ot{constructor(a,h){super(a,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=te.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===uu&&this.cycle()}static get Default(){return cu}static get DefaultType(){return ia}static get NAME(){return"carousel"}next(){this._slide(Sr)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(mn)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?x.one(this._element,Ps,()=>this.cycle()):this.cycle())}to(a){const h=this._getItems();if(a>h.length-1||a<0)return;if(this._isSliding)return void x.one(this._element,Ps,()=>this.to(a));const g=this._getItemIndex(this._getActive());if(g===a)return;const S=a>g?Sr:mn;this._slide(S,h[a])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(a){return a.defaultInterval=a.interval,a}_addEventListeners(){this._config.keyboard&&x.on(this._element,"keydown.bs.carousel",a=>this._keydown(a)),this._config.pause==="hover"&&(x.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),x.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&Jr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const h of te.find(".carousel-item img",this._element))x.on(h,"dragstart.bs.carousel",g=>g.preventDefault());const a={leftCallback:()=>this._slide(this._directionToOrder(Tr)),rightCallback:()=>this._slide(this._directionToOrder(Vi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Jr(this._element,a)}_keydown(a){if(/input|textarea/i.test(a.target.tagName))return;const h=Os[a.key];h&&(a.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(a){return this._getItems().indexOf(a)}_setActiveIndicatorElement(a){if(!this._indicatorsElement)return;const h=te.findOne(".active",this._indicatorsElement);h.classList.remove(ir),h.removeAttribute("aria-current");const g=te.findOne(`[data-bs-slide-to="${a}"]`,this._indicatorsElement);g&&(g.classList.add(ir),g.setAttribute("aria-current","true"))}_updateInterval(){const a=this._activeElement||this._getActive();if(!a)return;const h=Number.parseInt(a.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(a,h=null){if(this._isSliding)return;const g=this._getActive(),S=a===Sr,T=h||k(this._getItems(),g,S,this._config.wrap);if(T===g)return;const A=this._getItemIndex(T),R=B=>x.trigger(this._element,B,{relatedTarget:T,direction:this._orderToDirection(a),from:this._getItemIndex(g),to:A});if(R("slide.bs.carousel").defaultPrevented||!g||!T)return;const U=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(A),this._activeElement=T;const G=S?"carousel-item-start":"carousel-item-end",Y=S?"carousel-item-next":"carousel-item-prev";T.classList.add(Y),E(T),g.classList.add(G),T.classList.add(G),this._queueCallback(()=>{T.classList.remove(G,Y),T.classList.add(ir),g.classList.remove(ir,Y,G),this._isSliding=!1,R(Ps)},g,this._isAnimated()),U&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return te.findOne(".active.carousel-item",this._element)}_getItems(){return te.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(a){return N()?a===Tr?mn:Sr:a===Tr?Sr:mn}_orderToDirection(a){return N()?a===mn?Tr:Vi:a===mn?Vi:Tr}static jQueryInterface(a){return this.each(function(){const h=Zr.getOrCreateInstance(this,a);if(typeof a!="number"){if(typeof a=="string"){if(h[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);h[a]()}}else h.to(a)})}}x.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(f){const a=te.getElementFromSelector(this);if(!a||!a.classList.contains(uu))return;f.preventDefault();const h=Zr.getOrCreateInstance(a),g=this.getAttribute("data-bs-slide-to");return g?(h.to(g),void h._maybeEnableCycle()):pt.getDataAttribute(this,"slide")==="next"?(h.next(),void h._maybeEnableCycle()):(h.prev(),void h._maybeEnableCycle())}),x.on(window,"load.bs.carousel.data-api",()=>{const f=te.find('[data-bs-ride="carousel"]');for(const a of f)Zr.getOrCreateInstance(a)}),p(Zr);const sa="show",zi="collapse",Ls="collapsing",b='[data-bs-toggle="collapse"]',D={parent:null,toggle:!0},L={parent:"(null|element)",toggle:"boolean"};class K extends ot{constructor(a,h){super(a,h),this._isTransitioning=!1,this._triggerArray=[];const g=te.find(b);for(const S of g){const T=te.getSelectorFromElement(S),A=te.find(T).filter(R=>R===this._element);T!==null&&A.length&&this._triggerArray.push(S)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return D}static get DefaultType(){return L}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let a=[];if(this._config.parent&&(a=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(S=>S!==this._element).map(S=>K.getOrCreateInstance(S,{toggle:!1}))),a.length&&a[0]._isTransitioning||x.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const S of a)S.hide();const h=this._getDimension();this._element.classList.remove(zi),this._element.classList.add(Ls),this._element.style[h]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const g=`scroll${h[0].toUpperCase()+h.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ls),this._element.classList.add(zi,sa),this._element.style[h]="",x.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[h]=`${this._element[g]}px`}hide(){if(this._isTransitioning||!this._isShown()||x.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,E(this._element),this._element.classList.add(Ls),this._element.classList.remove(zi,sa);for(const h of this._triggerArray){const g=te.getElementFromSelector(h);g&&!this._isShown(g)&&this._addAriaAndCollapsedClass([h],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ls),this._element.classList.add(zi),x.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(a=this._element){return a.classList.contains(sa)}_configAfterMerge(a){return a.toggle=!!a.toggle,a.parent=u(a.parent),a}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const a=this._getFirstLevelChildren(b);for(const h of a){const g=te.getElementFromSelector(h);g&&this._addAriaAndCollapsedClass([h],this._isShown(g))}}_getFirstLevelChildren(a){const h=te.find(":scope .collapse .collapse",this._config.parent);return te.find(a,this._config.parent).filter(g=>!h.includes(g))}_addAriaAndCollapsedClass(a,h){if(a.length)for(const g of a)g.classList.toggle("collapsed",!h),g.setAttribute("aria-expanded",h)}static jQueryInterface(a){const h={};return typeof a=="string"&&/show|hide/.test(a)&&(h.toggle=!1),this.each(function(){const g=K.getOrCreateInstance(this,h);if(typeof a=="string"){if(g[a]===void 0)throw new TypeError(`No method named "${a}"`);g[a]()}})}}x.on(document,"click.bs.collapse.data-api",b,function(f){(f.target.tagName==="A"||f.delegateTarget&&f.delegateTarget.tagName==="A")&&f.preventDefault();for(const a of te.getMultipleElementsFromSelector(this))K.getOrCreateInstance(a,{toggle:!1}).toggle()}),p(K);var z="top",Z="bottom",re="right",X="left",J="auto",_e=[z,Z,re,X],Se="start",Xe="end",at="clippingParents",nt="viewport",mt="popper",ei="reference",Bi=_e.reduce(function(f,a){return f.concat([a+"-"+Se,a+"-"+Xe])},[]),ti=[].concat(_e,[J]).reduce(function(f,a){return f.concat([a,a+"-"+Se,a+"-"+Xe])},[]),Vn="beforeRead",Hi="read",Ms="afterRead",$s="beforeMain",Fs="main",Wi="afterMain",Ve="beforeWrite",Xt="write",Cr="afterWrite",js=[Vn,Hi,Ms,$s,Fs,Wi,Ve,Xt,Cr];function qe(f){return f?(f.nodeName||"").toLowerCase():null}function At(f){if(f==null)return window;if(f.toString()!=="[object Window]"){var a=f.ownerDocument;return a&&a.defaultView||window}return f}function sr(f){return f instanceof At(f).Element||f instanceof Element}function ln(f){return f instanceof At(f).HTMLElement||f instanceof HTMLElement}function vd(f){return typeof ShadowRoot<"u"&&(f instanceof At(f).ShadowRoot||f instanceof ShadowRoot)}const yd={name:"applyStyles",enabled:!0,phase:"write",fn:function(f){var a=f.state;Object.keys(a.elements).forEach(function(h){var g=a.styles[h]||{},S=a.attributes[h]||{},T=a.elements[h];ln(T)&&qe(T)&&(Object.assign(T.style,g),Object.keys(S).forEach(function(A){var R=S[A];R===!1?T.removeAttribute(A):T.setAttribute(A,R===!0?"":R)}))})},effect:function(f){var a=f.state,h={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,h.popper),a.styles=h,a.elements.arrow&&Object.assign(a.elements.arrow.style,h.arrow),function(){Object.keys(a.elements).forEach(function(g){var S=a.elements[g],T=a.attributes[g]||{},A=Object.keys(a.styles.hasOwnProperty(g)?a.styles[g]:h[g]).reduce(function(R,U){return R[U]="",R},{});ln(S)&&qe(S)&&(Object.assign(S.style,A),Object.keys(T).forEach(function(R){S.removeAttribute(R)}))})}},requires:["computeStyles"]};function or(f){return f.split("-")[0]}var Ki=Math.max,hu=Math.min,Us=Math.round;function wd(){var f=navigator.userAgentData;return f!=null&&f.brands&&Array.isArray(f.brands)?f.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function Ev(){return!/^((?!chrome|android).)*safari/i.test(wd())}function Vs(f,a,h){a===void 0&&(a=!1),h===void 0&&(h=!1);var g=f.getBoundingClientRect(),S=1,T=1;a&&ln(f)&&(S=f.offsetWidth>0&&Us(g.width)/f.offsetWidth||1,T=f.offsetHeight>0&&Us(g.height)/f.offsetHeight||1);var A=(sr(f)?At(f):window).visualViewport,R=!Ev()&&h,U=(g.left+(R&&A?A.offsetLeft:0))/S,G=(g.top+(R&&A?A.offsetTop:0))/T,Y=g.width/S,B=g.height/T;return{width:Y,height:B,top:G,right:U+Y,bottom:G+B,left:U,x:U,y:G}}function _d(f){var a=Vs(f),h=f.offsetWidth,g=f.offsetHeight;return Math.abs(a.width-h)<=1&&(h=a.width),Math.abs(a.height-g)<=1&&(g=a.height),{x:f.offsetLeft,y:f.offsetTop,width:h,height:g}}function Sv(f,a){var h=a.getRootNode&&a.getRootNode();if(f.contains(a))return!0;if(h&&vd(h)){var g=a;do{if(g&&f.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function Ir(f){return At(f).getComputedStyle(f)}function fI(f){return["table","td","th"].indexOf(qe(f))>=0}function ni(f){return((sr(f)?f.ownerDocument:f.document)||window.document).documentElement}function du(f){return qe(f)==="html"?f:f.assignedSlot||f.parentNode||(vd(f)?f.host:null)||ni(f)}function Tv(f){return ln(f)&&Ir(f).position!=="fixed"?f.offsetParent:null}function oa(f){for(var a=At(f),h=Tv(f);h&&fI(h)&&Ir(h).position==="static";)h=Tv(h);return h&&(qe(h)==="html"||qe(h)==="body"&&Ir(h).position==="static")?a:h||function(g){var S=/firefox/i.test(wd());if(/Trident/i.test(wd())&&ln(g)&&Ir(g).position==="fixed")return null;var T=du(g);for(vd(T)&&(T=T.host);ln(T)&&["html","body"].indexOf(qe(T))<0;){var A=Ir(T);if(A.transform!=="none"||A.perspective!=="none"||A.contain==="paint"||["transform","perspective"].indexOf(A.willChange)!==-1||S&&A.willChange==="filter"||S&&A.filter&&A.filter!=="none")return T;T=T.parentNode}return null}(f)||a}function Ed(f){return["top","bottom"].indexOf(f)>=0?"x":"y"}function aa(f,a,h){return Ki(f,hu(a,h))}function Cv(f){return Object.assign({},{top:0,right:0,bottom:0,left:0},f)}function Iv(f,a){return a.reduce(function(h,g){return h[g]=f,h},{})}const kv={name:"arrow",enabled:!0,phase:"main",fn:function(f){var a,h=f.state,g=f.name,S=f.options,T=h.elements.arrow,A=h.modifiersData.popperOffsets,R=or(h.placement),U=Ed(R),G=[X,re].indexOf(R)>=0?"height":"width";if(T&&A){var Y=function(Fe,Oe){return Cv(typeof(Fe=typeof Fe=="function"?Fe(Object.assign({},Oe.rects,{placement:Oe.placement})):Fe)!="number"?Fe:Iv(Fe,_e))}(S.padding,h),B=_d(T),ye=U==="y"?z:X,oe=U==="y"?Z:re,de=h.rects.reference[G]+h.rects.reference[U]-A[U]-h.rects.popper[G],le=A[U]-h.rects.reference[U],fe=oa(T),$e=fe?U==="y"?fe.clientHeight||0:fe.clientWidth||0:0,ze=de/2-le/2,Ee=Y[ye],Ne=$e-B[G]-Y[oe],we=$e/2-B[G]/2+ze,ke=aa(Ee,we,Ne),Pe=U;h.modifiersData[g]=((a={})[Pe]=ke,a.centerOffset=ke-we,a)}},effect:function(f){var a=f.state,h=f.options.element,g=h===void 0?"[data-popper-arrow]":h;g!=null&&(typeof g!="string"||(g=a.elements.popper.querySelector(g)))&&Sv(a.elements.popper,g)&&(a.elements.arrow=g)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zs(f){return f.split("-")[1]}var pI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xv(f){var a,h=f.popper,g=f.popperRect,S=f.placement,T=f.variation,A=f.offsets,R=f.position,U=f.gpuAcceleration,G=f.adaptive,Y=f.roundOffsets,B=f.isFixed,ye=A.x,oe=ye===void 0?0:ye,de=A.y,le=de===void 0?0:de,fe=typeof Y=="function"?Y({x:oe,y:le}):{x:oe,y:le};oe=fe.x,le=fe.y;var $e=A.hasOwnProperty("x"),ze=A.hasOwnProperty("y"),Ee=X,Ne=z,we=window;if(G){var ke=oa(h),Pe="clientHeight",Fe="clientWidth";ke===At(h)&&Ir(ke=ni(h)).position!=="static"&&R==="absolute"&&(Pe="scrollHeight",Fe="scrollWidth"),(S===z||(S===X||S===re)&&T===Xe)&&(Ne=Z,le-=(B&&ke===we&&we.visualViewport?we.visualViewport.height:ke[Pe])-g.height,le*=U?1:-1),S!==X&&(S!==z&&S!==Z||T!==Xe)||(Ee=re,oe-=(B&&ke===we&&we.visualViewport?we.visualViewport.width:ke[Fe])-g.width,oe*=U?1:-1)}var Oe,lt=Object.assign({position:R},G&&pI),gn=Y===!0?function(Bn,Jt){var bn=Bn.x,An=Bn.y,rt=Jt.devicePixelRatio||1;return{x:Us(bn*rt)/rt||0,y:Us(An*rt)/rt||0}}({x:oe,y:le},At(h)):{x:oe,y:le};return oe=gn.x,le=gn.y,U?Object.assign({},lt,((Oe={})[Ne]=ze?"0":"",Oe[Ee]=$e?"0":"",Oe.transform=(we.devicePixelRatio||1)<=1?"translate("+oe+"px, "+le+"px)":"translate3d("+oe+"px, "+le+"px, 0)",Oe)):Object.assign({},lt,((a={})[Ne]=ze?le+"px":"",a[Ee]=$e?oe+"px":"",a.transform="",a))}const Sd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(f){var a=f.state,h=f.options,g=h.gpuAcceleration,S=g===void 0||g,T=h.adaptive,A=T===void 0||T,R=h.roundOffsets,U=R===void 0||R,G={placement:or(a.placement),variation:zs(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:S,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,xv(Object.assign({},G,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:A,roundOffsets:U})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,xv(Object.assign({},G,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:U})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})},data:{}};var fu={passive:!0};const Td={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(f){var a=f.state,h=f.instance,g=f.options,S=g.scroll,T=S===void 0||S,A=g.resize,R=A===void 0||A,U=At(a.elements.popper),G=[].concat(a.scrollParents.reference,a.scrollParents.popper);return T&&G.forEach(function(Y){Y.addEventListener("scroll",h.update,fu)}),R&&U.addEventListener("resize",h.update,fu),function(){T&&G.forEach(function(Y){Y.removeEventListener("scroll",h.update,fu)}),R&&U.removeEventListener("resize",h.update,fu)}},data:{}};var mI={left:"right",right:"left",bottom:"top",top:"bottom"};function pu(f){return f.replace(/left|right|bottom|top/g,function(a){return mI[a]})}var gI={start:"end",end:"start"};function bv(f){return f.replace(/start|end/g,function(a){return gI[a]})}function Cd(f){var a=At(f);return{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function Id(f){return Vs(ni(f)).left+Cd(f).scrollLeft}function kd(f){var a=Ir(f),h=a.overflow,g=a.overflowX,S=a.overflowY;return/auto|scroll|overlay|hidden/.test(h+S+g)}function Av(f){return["html","body","#document"].indexOf(qe(f))>=0?f.ownerDocument.body:ln(f)&&kd(f)?f:Av(du(f))}function la(f,a){var h;a===void 0&&(a=[]);var g=Av(f),S=g===((h=f.ownerDocument)==null?void 0:h.body),T=At(g),A=S?[T].concat(T.visualViewport||[],kd(g)?g:[]):g,R=a.concat(A);return S?R:R.concat(la(du(A)))}function xd(f){return Object.assign({},f,{left:f.x,top:f.y,right:f.x+f.width,bottom:f.y+f.height})}function Nv(f,a,h){return a===nt?xd(function(g,S){var T=At(g),A=ni(g),R=T.visualViewport,U=A.clientWidth,G=A.clientHeight,Y=0,B=0;if(R){U=R.width,G=R.height;var ye=Ev();(ye||!ye&&S==="fixed")&&(Y=R.offsetLeft,B=R.offsetTop)}return{width:U,height:G,x:Y+Id(g),y:B}}(f,h)):sr(a)?function(g,S){var T=Vs(g,!1,S==="fixed");return T.top=T.top+g.clientTop,T.left=T.left+g.clientLeft,T.bottom=T.top+g.clientHeight,T.right=T.left+g.clientWidth,T.width=g.clientWidth,T.height=g.clientHeight,T.x=T.left,T.y=T.top,T}(a,h):xd(function(g){var S,T=ni(g),A=Cd(g),R=(S=g.ownerDocument)==null?void 0:S.body,U=Ki(T.scrollWidth,T.clientWidth,R?R.scrollWidth:0,R?R.clientWidth:0),G=Ki(T.scrollHeight,T.clientHeight,R?R.scrollHeight:0,R?R.clientHeight:0),Y=-A.scrollLeft+Id(g),B=-A.scrollTop;return Ir(R||T).direction==="rtl"&&(Y+=Ki(T.clientWidth,R?R.clientWidth:0)-U),{width:U,height:G,x:Y,y:B}}(ni(f)))}function Dv(f){var a,h=f.reference,g=f.element,S=f.placement,T=S?or(S):null,A=S?zs(S):null,R=h.x+h.width/2-g.width/2,U=h.y+h.height/2-g.height/2;switch(T){case z:a={x:R,y:h.y-g.height};break;case Z:a={x:R,y:h.y+h.height};break;case re:a={x:h.x+h.width,y:U};break;case X:a={x:h.x-g.width,y:U};break;default:a={x:h.x,y:h.y}}var G=T?Ed(T):null;if(G!=null){var Y=G==="y"?"height":"width";switch(A){case Se:a[G]=a[G]-(h[Y]/2-g[Y]/2);break;case Xe:a[G]=a[G]+(h[Y]/2-g[Y]/2)}}return a}function Bs(f,a){a===void 0&&(a={});var h=a,g=h.placement,S=g===void 0?f.placement:g,T=h.strategy,A=T===void 0?f.strategy:T,R=h.boundary,U=R===void 0?at:R,G=h.rootBoundary,Y=G===void 0?nt:G,B=h.elementContext,ye=B===void 0?mt:B,oe=h.altBoundary,de=oe!==void 0&&oe,le=h.padding,fe=le===void 0?0:le,$e=Cv(typeof fe!="number"?fe:Iv(fe,_e)),ze=ye===mt?ei:mt,Ee=f.rects.popper,Ne=f.elements[de?ze:ye],we=function(Jt,bn,An,rt){var ar=bn==="clippingParents"?function(Ue){var Zt=la(du(Ue)),Nn=["absolute","fixed"].indexOf(Ir(Ue).position)>=0&&ln(Ue)?oa(Ue):Ue;return sr(Nn)?Zt.filter(function(ri){return sr(ri)&&Sv(ri,Nn)&&qe(ri)!=="body"}):[]}(Jt):[].concat(bn),lr=[].concat(ar,[An]),Hs=lr[0],St=lr.reduce(function(Ue,Zt){var Nn=Nv(Jt,Zt,rt);return Ue.top=Ki(Nn.top,Ue.top),Ue.right=hu(Nn.right,Ue.right),Ue.bottom=hu(Nn.bottom,Ue.bottom),Ue.left=Ki(Nn.left,Ue.left),Ue},Nv(Jt,Hs,rt));return St.width=St.right-St.left,St.height=St.bottom-St.top,St.x=St.left,St.y=St.top,St}(sr(Ne)?Ne:Ne.contextElement||ni(f.elements.popper),U,Y,A),ke=Vs(f.elements.reference),Pe=Dv({reference:ke,element:Ee,strategy:"absolute",placement:S}),Fe=xd(Object.assign({},Ee,Pe)),Oe=ye===mt?Fe:ke,lt={top:we.top-Oe.top+$e.top,bottom:Oe.bottom-we.bottom+$e.bottom,left:we.left-Oe.left+$e.left,right:Oe.right-we.right+$e.right},gn=f.modifiersData.offset;if(ye===mt&&gn){var Bn=gn[S];Object.keys(lt).forEach(function(Jt){var bn=[re,Z].indexOf(Jt)>=0?1:-1,An=[z,Z].indexOf(Jt)>=0?"y":"x";lt[Jt]+=Bn[An]*bn})}return lt}function vI(f,a){a===void 0&&(a={});var h=a,g=h.placement,S=h.boundary,T=h.rootBoundary,A=h.padding,R=h.flipVariations,U=h.allowedAutoPlacements,G=U===void 0?ti:U,Y=zs(g),B=Y?R?Bi:Bi.filter(function(de){return zs(de)===Y}):_e,ye=B.filter(function(de){return G.indexOf(de)>=0});ye.length===0&&(ye=B);var oe=ye.reduce(function(de,le){return de[le]=Bs(f,{placement:le,boundary:S,rootBoundary:T,padding:A})[or(le)],de},{});return Object.keys(oe).sort(function(de,le){return oe[de]-oe[le]})}const Rv={name:"flip",enabled:!0,phase:"main",fn:function(f){var a=f.state,h=f.options,g=f.name;if(!a.modifiersData[g]._skip){for(var S=h.mainAxis,T=S===void 0||S,A=h.altAxis,R=A===void 0||A,U=h.fallbackPlacements,G=h.padding,Y=h.boundary,B=h.rootBoundary,ye=h.altBoundary,oe=h.flipVariations,de=oe===void 0||oe,le=h.allowedAutoPlacements,fe=a.options.placement,$e=or(fe),ze=U||($e!==fe&&de?function(Ue){if(or(Ue)===J)return[];var Zt=pu(Ue);return[bv(Ue),Zt,bv(Zt)]}(fe):[pu(fe)]),Ee=[fe].concat(ze).reduce(function(Ue,Zt){return Ue.concat(or(Zt)===J?vI(a,{placement:Zt,boundary:Y,rootBoundary:B,padding:G,flipVariations:de,allowedAutoPlacements:le}):Zt)},[]),Ne=a.rects.reference,we=a.rects.popper,ke=new Map,Pe=!0,Fe=Ee[0],Oe=0;Oe<Ee.length;Oe++){var lt=Ee[Oe],gn=or(lt),Bn=zs(lt)===Se,Jt=[z,Z].indexOf(gn)>=0,bn=Jt?"width":"height",An=Bs(a,{placement:lt,boundary:Y,rootBoundary:B,altBoundary:ye,padding:G}),rt=Jt?Bn?re:X:Bn?Z:z;Ne[bn]>we[bn]&&(rt=pu(rt));var ar=pu(rt),lr=[];if(T&&lr.push(An[gn]<=0),R&&lr.push(An[rt]<=0,An[ar]<=0),lr.every(function(Ue){return Ue})){Fe=lt,Pe=!1;break}ke.set(lt,lr)}if(Pe)for(var Hs=function(Ue){var Zt=Ee.find(function(Nn){var ri=ke.get(Nn);if(ri)return ri.slice(0,Ue).every(function(Cu){return Cu})});if(Zt)return Fe=Zt,"break"},St=de?3:1;St>0&&Hs(St)!=="break";St--);a.placement!==Fe&&(a.modifiersData[g]._skip=!0,a.placement=Fe,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Pv(f,a,h){return h===void 0&&(h={x:0,y:0}),{top:f.top-a.height-h.y,right:f.right-a.width+h.x,bottom:f.bottom-a.height+h.y,left:f.left-a.width-h.x}}function Ov(f){return[z,re,Z,X].some(function(a){return f[a]>=0})}const Lv={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(f){var a=f.state,h=f.name,g=a.rects.reference,S=a.rects.popper,T=a.modifiersData.preventOverflow,A=Bs(a,{elementContext:"reference"}),R=Bs(a,{altBoundary:!0}),U=Pv(A,g),G=Pv(R,S,T),Y=Ov(U),B=Ov(G);a.modifiersData[h]={referenceClippingOffsets:U,popperEscapeOffsets:G,isReferenceHidden:Y,hasPopperEscaped:B},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":Y,"data-popper-escaped":B})}},Mv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(f){var a=f.state,h=f.options,g=f.name,S=h.offset,T=S===void 0?[0,0]:S,A=ti.reduce(function(Y,B){return Y[B]=function(ye,oe,de){var le=or(ye),fe=[X,z].indexOf(le)>=0?-1:1,$e=typeof de=="function"?de(Object.assign({},oe,{placement:ye})):de,ze=$e[0],Ee=$e[1];return ze=ze||0,Ee=(Ee||0)*fe,[X,re].indexOf(le)>=0?{x:Ee,y:ze}:{x:ze,y:Ee}}(B,a.rects,T),Y},{}),R=A[a.placement],U=R.x,G=R.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=U,a.modifiersData.popperOffsets.y+=G),a.modifiersData[g]=A}},bd={name:"popperOffsets",enabled:!0,phase:"read",fn:function(f){var a=f.state,h=f.name;a.modifiersData[h]=Dv({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})},data:{}},$v={name:"preventOverflow",enabled:!0,phase:"main",fn:function(f){var a=f.state,h=f.options,g=f.name,S=h.mainAxis,T=S===void 0||S,A=h.altAxis,R=A!==void 0&&A,U=h.boundary,G=h.rootBoundary,Y=h.altBoundary,B=h.padding,ye=h.tether,oe=ye===void 0||ye,de=h.tetherOffset,le=de===void 0?0:de,fe=Bs(a,{boundary:U,rootBoundary:G,padding:B,altBoundary:Y}),$e=or(a.placement),ze=zs(a.placement),Ee=!ze,Ne=Ed($e),we=Ne==="x"?"y":"x",ke=a.modifiersData.popperOffsets,Pe=a.rects.reference,Fe=a.rects.popper,Oe=typeof le=="function"?le(Object.assign({},a.rects,{placement:a.placement})):le,lt=typeof Oe=="number"?{mainAxis:Oe,altAxis:Oe}:Object.assign({mainAxis:0,altAxis:0},Oe),gn=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,Bn={x:0,y:0};if(ke){if(T){var Jt,bn=Ne==="y"?z:X,An=Ne==="y"?Z:re,rt=Ne==="y"?"height":"width",ar=ke[Ne],lr=ar+fe[bn],Hs=ar-fe[An],St=oe?-Fe[rt]/2:0,Ue=ze===Se?Pe[rt]:Fe[rt],Zt=ze===Se?-Fe[rt]:-Pe[rt],Nn=a.elements.arrow,ri=oe&&Nn?_d(Nn):{width:0,height:0},Cu=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Sy=Cu[bn],Ty=Cu[An],Iu=aa(0,Pe[rt],ri[rt]),ok=Ee?Pe[rt]/2-St-Iu-Sy-lt.mainAxis:Ue-Iu-Sy-lt.mainAxis,ak=Ee?-Pe[rt]/2+St+Iu+Ty+lt.mainAxis:Zt+Iu+Ty+lt.mainAxis,Ld=a.elements.arrow&&oa(a.elements.arrow),lk=Ld?Ne==="y"?Ld.clientTop||0:Ld.clientLeft||0:0,Cy=(Jt=gn==null?void 0:gn[Ne])!=null?Jt:0,uk=ar+ak-Cy,Iy=aa(oe?hu(lr,ar+ok-Cy-lk):lr,ar,oe?Ki(Hs,uk):Hs);ke[Ne]=Iy,Bn[Ne]=Iy-ar}if(R){var ky,ck=Ne==="x"?z:X,hk=Ne==="x"?Z:re,Xi=ke[we],ku=we==="y"?"height":"width",xy=Xi+fe[ck],by=Xi-fe[hk],Md=[z,X].indexOf($e)!==-1,Ay=(ky=gn==null?void 0:gn[we])!=null?ky:0,Ny=Md?xy:Xi-Pe[ku]-Fe[ku]-Ay+lt.altAxis,Dy=Md?Xi+Pe[ku]+Fe[ku]-Ay-lt.altAxis:by,Ry=oe&&Md?function(dk,fk,$d){var Py=aa(dk,fk,$d);return Py>$d?$d:Py}(Ny,Xi,Dy):aa(oe?Ny:xy,Xi,oe?Dy:by);ke[we]=Ry,Bn[we]=Ry-Xi}a.modifiersData[g]=Bn}},requiresIfExists:["offset"]};function yI(f,a,h){h===void 0&&(h=!1);var g,S,T=ln(a),A=ln(a)&&function(B){var ye=B.getBoundingClientRect(),oe=Us(ye.width)/B.offsetWidth||1,de=Us(ye.height)/B.offsetHeight||1;return oe!==1||de!==1}(a),R=ni(a),U=Vs(f,A,h),G={scrollLeft:0,scrollTop:0},Y={x:0,y:0};return(T||!T&&!h)&&((qe(a)!=="body"||kd(R))&&(G=(g=a)!==At(g)&&ln(g)?{scrollLeft:(S=g).scrollLeft,scrollTop:S.scrollTop}:Cd(g)),ln(a)?((Y=Vs(a,!0)).x+=a.clientLeft,Y.y+=a.clientTop):R&&(Y.x=Id(R))),{x:U.left+G.scrollLeft-Y.x,y:U.top+G.scrollTop-Y.y,width:U.width,height:U.height}}function wI(f){var a=new Map,h=new Set,g=[];function S(T){h.add(T.name),[].concat(T.requires||[],T.requiresIfExists||[]).forEach(function(A){if(!h.has(A)){var R=a.get(A);R&&S(R)}}),g.push(T)}return f.forEach(function(T){a.set(T.name,T)}),f.forEach(function(T){h.has(T.name)||S(T)}),g}var Fv={placement:"bottom",modifiers:[],strategy:"absolute"};function jv(){for(var f=arguments.length,a=new Array(f),h=0;h<f;h++)a[h]=arguments[h];return!a.some(function(g){return!(g&&typeof g.getBoundingClientRect=="function")})}function mu(f){f===void 0&&(f={});var a=f,h=a.defaultModifiers,g=h===void 0?[]:h,S=a.defaultOptions,T=S===void 0?Fv:S;return function(A,R,U){U===void 0&&(U=T);var G,Y,B={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fv,T),modifiersData:{},elements:{reference:A,popper:R},attributes:{},styles:{}},ye=[],oe=!1,de={state:B,setOptions:function(fe){var $e=typeof fe=="function"?fe(B.options):fe;le(),B.options=Object.assign({},T,B.options,$e),B.scrollParents={reference:sr(A)?la(A):A.contextElement?la(A.contextElement):[],popper:la(R)};var ze,Ee,Ne=function(we){var ke=wI(we);return js.reduce(function(Pe,Fe){return Pe.concat(ke.filter(function(Oe){return Oe.phase===Fe}))},[])}((ze=[].concat(g,B.options.modifiers),Ee=ze.reduce(function(we,ke){var Pe=we[ke.name];return we[ke.name]=Pe?Object.assign({},Pe,ke,{options:Object.assign({},Pe.options,ke.options),data:Object.assign({},Pe.data,ke.data)}):ke,we},{}),Object.keys(Ee).map(function(we){return Ee[we]})));return B.orderedModifiers=Ne.filter(function(we){return we.enabled}),B.orderedModifiers.forEach(function(we){var ke=we.name,Pe=we.options,Fe=Pe===void 0?{}:Pe,Oe=we.effect;if(typeof Oe=="function"){var lt=Oe({state:B,name:ke,instance:de,options:Fe});ye.push(lt||function(){})}}),de.update()},forceUpdate:function(){if(!oe){var fe=B.elements,$e=fe.reference,ze=fe.popper;if(jv($e,ze)){B.rects={reference:yI($e,oa(ze),B.options.strategy==="fixed"),popper:_d(ze)},B.reset=!1,B.placement=B.options.placement,B.orderedModifiers.forEach(function(Oe){return B.modifiersData[Oe.name]=Object.assign({},Oe.data)});for(var Ee=0;Ee<B.orderedModifiers.length;Ee++)if(B.reset!==!0){var Ne=B.orderedModifiers[Ee],we=Ne.fn,ke=Ne.options,Pe=ke===void 0?{}:ke,Fe=Ne.name;typeof we=="function"&&(B=we({state:B,options:Pe,name:Fe,instance:de})||B)}else B.reset=!1,Ee=-1}}},update:(G=function(){return new Promise(function(fe){de.forceUpdate(),fe(B)})},function(){return Y||(Y=new Promise(function(fe){Promise.resolve().then(function(){Y=void 0,fe(G())})})),Y}),destroy:function(){le(),oe=!0}};if(!jv(A,R))return de;function le(){ye.forEach(function(fe){return fe()}),ye=[]}return de.setOptions(U).then(function(fe){!oe&&U.onFirstUpdate&&U.onFirstUpdate(fe)}),de}}var _I=mu(),EI=mu({defaultModifiers:[Td,bd,Sd,yd]}),Ad=mu({defaultModifiers:[Td,bd,Sd,yd,Mv,Rv,$v,kv,Lv]});const Uv=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Wi,afterRead:Ms,afterWrite:Cr,applyStyles:yd,arrow:kv,auto:J,basePlacements:_e,beforeMain:$s,beforeRead:Vn,beforeWrite:Ve,bottom:Z,clippingParents:at,computeStyles:Sd,createPopper:Ad,createPopperBase:_I,createPopperLite:EI,detectOverflow:Bs,end:Xe,eventListeners:Td,flip:Rv,hide:Lv,left:X,main:Fs,modifierPhases:js,offset:Mv,placements:ti,popper:mt,popperGenerator:mu,popperOffsets:bd,preventOverflow:$v,read:Hi,reference:ei,right:re,start:Se,top:z,variationPlacements:Bi,viewport:nt,write:Xt},Symbol.toStringTag,{value:"Module"})),Vv="dropdown",SI="ArrowUp",zv="ArrowDown",Bv="click.bs.dropdown.data-api",Hv="keydown.bs.dropdown.data-api",ua="show",qi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',TI=`${qi}.show`,gu=".dropdown-menu",CI=N()?"top-end":"top-start",II=N()?"top-start":"top-end",kI=N()?"bottom-end":"bottom-start",xI=N()?"bottom-start":"bottom-end",bI=N()?"left-start":"right-start",AI=N()?"right-start":"left-start",NI={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DI={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class zn extends ot{constructor(a,h){super(a,h),this._popper=null,this._parent=this._element.parentNode,this._menu=te.next(this._element,gu)[0]||te.prev(this._element,gu)[0]||te.findOne(gu,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return NI}static get DefaultType(){return DI}static get NAME(){return Vv}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const a={relatedTarget:this._element};if(!x.trigger(this._element,"show.bs.dropdown",a).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const h of[].concat(...document.body.children))x.on(h,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ua),this._element.classList.add(ua),x.trigger(this._element,"shown.bs.dropdown",a)}}hide(){if(d(this._element)||!this._isShown())return;const a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){if(!x.trigger(this._element,"hide.bs.dropdown",a).defaultPrevented){if("ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))x.off(h,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(ua),this._element.classList.remove(ua),this._element.setAttribute("aria-expanded","false"),pt.removeDataAttribute(this._menu,"popper"),x.trigger(this._element,"hidden.bs.dropdown",a)}}_getConfig(a){if(typeof(a=super._getConfig(a)).reference=="object"&&!l(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${Vv.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(){if(Uv===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let a=this._element;this._config.reference==="parent"?a=this._parent:l(this._config.reference)?a=u(this._config.reference):typeof this._config.reference=="object"&&(a=this._config.reference);const h=this._getPopperConfig();this._popper=Ad(a,this._menu,h)}_isShown(){return this._menu.classList.contains(ua)}_getPlacement(){const a=this._parent;if(a.classList.contains("dropend"))return bI;if(a.classList.contains("dropstart"))return AI;if(a.classList.contains("dropup-center"))return"top";if(a.classList.contains("dropdown-center"))return"bottom";const h=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains("dropup")?h?II:CI:h?xI:kI}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(h=>Number.parseInt(h,10)):typeof a=="function"?h=>a(h,this._element):a}_getPopperConfig(){const a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(pt.setDataAttribute(this._menu,"popper","static"),a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...y(this._config.popperConfig,[a])}}_selectMenuItem({key:a,target:h}){const g=te.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(S=>c(S));g.length&&k(g,h,a===zv,!g.includes(h)).focus()}static jQueryInterface(a){return this.each(function(){const h=zn.getOrCreateInstance(this,a);if(typeof a=="string"){if(h[a]===void 0)throw new TypeError(`No method named "${a}"`);h[a]()}})}static clearMenus(a){if(a.button===2||a.type==="keyup"&&a.key!=="Tab")return;const h=te.find(TI);for(const g of h){const S=zn.getInstance(g);if(!S||S._config.autoClose===!1)continue;const T=a.composedPath(),A=T.includes(S._menu);if(T.includes(S._element)||S._config.autoClose==="inside"&&!A||S._config.autoClose==="outside"&&A||S._menu.contains(a.target)&&(a.type==="keyup"&&a.key==="Tab"||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;const R={relatedTarget:S._element};a.type==="click"&&(R.clickEvent=a),S._completeHide(R)}}static dataApiKeydownHandler(a){const h=/input|textarea/i.test(a.target.tagName),g=a.key==="Escape",S=[SI,zv].includes(a.key);if(!S&&!g||h&&!g)return;a.preventDefault();const T=this.matches(qi)?this:te.prev(this,qi)[0]||te.next(this,qi)[0]||te.findOne(qi,a.delegateTarget.parentNode),A=zn.getOrCreateInstance(T);if(S)return a.stopPropagation(),A.show(),void A._selectMenuItem(a);A._isShown()&&(a.stopPropagation(),A.hide(),T.focus())}}x.on(document,Hv,qi,zn.dataApiKeydownHandler),x.on(document,Hv,gu,zn.dataApiKeydownHandler),x.on(document,Bv,zn.clearMenus),x.on(document,"keyup.bs.dropdown.data-api",zn.clearMenus),x.on(document,Bv,qi,function(f){f.preventDefault(),zn.getOrCreateInstance(this).toggle()}),p(zn);const Wv="show",Kv="mousedown.bs.backdrop",RI={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},PI={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qv extends Et{constructor(a){super(),this._config=this._getConfig(a),this._isAppended=!1,this._element=null}static get Default(){return RI}static get DefaultType(){return PI}static get NAME(){return"backdrop"}show(a){if(!this._config.isVisible)return void y(a);this._append();const h=this._getElement();this._config.isAnimated&&E(h),h.classList.add(Wv),this._emulateAnimation(()=>{y(a)})}hide(a){this._config.isVisible?(this._getElement().classList.remove(Wv),this._emulateAnimation(()=>{this.dispose(),y(a)})):y(a)}dispose(){this._isAppended&&(x.off(this._element,Kv),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add("fade"),this._element=a}return this._element}_configAfterMerge(a){return a.rootElement=u(a.rootElement),a}_append(){if(this._isAppended)return;const a=this._getElement();this._config.rootElement.append(a),x.on(a,Kv,()=>{y(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(a){w(a,this._getElement(),this._config.isAnimated)}}const Gv=".bs.focustrap",Qv="backward",OI={autofocus:!0,trapElement:null},LI={autofocus:"boolean",trapElement:"element"};class Yv extends Et{constructor(a){super(),this._config=this._getConfig(a),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return OI}static get DefaultType(){return LI}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),x.off(document,Gv),x.on(document,"focusin.bs.focustrap",a=>this._handleFocusin(a)),x.on(document,"keydown.tab.bs.focustrap",a=>this._handleKeydown(a)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,x.off(document,Gv))}_handleFocusin(a){const{trapElement:h}=this._config;if(a.target===document||a.target===h||h.contains(a.target))return;const g=te.focusableChildren(h);g.length===0?h.focus():this._lastTabNavDirection===Qv?g[g.length-1].focus():g[0].focus()}_handleKeydown(a){a.key==="Tab"&&(this._lastTabNavDirection=a.shiftKey?Qv:"forward")}}const Xv=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Jv=".sticky-top",vu="padding-right",Zv="margin-right";class Nd{constructor(){this._element=document.body}getWidth(){const a=document.documentElement.clientWidth;return Math.abs(window.innerWidth-a)}hide(){const a=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,vu,h=>h+a),this._setElementAttributes(Xv,vu,h=>h+a),this._setElementAttributes(Jv,Zv,h=>h-a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,vu),this._resetElementAttributes(Xv,vu),this._resetElementAttributes(Jv,Zv)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(a,h,g){const S=this.getWidth();this._applyManipulationCallback(a,T=>{if(T!==this._element&&window.innerWidth>T.clientWidth+S)return;this._saveInitialAttribute(T,h);const A=window.getComputedStyle(T).getPropertyValue(h);T.style.setProperty(h,`${g(Number.parseFloat(A))}px`)})}_saveInitialAttribute(a,h){const g=a.style.getPropertyValue(h);g&&pt.setDataAttribute(a,h,g)}_resetElementAttributes(a,h){this._applyManipulationCallback(a,g=>{const S=pt.getDataAttribute(g,h);S!==null?(pt.removeDataAttribute(g,h),g.style.setProperty(h,S)):g.style.removeProperty(h)})}_applyManipulationCallback(a,h){if(l(a))h(a);else for(const g of te.find(a,this._element))h(g)}}const ey=".bs.modal",ty="hidden.bs.modal",ny="show.bs.modal",ry="modal-open",iy="show",Dd="modal-static",MI={backdrop:!0,focus:!0,keyboard:!0},$I={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Gi extends ot{constructor(a,h){super(a,h),this._dialog=te.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Nd,this._addEventListeners()}static get Default(){return MI}static get DefaultType(){return $I}static get NAME(){return"modal"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||this._isTransitioning||x.trigger(this._element,ny,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ry),this._adjustDialog(),this._backdrop.show(()=>this._showElement(a)))}hide(){this._isShown&&!this._isTransitioning&&(x.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(iy),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){x.off(window,ey),x.off(this._dialog,ey),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qv({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Yv({trapElement:this._element})}_showElement(a){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=te.findOne(".modal-body",this._dialog);h&&(h.scrollTop=0),E(this._element),this._element.classList.add(iy),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,x.trigger(this._element,"shown.bs.modal",{relatedTarget:a})},this._dialog,this._isAnimated())}_addEventListeners(){x.on(this._element,"keydown.dismiss.bs.modal",a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),x.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),x.on(this._element,"mousedown.dismiss.bs.modal",a=>{x.one(this._element,"click.dismiss.bs.modal",h=>{this._element===a.target&&this._element===h.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ry),this._resetAdjustments(),this._scrollBar.reset(),x.trigger(this._element,ty)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(x.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,h=this._element.style.overflowY;h==="hidden"||this._element.classList.contains(Dd)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(Dd),this._queueCallback(()=>{this._element.classList.remove(Dd),this._queueCallback(()=>{this._element.style.overflowY=h},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const a=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),g=h>0;if(g&&!a){const S=N()?"paddingLeft":"paddingRight";this._element.style[S]=`${h}px`}if(!g&&a){const S=N()?"paddingRight":"paddingLeft";this._element.style[S]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(a,h){return this.each(function(){const g=Gi.getOrCreateInstance(this,a);if(typeof a=="string"){if(g[a]===void 0)throw new TypeError(`No method named "${a}"`);g[a](h)}})}}x.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(f){const a=te.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&f.preventDefault(),x.one(a,ny,g=>{g.defaultPrevented||x.one(a,ty,()=>{c(this)&&this.focus()})});const h=te.findOne(".modal.show");h&&Gi.getInstance(h).hide(),Gi.getOrCreateInstance(a).toggle(this)}),Rs(Gi),p(Gi);const sy="show",oy="showing",ay="hiding",ly=".offcanvas.show",uy="hidePrevented.bs.offcanvas",cy="hidden.bs.offcanvas",FI={backdrop:!0,keyboard:!0,scroll:!1},jI={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class kr extends ot{constructor(a,h){super(a,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return FI}static get DefaultType(){return jI}static get NAME(){return"offcanvas"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||x.trigger(this._element,"show.bs.offcanvas",{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Nd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(oy),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(sy),this._element.classList.remove(oy),x.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:a})},this._element,!0))}hide(){this._isShown&&(x.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ay),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(sy,ay),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Nd().reset(),x.trigger(this._element,cy)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new qv({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{this._config.backdrop!=="static"?this.hide():x.trigger(this._element,uy)}:null})}_initializeFocusTrap(){return new Yv({trapElement:this._element})}_addEventListeners(){x.on(this._element,"keydown.dismiss.bs.offcanvas",a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():x.trigger(this._element,uy))})}static jQueryInterface(a){return this.each(function(){const h=kr.getOrCreateInstance(this,a);if(typeof a=="string"){if(h[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);h[a](this)}})}}x.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(f){const a=te.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),d(this))return;x.one(a,cy,()=>{c(this)&&this.focus()});const h=te.findOne(ly);h&&h!==a&&kr.getInstance(h).hide(),kr.getOrCreateInstance(a).toggle(this)}),x.on(window,"load.bs.offcanvas.data-api",()=>{for(const f of te.find(ly))kr.getOrCreateInstance(f).show()}),x.on(window,"resize.bs.offcanvas",()=>{for(const f of te.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(f).position!=="fixed"&&kr.getOrCreateInstance(f).hide()}),Rs(kr),p(kr);const UI=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),VI=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,zI=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,BI=(f,a)=>{const h=f.nodeName.toLowerCase();return a.includes(h)?!UI.has(h)||!!(VI.test(f.nodeValue)||zI.test(f.nodeValue)):a.filter(g=>g instanceof RegExp).some(g=>g.test(h))},hy={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},HI={allowList:hy,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},WI={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},KI={entry:"(string|element|function|null)",selector:"(string|element)"};class qI extends Et{constructor(a){super(),this._config=this._getConfig(a)}static get Default(){return HI}static get DefaultType(){return WI}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(a=>this._resolvePossibleFunction(a)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(a){return this._checkContent(a),this._config.content={...this._config.content,...a},this}toHtml(){const a=document.createElement("div");a.innerHTML=this._maybeSanitize(this._config.template);for(const[S,T]of Object.entries(this._config.content))this._setContent(a,T,S);const h=a.children[0],g=this._resolvePossibleFunction(this._config.extraClass);return g&&h.classList.add(...g.split(" ")),h}_typeCheckConfig(a){super._typeCheckConfig(a),this._checkContent(a.content)}_checkContent(a){for(const[h,g]of Object.entries(a))super._typeCheckConfig({selector:h,entry:g},KI)}_setContent(a,h,g){const S=te.findOne(g,a);S&&((h=this._resolvePossibleFunction(h))?l(h)?this._putElementInTemplate(u(h),S):this._config.html?S.innerHTML=this._maybeSanitize(h):S.textContent=h:S.remove())}_maybeSanitize(a){return this._config.sanitize?function(h,g,S){if(!h.length)return h;if(S&&typeof S=="function")return S(h);const T=new window.DOMParser().parseFromString(h,"text/html"),A=[].concat(...T.body.querySelectorAll("*"));for(const R of A){const U=R.nodeName.toLowerCase();if(!Object.keys(g).includes(U)){R.remove();continue}const G=[].concat(...R.attributes),Y=[].concat(g["*"]||[],g[U]||[]);for(const B of G)BI(B,Y)||R.removeAttribute(B.nodeName)}return T.body.innerHTML}(a,this._config.allowList,this._config.sanitizeFn):a}_resolvePossibleFunction(a){return y(a,[this])}_putElementInTemplate(a,h){if(this._config.html)return h.innerHTML="",void h.append(a);h.textContent=a.textContent}}const GI=new Set(["sanitize","allowList","sanitizeFn"]),Rd="fade",yu="show",dy=".modal",fy="hide.bs.modal",wu="hover",py="focus",QI={AUTO:"auto",TOP:"top",RIGHT:N()?"left":"right",BOTTOM:"bottom",LEFT:N()?"right":"left"},YI={allowList:hy,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},XI={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Qi extends ot{constructor(a,h){if(Uv===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(a,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return YI}static get DefaultType(){return XI}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),x.off(this._element.closest(dy),fy,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const a=x.trigger(this._element,this.constructor.eventName("show")),h=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(a.defaultPrevented||!h)return;this._disposePopper();const g=this._getTipElement();this._element.setAttribute("aria-describedby",g.getAttribute("id"));const{container:S}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(S.append(g),x.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(g),g.classList.add(yu),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))x.on(T,"mouseover",v);this._queueCallback(()=>{x.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!x.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(yu),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))x.off(a,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),x.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(a){const h=this._getTemplateFactory(a).toHtml();if(!h)return null;h.classList.remove(Rd,yu),h.classList.add(`bs-${this.constructor.NAME}-auto`);const g=(S=>{do S+=Math.floor(1e6*Math.random());while(document.getElementById(S));return S})(this.constructor.NAME).toString();return h.setAttribute("id",g),this._isAnimated()&&h.classList.add(Rd),h}setContent(a){this._newContent=a,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(a){return this._templateFactory?this._templateFactory.changeContent(a):this._templateFactory=new qI({...this._config,content:a,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(a){return this.constructor.getOrCreateInstance(a.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Rd)}_isShown(){return this.tip&&this.tip.classList.contains(yu)}_createPopper(a){const h=y(this._config.placement,[this,a,this._element]),g=QI[h.toUpperCase()];return Ad(this._element,a,this._getPopperConfig(g))}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(h=>Number.parseInt(h,10)):typeof a=="function"?h=>a(h,this._element):a}_resolvePossibleFunction(a){return y(a,[this._element])}_getPopperConfig(a){const h={placement:a,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:g=>{this._getTipElement().setAttribute("data-popper-placement",g.state.placement)}}]};return{...h,...y(this._config.popperConfig,[h])}}_setListeners(){const a=this._config.trigger.split(" ");for(const h of a)if(h==="click")x.on(this._element,this.constructor.eventName("click"),this._config.selector,g=>{this._initializeOnDelegatedTarget(g).toggle()});else if(h!=="manual"){const g=h===wu?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),S=h===wu?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");x.on(this._element,g,this._config.selector,T=>{const A=this._initializeOnDelegatedTarget(T);A._activeTrigger[T.type==="focusin"?py:wu]=!0,A._enter()}),x.on(this._element,S,this._config.selector,T=>{const A=this._initializeOnDelegatedTarget(T);A._activeTrigger[T.type==="focusout"?py:wu]=A._element.contains(T.relatedTarget),A._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},x.on(this._element.closest(dy),fy,this._hideModalHandler)}_fixTitle(){const a=this._element.getAttribute("title");a&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",a),this._element.setAttribute("data-bs-original-title",a),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(a,h){clearTimeout(this._timeout),this._timeout=setTimeout(a,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(a){const h=pt.getDataAttributes(this._element);for(const g of Object.keys(h))GI.has(g)&&delete h[g];return a={...h,...typeof a=="object"&&a?a:{}},a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a.container=a.container===!1?document.body:u(a.container),typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),typeof a.title=="number"&&(a.title=a.title.toString()),typeof a.content=="number"&&(a.content=a.content.toString()),a}_getDelegateConfig(){const a={};for(const[h,g]of Object.entries(this._config))this.constructor.Default[h]!==g&&(a[h]=g);return a.selector=!1,a.trigger="manual",a}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(a){return this.each(function(){const h=Qi.getOrCreateInstance(this,a);if(typeof a=="string"){if(h[a]===void 0)throw new TypeError(`No method named "${a}"`);h[a]()}})}}p(Qi);const JI={...Qi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ZI={...Qi.DefaultType,content:"(null|string|element|function)"};class _u extends Qi{static get Default(){return JI}static get DefaultType(){return ZI}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(a){return this.each(function(){const h=_u.getOrCreateInstance(this,a);if(typeof a=="string"){if(h[a]===void 0)throw new TypeError(`No method named "${a}"`);h[a]()}})}}p(_u);const my="click.bs.scrollspy",ca="active",gy="[href]",ek={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},tk={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ha extends ot{constructor(a,h){super(a,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ek}static get DefaultType(){return tk}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const a of this._observableSections.values())this._observer.observe(a)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(a){return a.target=u(a.target)||document.body,a.rootMargin=a.offset?`${a.offset}px 0px -30%`:a.rootMargin,typeof a.threshold=="string"&&(a.threshold=a.threshold.split(",").map(h=>Number.parseFloat(h))),a}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(x.off(this._config.target,my),x.on(this._config.target,my,gy,a=>{const h=this._observableSections.get(a.target.hash);if(h){a.preventDefault();const g=this._rootElement||window,S=h.offsetTop-this._element.offsetTop;if(g.scrollTo)return void g.scrollTo({top:S,behavior:"smooth"});g.scrollTop=S}}))}_getNewObserver(){const a={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(h=>this._observerCallback(h),a)}_observerCallback(a){const h=A=>this._targetLinks.get(`#${A.target.id}`),g=A=>{this._previousScrollData.visibleEntryTop=A.target.offsetTop,this._process(h(A))},S=(this._rootElement||document.documentElement).scrollTop,T=S>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=S;for(const A of a){if(!A.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(A));continue}const R=A.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(T&&R){if(g(A),!S)return}else T||R||g(A)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const a=te.find(gy,this._config.target);for(const h of a){if(!h.hash||d(h))continue;const g=te.findOne(h.hash,this._element);c(g)&&(this._targetLinks.set(h.hash,h),this._observableSections.set(h.hash,g))}}_process(a){this._activeTarget!==a&&(this._clearActiveClass(this._config.target),this._activeTarget=a,a.classList.add(ca),this._activateParents(a),x.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:a}))}_activateParents(a){if(a.classList.contains("dropdown-item"))te.findOne(".dropdown-toggle",a.closest(".dropdown")).classList.add(ca);else for(const h of te.parents(a,".nav, .list-group"))for(const g of te.prev(h,".nav-link, .nav-item > .nav-link, .list-group-item"))g.classList.add(ca)}_clearActiveClass(a){a.classList.remove(ca);const h=te.find("[href].active",a);for(const g of h)g.classList.remove(ca)}static jQueryInterface(a){return this.each(function(){const h=ha.getOrCreateInstance(this,a);if(typeof a=="string"){if(h[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);h[a]()}})}}x.on(window,"load.bs.scrollspy.data-api",()=>{for(const f of te.find('[data-bs-spy="scroll"]'))ha.getOrCreateInstance(f)}),p(ha);const nk="ArrowLeft",vy="ArrowRight",rk="ArrowUp",yy="ArrowDown",Eu="active",wy="fade",Pd="show",_y='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Od=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${_y}`;class Yi extends ot{constructor(a){super(a),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),x.on(this._element,"keydown.bs.tab",h=>this._keydown(h)))}static get NAME(){return"tab"}show(){const a=this._element;if(this._elemIsActive(a))return;const h=this._getActiveElem(),g=h?x.trigger(h,"hide.bs.tab",{relatedTarget:a}):null;x.trigger(a,"show.bs.tab",{relatedTarget:h}).defaultPrevented||g&&g.defaultPrevented||(this._deactivate(h,a),this._activate(a,h))}_activate(a,h){a&&(a.classList.add(Eu),this._activate(te.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.removeAttribute("tabindex"),a.setAttribute("aria-selected",!0),this._toggleDropDown(a,!0),x.trigger(a,"shown.bs.tab",{relatedTarget:h})):a.classList.add(Pd)},a,a.classList.contains(wy)))}_deactivate(a,h){a&&(a.classList.remove(Eu),a.blur(),this._deactivate(te.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.setAttribute("aria-selected",!1),a.setAttribute("tabindex","-1"),this._toggleDropDown(a,!1),x.trigger(a,"hidden.bs.tab",{relatedTarget:h})):a.classList.remove(Pd)},a,a.classList.contains(wy)))}_keydown(a){if(![nk,vy,rk,yy].includes(a.key))return;a.stopPropagation(),a.preventDefault();const h=[vy,yy].includes(a.key),g=k(this._getChildren().filter(S=>!d(S)),a.target,h,!0);g&&(g.focus({preventScroll:!0}),Yi.getOrCreateInstance(g).show())}_getChildren(){return te.find(Od,this._parent)}_getActiveElem(){return this._getChildren().find(a=>this._elemIsActive(a))||null}_setInitialAttributes(a,h){this._setAttributeIfNotExists(a,"role","tablist");for(const g of h)this._setInitialAttributesOnChild(g)}_setInitialAttributesOnChild(a){a=this._getInnerElement(a);const h=this._elemIsActive(a),g=this._getOuterElement(a);a.setAttribute("aria-selected",h),g!==a&&this._setAttributeIfNotExists(g,"role","presentation"),h||a.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(a,"role","tab"),this._setInitialAttributesOnTargetPanel(a)}_setInitialAttributesOnTargetPanel(a){const h=te.getElementFromSelector(a);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),a.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${a.id}`))}_toggleDropDown(a,h){const g=this._getOuterElement(a);if(!g.classList.contains("dropdown"))return;const S=(T,A)=>{const R=te.findOne(T,g);R&&R.classList.toggle(A,h)};S(".dropdown-toggle",Eu),S(".dropdown-menu",Pd),g.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(a,h,g){a.hasAttribute(h)||a.setAttribute(h,g)}_elemIsActive(a){return a.classList.contains(Eu)}_getInnerElement(a){return a.matches(Od)?a:te.findOne(Od,a)}_getOuterElement(a){return a.closest(".nav-item, .list-group-item")||a}static jQueryInterface(a){return this.each(function(){const h=Yi.getOrCreateInstance(this);if(typeof a=="string"){if(h[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);h[a]()}})}}x.on(document,"click.bs.tab",_y,function(f){["A","AREA"].includes(this.tagName)&&f.preventDefault(),d(this)||Yi.getOrCreateInstance(this).show()}),x.on(window,"load.bs.tab",()=>{for(const f of te.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Yi.getOrCreateInstance(f)}),p(Yi);const Ey="hide",Su="show",Tu="showing",ik={animation:"boolean",autohide:"boolean",delay:"number"},sk={animation:!0,autohide:!0,delay:5e3};class da extends ot{constructor(a,h){super(a,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sk}static get DefaultType(){return ik}static get NAME(){return"toast"}show(){x.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ey),E(this._element),this._element.classList.add(Su,Tu),this._queueCallback(()=>{this._element.classList.remove(Tu),x.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(x.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Tu),this._queueCallback(()=>{this._element.classList.add(Ey),this._element.classList.remove(Tu,Su),x.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Su),super.dispose()}isShown(){return this._element.classList.contains(Su)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(a,h){switch(a.type){case"mouseover":case"mouseout":this._hasMouseInteraction=h;break;case"focusin":case"focusout":this._hasKeyboardInteraction=h}if(h)return void this._clearTimeout();const g=a.relatedTarget;this._element===g||this._element.contains(g)||this._maybeScheduleHide()}_setListeners(){x.on(this._element,"mouseover.bs.toast",a=>this._onInteraction(a,!0)),x.on(this._element,"mouseout.bs.toast",a=>this._onInteraction(a,!1)),x.on(this._element,"focusin.bs.toast",a=>this._onInteraction(a,!0)),x.on(this._element,"focusout.bs.toast",a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const h=da.getOrCreateInstance(this,a);if(typeof a=="string"){if(h[a]===void 0)throw new TypeError(`No method named "${a}"`);h[a](this)}})}}return Rs(da),p(da),{Alert:Ui,Button:Un,Carousel:Zr,Collapse:K,Dropdown:zn,Modal:Gi,Offcanvas:kr,Popover:_u,ScrollSpy:ha,Tab:Yi,Toast:da,Tooltip:Qi}})})(A$);Lf.createRoot(document.getElementById("root")).render(_.jsx(Dk.StrictMode,{children:_.jsx(b$,{})}));
